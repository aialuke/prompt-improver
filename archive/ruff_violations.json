[
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 20,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import argparse\nimport asyncio\nfrom dataclasses import dataclass\nfrom datetime import datetime, timedelta\nimport logging\nimport time\nfrom typing import Dict, List, Optional, Tuple\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nfrom scipy import stats\nfrom scipy.stats import norm, ttest_ind\n\n\n",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 15
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `time`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`time` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 19
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 47,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 47,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 47,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats`"
    },
    "location": {
      "column": 19,
      "row": 23
    },
    "message": "`scipy.stats` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from scipy.stats import norm",
          "end_location": {
            "column": 40,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats.ttest_ind`"
    },
    "location": {
      "column": 25,
      "row": 24
    },
    "message": "`scipy.stats.ttest_ind` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `matplotlib.pyplot`"
    },
    "location": {
      "column": 29,
      "row": 25
    },
    "message": "`matplotlib.pyplot` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 26
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 57
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 57
          },
          "location": {
            "column": 22,
            "row": 57
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 57
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 57,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 65
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 31,
            "row": 65
          },
          "location": {
            "column": 26,
            "row": 65
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 26,
      "row": 65
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 65,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 66
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 66
          },
          "location": {
            "column": 21,
            "row": 66
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 66
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 66,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 67
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 67
          },
          "location": {
            "column": 30,
            "row": 67
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 67
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 67,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 59,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "BatchConfig | None",
          "end_location": {
            "column": 59,
            "row": 73
          },
          "location": {
            "column": 38,
            "row": 73
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 73
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 59,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "StatisticalConfig | None",
          "end_location": {
            "column": 59,
            "row": 74
          },
          "location": {
            "column": 32,
            "row": 74
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 74
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 206
          },
          "location": {
            "column": 55,
            "row": 206
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 206
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 207
          },
          "location": {
            "column": 64,
            "row": 207
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 207
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 231
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 231
          },
          "location": {
            "column": 43,
            "row": 231
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 231
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 231,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 281
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 41,
            "row": 281
          },
          "location": {
            "column": 37,
            "row": 281
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 37,
      "row": 281
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 42,
      "row": 290
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"\\n📈 THROUGHPUT CAPACITY:\"",
          "end_location": {
            "column": 42,
            "row": 290
          },
          "location": {
            "column": 15,
            "row": 290
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 15,
      "row": 290
    },
    "message": "f-string without any placeholders",
    "noqa_row": 290,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 47,
      "row": 298
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"\\n🎯 SAMPLE SIZE REQUIREMENTS:\"",
          "end_location": {
            "column": 47,
            "row": 298
          },
          "location": {
            "column": 15,
            "row": 298
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 15,
      "row": 298
    },
    "message": "f-string without any placeholders",
    "noqa_row": 298,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 38,
      "row": 307
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"\\n💡 RECOMMENDATIONS:\"",
          "end_location": {
            "column": 38,
            "row": 307
          },
          "location": {
            "column": 15,
            "row": 307
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 15,
      "row": 307
    },
    "message": "f-string without any placeholders",
    "noqa_row": 307,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 46,
      "row": 313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/batch_capacity_calculator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"\\n⚙️  CURRENT CONFIGURATION:\"",
          "end_location": {
            "column": 46,
            "row": 313
          },
          "location": {
            "column": 15,
            "row": 313
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 15,
      "row": 313
    },
    "message": "f-string without any placeholders",
    "noqa_row": 313,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/docs/archive/refactoring/profile_baseline.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import cProfile\nfrom pathlib import Path\nimport pstats\nimport sys\nimport tempfile\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E701",
    "end_location": {
      "column": 31,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 30,
      "row": 74
    },
    "message": "Multiple statements on one line (colon)",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/multiple-statements-on-one-line-colon"
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 32,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 31,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 46,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 45,
      "row": 74
    },
    "message": "SyntaxError: Simple statements must be separated by newlines or semicolons",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 102,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 101,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 116,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 115,
      "row": 74
    },
    "message": "SyntaxError: Simple statements must be separated by newlines or semicolons",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 128,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 127,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 134,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 133,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 140,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 139,
      "row": 74
    },
    "message": "SyntaxError: Compound statements are not allowed on the same line as simple statements",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 161,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 160,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": null,
    "end_location": {
      "column": 171,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/examples/startup_integration_example.py",
    "fix": null,
    "location": {
      "column": 170,
      "row": 74
    },
    "message": "SyntaxError: Expected a newline after line continuation character",
    "noqa_row": null,
    "url": null
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 28,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from logging.config import fileConfig\n\nfrom alembic import context\nfrom sqlalchemy import engine_from_config, pool\n\n",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 11,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Module level import not at top of file",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from pathlib import Path\nimport sys\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 25,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "Module level import not at top of file",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 30,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Module level import not at top of file",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 46,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlmodel import SQLModel\n\nfrom prompt_improver.database.models import *  # This ensures all models are imported\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 46,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Module level import not at top of file",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "F403",
    "end_location": {
      "column": 46,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/env.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "`from prompt_improver.database.models import *` used; unable to detect undefined names",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/29408fe0f0d5_fix_rule_ids_and_add_missing_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Union\nfrom collections.abc import Sequence",
          "end_location": {
            "column": 35,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import from `collections.abc` instead: `Sequence`",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 79,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/29408fe0f0d5_fix_rule_ids_and_add_missing_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport json\nfrom typing import Sequence, Union\n\nfrom alembic import op\nimport sqlalchemy as sa\nfrom sqlalchemy import Boolean, DateTime, Integer, String, Text, column, table\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 47,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/29408fe0f0d5_fix_rule_ids_and_add_missing_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 47,
            "row": 19
          },
          "location": {
            "column": 16,
            "row": 19
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 19
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 47,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/29408fe0f0d5_fix_rule_ids_and_add_missing_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 47,
            "row": 20
          },
          "location": {
            "column": 16,
            "row": 20
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 20
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 44,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/29408fe0f0d5_fix_rule_ids_and_add_missing_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 44,
            "row": 21
          },
          "location": {
            "column": 13,
            "row": 21
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 13,
      "row": 21
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/7f633f132a88_initial_migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Union\nfrom collections.abc import Sequence",
          "end_location": {
            "column": 35,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import from `collections.abc` instead: `Sequence`",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/7f633f132a88_initial_migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Sequence, Union\n\nfrom alembic import op\nimport sqlalchemy as sa\n\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 47,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/7f633f132a88_initial_migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 47,
            "row": 16
          },
          "location": {
            "column": 16,
            "row": 16
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 16
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 47,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/7f633f132a88_initial_migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 47,
            "row": 17
          },
          "location": {
            "column": 16,
            "row": 17
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 17
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 44,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/7f633f132a88_initial_migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Sequence[str] | None",
          "end_location": {
            "column": 44,
            "row": 18
          },
          "location": {
            "column": 13,
            "row": 18
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 13,
      "row": 18
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 30,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/migrations/versions/seed_initial_rules.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport json\n\nfrom alembic import context, op\nimport sqlalchemy as sa\nfrom sqlalchemy import Boolean, DateTime, Integer, String, Text\nfrom sqlalchemy.sql import column, table\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 39,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/check_performance_regression.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import json\nimport os\nfrom pathlib import Path\nimport sys\nimport time\nfrom typing import Any, Dict, Optional\n\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 4
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 4
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 4,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/check_performance_regression.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/check_performance_regression.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Optional",
          "end_location": {
            "column": 39,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `typing.Dict`"
    },
    "location": {
      "column": 25,
      "row": 9
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/check_performance_regression.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict[str, Any] | None",
          "end_location": {
            "column": 56,
            "row": 20
          },
          "location": {
            "column": 32,
            "row": 20
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 20
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 66,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/check_performance_regression.py",
    "fix": null,
    "location": {
      "column": 56,
      "row": 47
    },
    "message": "`src.prompt_improver.mcp_server.mcp_server` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 15,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport logging\nimport time\nfrom typing import Any, Dict\nfrom unittest.mock import AsyncMock, Mock\n\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 13
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 33,
      "row": 13
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 30
          },
          "location": {
            "column": 55,
            "row": 30
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 30
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 49
          },
          "location": {
            "column": 55,
            "row": 49
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 49
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 139
          },
          "location": {
            "column": 9,
            "row": 139
          }
        }
      ],
      "message": "Remove assignment to unused variable `result2`"
    },
    "location": {
      "column": 9,
      "row": 139
    },
    "message": "Local variable `result2` is assigned to but never used",
    "noqa_row": 139,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 63,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"INSERT INTO users (email, name) VALUES (%s, %s)\"",
          "end_location": {
            "column": 63,
            "row": 186
          },
          "location": {
            "column": 13,
            "row": 186
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 13,
      "row": 186
    },
    "message": "f-string without any placeholders",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 63,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"INSERT INTO users (email, name) VALUES (%s, %s)\"",
          "end_location": {
            "column": 63,
            "row": 199
          },
          "location": {
            "column": 13,
            "row": 199
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 13,
      "row": 199
    },
    "message": "f-string without any placeholders",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 39,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"\\n📊 Performance Analysis:\"",
          "end_location": {
            "column": 39,
            "row": 207
          },
          "location": {
            "column": 11,
            "row": 207
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 11,
      "row": 207
    },
    "message": "f-string without any placeholders",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 79,
      "row": 210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"   - Container startup: ~2-3s one-time cost for entire test suite\"",
          "end_location": {
            "column": 79,
            "row": 210
          },
          "location": {
            "column": 11,
            "row": 210
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 11,
      "row": 210
    },
    "message": "f-string without any placeholders",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 68,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/demo_real_vs_mock_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"   - Real testing catches issues mocks miss: PRICELESS\"",
          "end_location": {
            "column": 68,
            "row": 211
          },
          "location": {
            "column": 11,
            "row": 211
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 11,
      "row": 211
    },
    "message": "f-string without any placeholders",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 23,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/gradual_tightening.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import argparse\nfrom datetime import datetime\nimport json\nfrom pathlib import Path\nimport subprocess\nimport sys\nfrom typing import Any\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 27,
      "row": 252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/gradual_tightening.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 252
    },
    "message": "Undefined name `shutil`",
    "noqa_row": 252,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 23,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/openapi_snapshot.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import argparse\nimport json\nfrom pathlib import Path\nimport sys\nfrom typing import Any\n\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 20,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/openapi_snapshot.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 154
    },
    "message": "`compare_schemas` is too complex (11 > 10)",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 30,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/openapi_snapshot.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 30,
            "row": 295
          },
          "location": {
            "column": 12,
            "row": 295
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 12,
      "row": 295
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/setup_precommit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from pathlib import Path\nimport shutil\nimport subprocess\nimport sys\n\n\n",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 4
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 4
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 4,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 15,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/setup_precommit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 18,
            "row": 31
          },
          "location": {
            "column": 9,
            "row": 31
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 9,
      "row": 31
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP036",
    "end_location": {
      "column": 34,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/setup_precommit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 58
          },
          "location": {
            "column": 1,
            "row": 55
          }
        }
      ],
      "message": "Remove outdated version block"
    },
    "location": {
      "column": 8,
      "row": 55
    },
    "message": "Version block is outdated for minimum Python version",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/outdated-version-block"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 3
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/update_roadmap.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import json\nfrom pathlib import Path\n\nfrom git import Repo\n\n",
          "end_location": {
            "column": 1,
            "row": 5
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP015",
    "end_location": {
      "column": 34,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/update_roadmap.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 34,
            "row": 10
          },
          "location": {
            "column": 29,
            "row": 10
          }
        }
      ],
      "message": "Remove mode argument"
    },
    "location": {
      "column": 31,
      "row": 10
    },
    "message": "Unnecessary mode argument",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/redundant-open-modes"
  },
  {
    "cell": null,
    "code": "UP015",
    "end_location": {
      "column": 31,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/update_roadmap.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 34
          },
          "location": {
            "column": 26,
            "row": 34
          }
        }
      ],
      "message": "Remove mode argument"
    },
    "location": {
      "column": 28,
      "row": 34
    },
    "message": "Unnecessary mode argument",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/redundant-open-modes"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 30,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/validate_mcp_protocol.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 30,
            "row": 24
          },
          "location": {
            "column": 12,
            "row": 24
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 12,
      "row": 24
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 18,
      "row": 136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/validate_ml_contracts.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 136
    },
    "message": "`validate_file` is too complex (12 > 10)",
    "noqa_row": 136,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 30,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/scripts/validate_ml_contracts.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 30,
            "row": 170
          },
          "location": {
            "column": 12,
            "row": 170
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 12,
      "row": 170
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 48,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .dependency_parser import DependencyParser\nfrom .linguistic_analyzer import LinguisticAnalyzer\nfrom .ner_extractor import NERExtractor\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 27,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import Counter, defaultdict\nfrom dataclasses import dataclass\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Set, Tuple\n\nimport nltk\nfrom nltk import pos_tag, sent_tokenize, word_tokenize\nfrom nltk.chunk import RegexpParser\nfrom nltk.tree import Tree\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `re`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`re` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Tuple, Any",
          "end_location": {
            "column": 57,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 11
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Tuple, Any",
          "end_location": {
            "column": 57,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 42,
      "row": 11
    },
    "message": "`typing.Set` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import defaultdict",
          "end_location": {
            "column": 45,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `collections.Counter`"
    },
    "location": {
      "column": 38,
      "row": 13
    },
    "message": "`collections.Counter` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `nltk`"
    },
    "location": {
      "column": 8,
      "row": 15
    },
    "message": "`nltk` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 39,
            "row": 137
          },
          "location": {
            "column": 35,
            "row": 137
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 35,
      "row": 137
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 137
          },
          "location": {
            "column": 40,
            "row": 137
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 137
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 163
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 163
          },
          "location": {
            "column": 64,
            "row": 163
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 163
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 163,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 163
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 163
          },
          "location": {
            "column": 69,
            "row": 163
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 163
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 163,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 19,
      "row": 204
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 204
    },
    "message": "`_find_head` is too complex (19 > 10)",
    "noqa_row": 204,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 204
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 204
          },
          "location": {
            "column": 36,
            "row": 204
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 204
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 204,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 204
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 46,
            "row": 204
          },
          "location": {
            "column": 41,
            "row": 204
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 41,
      "row": 204
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 204,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_t",
          "end_location": {
            "column": 22,
            "row": 211
          },
          "location": {
            "column": 21,
            "row": 211
          }
        }
      ],
      "message": "Rename unused `t` to `_t`"
    },
    "location": {
      "column": 21,
      "row": 211
    },
    "message": "Loop control variable `t` not used within loop body",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 233
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_t",
          "end_location": {
            "column": 22,
            "row": 233
          },
          "location": {
            "column": 21,
            "row": 233
          }
        }
      ],
      "message": "Rename unused `t` to `_t`"
    },
    "location": {
      "column": 21,
      "row": 233
    },
    "message": "Loop control variable `t` not used within loop body",
    "noqa_row": 233,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 247
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_t",
          "end_location": {
            "column": 22,
            "row": 247
          },
          "location": {
            "column": 21,
            "row": 247
          }
        }
      ],
      "message": "Rename unused `t` to `_t`"
    },
    "location": {
      "column": 21,
      "row": 247
    },
    "message": "Loop control variable `t` not used within loop body",
    "noqa_row": 247,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 28,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 254
    },
    "message": "`_determine_relation` is too complex (11 > 10)",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 49,
            "row": 254
          },
          "location": {
            "column": 45,
            "row": 254
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 45,
      "row": 254
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 55,
            "row": 254
          },
          "location": {
            "column": 50,
            "row": 254
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 50,
      "row": 254
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM114",
    "end_location": {
      "column": 28,
      "row": 278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": " or dep_pos.startswith('RB') and head_pos.startswith('JJ')",
          "end_location": {
            "column": 68,
            "row": 274
          },
          "location": {
            "column": 68,
            "row": 274
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 279
          },
          "location": {
            "column": 1,
            "row": 276
          }
        }
      ],
      "message": "Combine `if` branches"
    },
    "location": {
      "column": 9,
      "row": 274
    },
    "message": "Combine `if` branches using logical `or` operator",
    "noqa_row": 274,
    "url": "https://docs.astral.sh/ruff/rules/if-with-same-arms"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 295
          },
          "location": {
            "column": 73,
            "row": 295
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 295
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 295
          },
          "location": {
            "column": 78,
            "row": 295
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 295
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 375
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 375
          },
          "location": {
            "column": 46,
            "row": 375
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 375
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 375,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 375
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 56,
            "row": 375
          },
          "location": {
            "column": 51,
            "row": 375
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 51,
      "row": 375
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 375,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 414
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 414
          },
          "location": {
            "column": 58,
            "row": 414
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 414
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 414,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 443
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_token",
          "end_location": {
            "column": 26,
            "row": 443
          },
          "location": {
            "column": 21,
            "row": 443
          }
        }
      ],
      "message": "Rename unused `token` to `_token`"
    },
    "location": {
      "column": 21,
      "row": 443
    },
    "message": "Loop control variable `token` not used within loop body",
    "noqa_row": 443,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 475
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 475
          },
          "location": {
            "column": 63,
            "row": 475
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 475
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 475,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 475
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/dependency_parser.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 475
          },
          "location": {
            "column": 68,
            "row": 475
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 475
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 475,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 15,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom enum import Enum\nfrom functools import lru_cache\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Set, Tuple\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Set, Tuple",
          "end_location": {
            "column": 57,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 13
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Set, Tuple",
          "end_location": {
            "column": 57,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 54,
      "row": 13
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 46,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import spacy\n    from spacy.lang.en import English\n    from spacy.language import Language\n    from spacy.matcher import Matcher, PhraseMatcher\n    from spacy.tokens import Doc, Span, Token\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 81
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 30,
            "row": 81
          },
          "location": {
            "column": 27,
            "row": 81
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 27,
      "row": 81
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 81,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 22,
            "row": 91
          },
          "location": {
            "column": 19,
            "row": 91
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 19,
      "row": 91
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 15,
            "row": 99
          },
          "location": {
            "column": 12,
            "row": 99
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 12,
      "row": 99
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 99,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 108
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 25,
            "row": 108
          },
          "location": {
            "column": 22,
            "row": 108
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 22,
      "row": 108
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 108,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 26,
            "row": 117
          },
          "location": {
            "column": 23,
            "row": 117
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 23,
      "row": 117
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 26,
            "row": 125
          },
          "location": {
            "column": 23,
            "row": 125
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 23,
      "row": 125
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 134
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 18,
            "row": 134
          },
          "location": {
            "column": 15,
            "row": 134
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 15,
      "row": 134
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 134,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B033",
    "end_location": {
      "column": 38,
      "row": 139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 40,
            "row": 139
          },
          "location": {
            "column": 25,
            "row": 139
          }
        }
      ],
      "message": "Remove duplicate item"
    },
    "location": {
      "column": 25,
      "row": 139
    },
    "message": "Sets should not contain duplicate item `\"methodology\"`",
    "noqa_row": 139,
    "url": "https://docs.astral.sh/ruff/rules/duplicate-value"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 143
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 19,
            "row": 143
          },
          "location": {
            "column": 16,
            "row": 143
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 16,
      "row": 143
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 143,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 27,
            "row": 152
          },
          "location": {
            "column": 24,
            "row": 152
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 24,
      "row": 152
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 17,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 17,
            "row": 161
          },
          "location": {
            "column": 14,
            "row": 161
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 14,
      "row": 161
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 15,
            "row": 170
          },
          "location": {
            "column": 12,
            "row": 170
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 12,
      "row": 170
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 185
          },
          "location": {
            "column": 24,
            "row": 185
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 185
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 34,
            "row": 185
          },
          "location": {
            "column": 29,
            "row": 185
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 29,
      "row": 185
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 186
          },
          "location": {
            "column": 28,
            "row": 186
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 186
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 42,
            "row": 186
          },
          "location": {
            "column": 38,
            "row": 186
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 38,
      "row": 186
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 66,
      "row": 251
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 250
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 250,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 341
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 46,
            "row": 341
          },
          "location": {
            "column": 43,
            "row": 341
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 43,
      "row": 341
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 341,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B019",
    "end_location": {
      "column": 29,
      "row": 351
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 351
    },
    "message": "Use of `functools.lru_cache` or `functools.cache` on methods can lead to memory leaks",
    "noqa_row": 351,
    "url": "https://docs.astral.sh/ruff/rules/cached-instance-method"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 22,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 352
    },
    "message": "`detect_domain` is too complex (14 > 10)",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 461
          },
          "location": {
            "column": 74,
            "row": 461
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 461
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 479
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 479
          },
          "location": {
            "column": 60,
            "row": 479
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 479
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 479,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 495
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 63,
            "row": 495
          },
          "location": {
            "column": 60,
            "row": 495
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 60,
      "row": 495
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 495,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 518
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_detector.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 70,
            "row": 518
          },
          "location": {
            "column": 67,
            "row": 518
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 67,
      "row": 518
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 518,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 12,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from abc import ABC, abstractmethod\nimport asyncio\nfrom dataclasses import dataclass, field\nfrom functools import lru_cache\nimport json\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Set, Tuple, Union\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 64,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 64,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 64,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 64,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Tuple, Any",
          "end_location": {
            "column": 64,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 14
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Tuple, Any",
          "end_location": {
            "column": 64,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 42,
      "row": 14
    },
    "message": "`typing.Set` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 64,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Tuple, Any",
          "end_location": {
            "column": 64,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 59,
      "row": 14
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 15
    },
    "message": "`json` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 86,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .domain_detector import DomainClassificationResult, DomainDetector, PromptDomain\n\n\n",
          "end_location": {
            "column": 1,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 33
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 47
          },
          "location": {
            "column": 24,
            "row": 47
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 47
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 34,
            "row": 47
          },
          "location": {
            "column": 29,
            "row": 47
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 29,
      "row": 47
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 51
          },
          "location": {
            "column": 25,
            "row": 51
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 51
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 52
          },
          "location": {
            "column": 24,
            "row": 52
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 52
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 53
          },
          "location": {
            "column": 24,
            "row": 53
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 53
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 54
          },
          "location": {
            "column": 24,
            "row": 54
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 54
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 55
          },
          "location": {
            "column": 30,
            "row": 55
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 55
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 58
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 58
          },
          "location": {
            "column": 21,
            "row": 58
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 58
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 58,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 59
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 59
          },
          "location": {
            "column": 20,
            "row": 59
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 59
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 59,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 70
          },
          "location": {
            "column": 89,
            "row": 70
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 70
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 75
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 75
          },
          "location": {
            "column": 36,
            "row": 75
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 75
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 75,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 140
          },
          "location": {
            "column": 89,
            "row": 140
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 140
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 106,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 106,
            "row": 165
          },
          "location": {
            "column": 102,
            "row": 165
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 102,
      "row": 165
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 165,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 167
          },
          "location": {
            "column": 9,
            "row": 167
          }
        }
      ],
      "message": "Remove assignment to unused variable `text_lower`"
    },
    "location": {
      "column": 9,
      "row": 167
    },
    "message": "Local variable `text_lower` is assigned to but never used",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 190
          },
          "location": {
            "column": 62,
            "row": 190
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 190
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 211
          },
          "location": {
            "column": 61,
            "row": 211
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 211
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 237
          },
          "location": {
            "column": 36,
            "row": 237
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 237
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 237,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM118",
    "end_location": {
      "column": 45,
      "row": 242
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 45,
            "row": 242
          },
          "location": {
            "column": 38,
            "row": 242
          }
        }
      ],
      "message": "Remove `.keys()`"
    },
    "location": {
      "column": 13,
      "row": 242
    },
    "message": "Use `key in dict` instead of `key in dict.keys()`",
    "noqa_row": 242,
    "url": "https://docs.astral.sh/ruff/rules/in-dict-keys"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 321
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 321
          },
          "location": {
            "column": 89,
            "row": 321
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 321
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 321,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 345
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 345
          },
          "location": {
            "column": 56,
            "row": 345
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 345
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 345,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 378
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 378
          },
          "location": {
            "column": 58,
            "row": 378
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 378
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 378,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 402
          },
          "location": {
            "column": 53,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 437
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 437
          },
          "location": {
            "column": 36,
            "row": 437
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 437
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 437,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM118",
    "end_location": {
      "column": 45,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 45,
            "row": 442
          },
          "location": {
            "column": 38,
            "row": 442
          }
        }
      ],
      "message": "Remove `.keys()`"
    },
    "location": {
      "column": 13,
      "row": 442
    },
    "message": "Use `key in dict` instead of `key in dict.keys()`",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/in-dict-keys"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 518
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 518
          },
          "location": {
            "column": 89,
            "row": 518
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 518
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 518,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 542
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 542
          },
          "location": {
            "column": 53,
            "row": 542
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 542
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 542,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 573
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 573
          },
          "location": {
            "column": 50,
            "row": 573
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 573
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 573,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 607
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 607
          },
          "location": {
            "column": 63,
            "row": 607
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 607
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 607,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 637
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 637
          },
          "location": {
            "column": 36,
            "row": 637
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 637
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 637,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM118",
    "end_location": {
      "column": 45,
      "row": 642
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 45,
            "row": 642
          },
          "location": {
            "column": 38,
            "row": 642
          }
        }
      ],
      "message": "Remove `.keys()`"
    },
    "location": {
      "column": 13,
      "row": 642
    },
    "message": "Use `key in dict` instead of `key in dict.keys()`",
    "noqa_row": 642,
    "url": "https://docs.astral.sh/ruff/rules/in-dict-keys"
  },
  {
    "cell": null,
    "code": "B019",
    "end_location": {
      "column": 28,
      "row": 695
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 695
    },
    "message": "Use of `functools.lru_cache` or `functools.cache` on methods can lead to memory leaks",
    "noqa_row": 695,
    "url": "https://docs.astral.sh/ruff/rules/cached-instance-method"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 780
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 780
          },
          "location": {
            "column": 62,
            "row": 780
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 780
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 780,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 829
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 72,
            "row": 829
          },
          "location": {
            "column": 67,
            "row": 829
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 67,
      "row": 829
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 829,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 829
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 829
          },
          "location": {
            "column": 73,
            "row": 829
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 829
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 829,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 829
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 829
          },
          "location": {
            "column": 86,
            "row": 829
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 829
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 829,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 88,
      "row": 848
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float | bool",
          "end_location": {
            "column": 87,
            "row": 848
          },
          "location": {
            "column": 69,
            "row": 848
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 51,
      "row": 848
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 848,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 88,
      "row": 853
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float | bool",
          "end_location": {
            "column": 87,
            "row": 853
          },
          "location": {
            "column": 69,
            "row": 853
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 51,
      "row": 853
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 853,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 88,
      "row": 858
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float | bool",
          "end_location": {
            "column": 87,
            "row": 858
          },
          "location": {
            "column": 69,
            "row": 858
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 51,
      "row": 858
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 858,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 88,
      "row": 863
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float | bool",
          "end_location": {
            "column": 87,
            "row": 863
          },
          "location": {
            "column": 69,
            "row": 863
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 51,
      "row": 863
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 863,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 873
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 873
          },
          "location": {
            "column": 40,
            "row": 873
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 873
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 873,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 896
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 896
          },
          "location": {
            "column": 92,
            "row": 896
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 896
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 896,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 84,
      "row": 932
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/domain_feature_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"Include domain-specific examples or use cases\"",
          "end_location": {
            "column": 84,
            "row": 932
          },
          "location": {
            "column": 36,
            "row": 932
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 36,
      "row": 932
    },
    "message": "f-string without any placeholders",
    "noqa_row": 932,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom concurrent.futures import ThreadPoolExecutor\nfrom dataclasses import dataclass, field\nfrom functools import lru_cache\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Set, Tuple\n\nimport nltk\nimport textstat\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Set, Any",
          "end_location": {
            "column": 57,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `typing.Tuple`"
    },
    "location": {
      "column": 47,
      "row": 13
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 96,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from transformers import (\n        AutoModelForTokenClassification,\n        AutoTokenizer,\n        pipeline,\n        set_seed,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 22
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..utils.model_manager import (\n    ModelConfig,\n    ModelManager,\n    get_lightweight_ner_pipeline,\n    get_memory_optimized_config,\n    get_ultra_lightweight_ner_pipeline,\n)\nfrom ..utils.nltk_manager import get_nltk_manager, setup_nltk_for_production\nfrom .dependency_parser import DependencyParser\nfrom .ner_extractor import NERExtractor\n\n\n",
          "end_location": {
            "column": 1,
            "row": 40
          },
          "location": {
            "column": 1,
            "row": 31
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 31
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 77,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.nltk_manager import get_nltk_manager, setup_nltk_for_production",
          "end_location": {
            "column": 77,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 33
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 77,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.nltk_manager import get_nltk_manager, setup_nltk_for_production",
          "end_location": {
            "column": 77,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 33
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 77,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..utils.nltk_manager import get_nltk_manager",
          "end_location": {
            "column": 77,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Remove unused import: `..utils.nltk_manager.setup_nltk_for_production`"
    },
    "location": {
      "column": 52,
      "row": 33
    },
    "message": "`..utils.nltk_manager.setup_nltk_for_production` imported but unused",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager, ModelConfig, get_lightweight_ner_pipeline, get_ultra_lightweight_ner_pipeline, get_memory_optimized_config",
          "end_location": {
            "column": 2,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager, ModelConfig, get_lightweight_ner_pipeline, get_ultra_lightweight_ner_pipeline, get_memory_optimized_config",
          "end_location": {
            "column": 2,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager, ModelConfig, get_lightweight_ner_pipeline, get_ultra_lightweight_ner_pipeline, get_memory_optimized_config",
          "end_location": {
            "column": 2,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager, ModelConfig, get_lightweight_ner_pipeline, get_ultra_lightweight_ner_pipeline, get_memory_optimized_config",
          "end_location": {
            "column": 2,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager, ModelConfig, get_lightweight_ner_pipeline, get_ultra_lightweight_ner_pipeline, get_memory_optimized_config",
          "end_location": {
            "column": 2,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 28,
            "row": 77
          },
          "location": {
            "column": 25,
            "row": 77
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 25,
      "row": 77
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 89
          },
          "location": {
            "column": 15,
            "row": 89
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 89
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 24,
            "row": 89
          },
          "location": {
            "column": 20,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 20,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 22,
            "row": 90
          },
          "location": {
            "column": 19,
            "row": 90
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 19,
      "row": 90
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 92
          },
          "location": {
            "column": 22,
            "row": 92
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 92
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 92,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 95
          },
          "location": {
            "column": 19,
            "row": 95
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 95
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 95
          },
          "location": {
            "column": 24,
            "row": 95
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 95
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "LinguisticConfig | None",
          "end_location": {
            "column": 58,
            "row": 127
          },
          "location": {
            "column": 32,
            "row": 127
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 127
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 127,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 28,
      "row": 287
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 287
    },
    "message": "`analyze_async` is too complex (12 > 10)",
    "noqa_row": 287,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 354
          },
          "location": {
            "column": 53,
            "row": 354
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 354
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 402
          },
          "location": {
            "column": 57,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 426
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 426
          },
          "location": {
            "column": 56,
            "row": 426
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 426
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 426,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 462
          },
          "location": {
            "column": 55,
            "row": 462
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 462
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 486
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 486
          },
          "location": {
            "column": 61,
            "row": 486
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 486
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 486,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 541
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 541
          },
          "location": {
            "column": 54,
            "row": 541
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 541
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 541,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 546
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 65,
            "row": 546
          },
          "location": {
            "column": 61,
            "row": 546
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 61,
      "row": 546
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 546,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 546
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 546
          },
          "location": {
            "column": 66,
            "row": 546
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 546
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 546,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 73,
      "row": 552
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 25,
            "row": 552
          },
          "location": {
            "column": 21,
            "row": 552
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 73,
            "row": 552
          },
          "location": {
            "column": 72,
            "row": 552
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 21,
      "row": 552
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 561
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 561
          },
          "location": {
            "column": 56,
            "row": 561
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 561
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 561,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 561
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 561
          },
          "location": {
            "column": 61,
            "row": 561
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 561
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 561,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B019",
    "end_location": {
      "column": 29,
      "row": 672
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 672
    },
    "message": "Use of `functools.lru_cache` or `functools.cache` on methods can lead to memory leaks",
    "noqa_row": 672,
    "url": "https://docs.astral.sh/ruff/rules/cached-instance-method"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 698
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 698
          },
          "location": {
            "column": 35,
            "row": 698
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 698
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 698,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 721
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 718
    },
    "message": "Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`",
    "noqa_row": 718,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 720
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 720
    },
    "message": "Do not use bare `except`",
    "noqa_row": 720,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 17,
      "row": 721
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 720
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 720,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 32,
      "row": 803
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/linguistic_analyzer.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 803
    },
    "message": "Redefinition of unused `get_memory_optimized_config` from line 36",
    "noqa_row": 803,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 27,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Set, Tuple\n\nimport nltk\nfrom nltk import ne_chunk, pos_tag, word_tokenize\nfrom nltk.tree import Tree\n\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Set, Any",
          "end_location": {
            "column": 57,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `typing.Tuple`"
    },
    "location": {
      "column": 47,
      "row": 10
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `nltk`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`nltk` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 27,
            "row": 26
          },
          "location": {
            "column": 14,
            "row": 26
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 26
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 80,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 80,
            "row": 40
          },
          "location": {
            "column": 67,
            "row": 40
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 67,
      "row": 40
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 98
          },
          "location": {
            "column": 46,
            "row": 98
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 98
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 98
          },
          "location": {
            "column": 51,
            "row": 98
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 98
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 134
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 134
          },
          "location": {
            "column": 52,
            "row": 134
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 134
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 134,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 134
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 134
          },
          "location": {
            "column": 57,
            "row": 134
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 134
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 134,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 179
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 179
          },
          "location": {
            "column": 57,
            "row": 179
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 179
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 179,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 179
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 179
          },
          "location": {
            "column": 62,
            "row": 179
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 179
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 179,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 186
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 197
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 197
          },
          "location": {
            "column": 54,
            "row": 197
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 197
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 197,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 197
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 63,
            "row": 197
          },
          "location": {
            "column": 59,
            "row": 197
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 59,
      "row": 197
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 197,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 209
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 231
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 224
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 235
          },
          "location": {
            "column": 47,
            "row": 235
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 235
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 235
          },
          "location": {
            "column": 52,
            "row": 235
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 235
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 76,
            "row": 235
          },
          "location": {
            "column": 72,
            "row": 235
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 72,
      "row": 235
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 235
          },
          "location": {
            "column": 77,
            "row": 235
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 235
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 262
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 262
          },
          "location": {
            "column": 42,
            "row": 262
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 262
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 262,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 262
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 262
          },
          "location": {
            "column": 67,
            "row": 262
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 262
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 262,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 269
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Set[str] | None",
          "end_location": {
            "column": 85,
            "row": 269
          },
          "location": {
            "column": 67,
            "row": 269
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 67,
      "row": 269
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 269,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 269
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 79,
            "row": 269
          },
          "location": {
            "column": 76,
            "row": 269
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 76,
      "row": 269
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 269,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 101,
      "row": 269
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 101,
            "row": 269
          },
          "location": {
            "column": 97,
            "row": 269
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 97,
      "row": 269
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 269,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 327
          },
          "location": {
            "column": 53,
            "row": 327
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 327
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 327
          },
          "location": {
            "column": 58,
            "row": 327
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 327
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/analysis/ner_extractor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 327
          },
          "location": {
            "column": 78,
            "row": 327
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 327
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 50,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from fastapi import APIRouter\n\nfrom .apriori_endpoints import apriori_router\nfrom .real_time_endpoints import real_time_router\n\n",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 50,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport logging\nfrom typing import Annotated, Any, Dict, List, Optional\nimport uuid\n\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database import DBSession\nfrom ..database.connection import DatabaseManager\nfrom ..database.models import (\n    AprioriAnalysisRequest,\n    AprioriAnalysisResponse,\n    AprioriAssociationRule,\n    AprioriPatternDiscovery,\n    PatternDiscoveryRequest,\n    PatternDiscoveryResponse,\n)\nfrom ..services.advanced_pattern_discovery import AdvancedPatternDiscovery\nfrom ..services.apriori_analyzer import AprioriAnalyzer, AprioriConfig\nfrom ..services.ml_integration import MLModelService, get_ml_service\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 15
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 33,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import DBSession",
          "end_location": {
            "column": 33,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AprioriAnalysisRequest, AprioriAnalysisResponse, AprioriAssociationRule, AprioriPatternDiscovery, PatternDiscoveryRequest, PatternDiscoveryResponse",
          "end_location": {
            "column": 2,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 71,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.apriori_analyzer import AprioriAnalyzer, AprioriConfig",
          "end_location": {
            "column": 71,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 71,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.apriori_analyzer import AprioriAnalyzer, AprioriConfig",
          "end_location": {
            "column": 71,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ml_integration import get_ml_service, MLModelService",
          "end_location": {
            "column": 69,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 27
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ml_integration import get_ml_service, MLModelService",
          "end_location": {
            "column": 69,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 27
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 75,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.advanced_pattern_discovery import AdvancedPatternDiscovery",
          "end_location": {
            "column": 75,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 28
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 28
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseManager",
          "end_location": {
            "column": 50,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 29
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 29
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 141
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 138
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 214
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 211
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 217
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 217
          },
          "location": {
            "column": 46,
            "row": 217
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 217
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 217,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 217
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 217
          },
          "location": {
            "column": 51,
            "row": 217
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 217
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 217,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 36,
            "row": 222
          },
          "location": {
            "column": 23,
            "row": 222
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 222
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 224
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 10,
            "row": 224
          },
          "location": {
            "column": 6,
            "row": 224
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 6,
      "row": 224
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 224
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 15,
            "row": 224
          },
          "location": {
            "column": 11,
            "row": 224
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 11,
      "row": 224
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 44,
      "row": 239
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from sqlalchemy import and_, select\n",
          "end_location": {
            "column": 1,
            "row": 240
          },
          "location": {
            "column": 1,
            "row": 239
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 239
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 239,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 283
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 283,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 291
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 291
          },
          "location": {
            "column": 20,
            "row": 291
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 291
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 291,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 10,
            "row": 295
          },
          "location": {
            "column": 6,
            "row": 295
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 6,
      "row": 295
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 336
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 333
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 333,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 339
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 339
          },
          "location": {
            "column": 55,
            "row": 339
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 339
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 339,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 339
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 339
          },
          "location": {
            "column": 60,
            "row": 339
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 339
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 339,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 343
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 33,
            "row": 343
          },
          "location": {
            "column": 20,
            "row": 343
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 343
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 343,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 10,
            "row": 344
          },
          "location": {
            "column": 6,
            "row": 344
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 6,
      "row": 344
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 15,
            "row": 344
          },
          "location": {
            "column": 11,
            "row": 344
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 11,
      "row": 344
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 394
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 394,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 404
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 10,
            "row": 404
          },
          "location": {
            "column": 6,
            "row": 404
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 6,
      "row": 404
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 404,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 484
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 481
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 481,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 493
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 18,
            "row": 493
          },
          "location": {
            "column": 14,
            "row": 493
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 14,
      "row": 493
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 493,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 525
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 18,
            "row": 525
          },
          "location": {
            "column": 14,
            "row": 525
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 14,
      "row": 525
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 525,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 61,
      "row": 529
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/apriori_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import AdvancedPatternResults",
          "end_location": {
            "column": 61,
            "row": 529
          },
          "location": {
            "column": 9,
            "row": 529
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 529
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 529,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 28,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport logging\nfrom typing import Annotated, Any, Dict, List, Optional\n\nfrom fastapi import (\n    APIRouter,\n    Depends,\n    HTTPException,\n    WebSocket,\n    WebSocketDisconnect,\n    status,\n)\nfrom fastapi.responses import JSONResponse\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlmodel import select\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, Optional",
          "end_location": {
            "column": 56,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 41,
      "row": 7
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 56,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, Optional",
          "end_location": {
            "column": 56,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 47,
      "row": 7
    },
    "message": "`typing.Annotated` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 71,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from fastapi import APIRouter, WebSocket, WebSocketDisconnect, HTTPException, status",
          "end_location": {
            "column": 94,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `fastapi.Depends`"
    },
    "location": {
      "column": 64,
      "row": 10
    },
    "message": "`fastapi.Depends` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 12
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import DBSession, get_async_session_factory",
          "end_location": {
            "column": 60,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import DBSession, get_async_session_factory",
          "end_location": {
            "column": 60,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 43,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..database import DBSession, get_async_session_factory\nfrom ..database.models import ABExperiment\nfrom ..services.real_time_analytics import (\n    RealTimeAnalyticsService,\n    get_real_time_analytics_service,\n)\nfrom ..utils.error_handlers import handle_database_errors\nfrom ..utils.websocket_manager import connection_manager, setup_redis_connection\n\n",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 101,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import get_real_time_analytics_service, RealTimeAnalyticsService",
          "end_location": {
            "column": 101,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 101,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import get_real_time_analytics_service, RealTimeAnalyticsService",
          "end_location": {
            "column": 101,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 101,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.real_time_analytics import get_real_time_analytics_service",
          "end_location": {
            "column": 101,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `..services.real_time_analytics.RealTimeAnalyticsService`"
    },
    "location": {
      "column": 77,
      "row": 24
    },
    "message": "`..services.real_time_analytics.RealTimeAnalyticsService` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 81,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.websocket_manager import connection_manager, setup_redis_connection",
          "end_location": {
            "column": 81,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 81,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.websocket_manager import connection_manager, setup_redis_connection",
          "end_location": {
            "column": 81,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 58,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors",
          "end_location": {
            "column": 58,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 58,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `..utils.error_handlers.handle_database_errors`"
    },
    "location": {
      "column": 36,
      "row": 26
    },
    "message": "`..utils.error_handlers.handle_database_errors` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 43,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment",
          "end_location": {
            "column": 43,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 27
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 39
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 27,
            "row": 39
          },
          "location": {
            "column": 14,
            "row": 39
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 39
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 39,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 92
          },
          "location": {
            "column": 87,
            "row": 92
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 92
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 92,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 217
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 214
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 214,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 262
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 259
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 294
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 291
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 291,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 331
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 331,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 10,
      "row": 407
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/api/real_time_endpoints.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 404
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 404,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .callbacks import (\n    AutoMLCallback,\n    ExperimentCallback,\n    ModelSelectionCallback,\n    RealTimeAnalyticsCallback,\n)\nfrom .orchestrator import AutoMLOrchestrator\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 36,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport json\nimport logging\nimport time\nfrom typing import TYPE_CHECKING, Any, Dict, Optional\n\nimport optuna\nfrom optuna.trial import TrialState\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `time`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`time` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 8
    },
    "message": "`json` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 54,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 76,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from ..evaluation.experiment_orchestrator import ExperimentOrchestrator\n    from ..services.real_time_analytics import RealTimeAnalyticsService\n    from .orchestrator import AutoMLOrchestrator\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 72,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import RealTimeAnalyticsService",
          "end_location": {
            "column": 72,
            "row": 17
          },
          "location": {
            "column": 5,
            "row": 17
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 76,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.evaluation.experiment_orchestrator import ExperimentOrchestrator",
          "end_location": {
            "column": 76,
            "row": 18
          },
          "location": {
            "column": 5,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 80,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 80,
            "row": 207
          },
          "location": {
            "column": 65,
            "row": 207
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 65,
      "row": 207
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 69,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 210
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 394
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 394
          },
          "location": {
            "column": 78,
            "row": 394
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 394
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 394,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 415
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 415
          },
          "location": {
            "column": 75,
            "row": 415
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 415
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 415,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 33,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom enum import Enum\nimport logging\nimport time\n\n# Delayed imports to avoid dependency issues at module level\nfrom typing import TYPE_CHECKING, Any, Callable, Dict, List, Optional\n\nimport numpy as np\nimport optuna\nfrom optuna.integration import OptunaSearchCV\nfrom optuna.storages import RDBStorage\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 55,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional\nfrom collections.abc import Callable",
          "end_location": {
            "column": 55,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 55,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 55,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `optuna.integration.OptunaSearchCV`"
    },
    "location": {
      "column": 32,
      "row": 16
    },
    "message": "`optuna.integration.OptunaSearchCV` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 18
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 54,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseManager",
          "end_location": {
            "column": 54,
            "row": 24
          },
          "location": {
            "column": 5,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 51,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from ..database.connection import DatabaseManager\n    from ..evaluation.experiment_orchestrator import ExperimentOrchestrator\n    from ..optimization.rule_optimizer import OptimizationConfig, RuleOptimizer\n    from ..services.real_time_analytics import RealTimeAnalyticsService\n    from ..utils.model_manager import ModelManager\n",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 24
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import RuleOptimizer, OptimizationConfig",
          "end_location": {
            "column": 80,
            "row": 25
          },
          "location": {
            "column": 5,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import RuleOptimizer, OptimizationConfig",
          "end_location": {
            "column": 80,
            "row": 25
          },
          "location": {
            "column": 5,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 80,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.rule_optimizer import RuleOptimizer",
          "end_location": {
            "column": 80,
            "row": 25
          },
          "location": {
            "column": 5,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `..optimization.rule_optimizer.OptimizationConfig`"
    },
    "location": {
      "column": 62,
      "row": 25
    },
    "message": "`..optimization.rule_optimizer.OptimizationConfig` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 76,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.evaluation.experiment_orchestrator import ExperimentOrchestrator",
          "end_location": {
            "column": 76,
            "row": 26
          },
          "location": {
            "column": 5,
            "row": 26
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 72,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import RealTimeAnalyticsService",
          "end_location": {
            "column": 72,
            "row": 27
          },
          "location": {
            "column": 5,
            "row": 27
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 51,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager",
          "end_location": {
            "column": 51,
            "row": 28
          },
          "location": {
            "column": 5,
            "row": 28
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 27,
            "row": 50
          },
          "location": {
            "column": 14,
            "row": 50
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 50
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 21,
            "row": 54
          },
          "location": {
            "column": 17,
            "row": 54
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 17,
      "row": 54
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 68,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import RuleOptimizer",
          "end_location": {
            "column": 68,
            "row": 109
          },
          "location": {
            "column": 13,
            "row": 109
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 109
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 109,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 39,
            "row": 144
          },
          "location": {
            "column": 35,
            "row": 144
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 35,
      "row": 144
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 144,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 76,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 76,
            "row": 167
          },
          "location": {
            "column": 52,
            "row": 167
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 52,
      "row": 167
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 167
          },
          "location": {
            "column": 61,
            "row": 167
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 167
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 167
          },
          "location": {
            "column": 88,
            "row": 167
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 167
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 77,
      "row": 244
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 77,
            "row": 244
          },
          "location": {
            "column": 53,
            "row": 244
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 53,
      "row": 244
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 244,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 244
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 244
          },
          "location": {
            "column": 62,
            "row": 244
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 244
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 244,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 81,
      "row": 256
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import OptimizationConfig",
          "end_location": {
            "column": 81,
            "row": 256
          },
          "location": {
            "column": 21,
            "row": 256
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 21,
      "row": 256
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 256,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 319
          },
          "location": {
            "column": 46,
            "row": 319
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 319
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 319
          },
          "location": {
            "column": 65,
            "row": 319
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 319
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 27,
      "row": 349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 349
          },
          "location": {
            "column": 21,
            "row": 349
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 21,
      "row": 349
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 349,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 363
          },
          "location": {
            "column": 72,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 363
          },
          "location": {
            "column": 91,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 70,
      "row": 408
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[Dict[str, Any]] | None",
          "end_location": {
            "column": 70,
            "row": 408
          },
          "location": {
            "column": 40,
            "row": 408
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 40,
      "row": 408
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 408,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 408
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 408
          },
          "location": {
            "column": 49,
            "row": 408
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 408
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 408,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 408
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 408
          },
          "location": {
            "column": 54,
            "row": 408
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 408
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 408,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 422
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 418
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 433
          },
          "location": {
            "column": 48,
            "row": 433
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 433
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 446
          },
          "location": {
            "column": 54,
            "row": 446
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 446
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 96,
            "row": 446
          },
          "location": {
            "column": 92,
            "row": 446
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 92,
      "row": 446
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 467
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 467
          },
          "location": {
            "column": 48,
            "row": 467
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 467
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 467,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 483
          },
          "location": {
            "column": 42,
            "row": 483
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 483
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 483,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 496
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AutoMLConfig | None",
          "end_location": {
            "column": 35,
            "row": 496
          },
          "location": {
            "column": 13,
            "row": 496
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 13,
      "row": 496
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 496,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 58,
      "row": 513
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseManager",
          "end_location": {
            "column": 58,
            "row": 513
          },
          "location": {
            "column": 9,
            "row": 513
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 513
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 513,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 517
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/automl/orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import RuleOptimizer",
          "end_location": {
            "column": 60,
            "row": 517
          },
          "location": {
            "column": 5,
            "row": 517
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 517
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 517,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 81,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport json\nimport os\nfrom pathlib import Path\nimport subprocess\nimport sys\n\nfrom rich.console import Console\nfrom rich.progress import Progress, SpinnerColumn, TextColumn\nfrom rich.table import Table\nimport typer\n\nfrom prompt_improver.database import sessionmanager\nfrom prompt_improver.installation.initializer import APESInitializer\nfrom prompt_improver.installation.migration import APESMigrationManager\nfrom prompt_improver.service.manager import APESServiceManager\nfrom prompt_improver.service.security import PromptDataProtection\nfrom prompt_improver.services.analytics import AnalyticsService\nfrom prompt_improver.services.prompt_improvement import PromptImprovementService\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 89
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 92
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 92,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 117
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 120
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 120
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 120,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 123
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 154
          },
          "location": {
            "column": 17,
            "row": 154
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 154
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 174
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 174
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 174,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 177
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 177,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 180
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 180
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 180,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 68,
      "row": 214
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 68,
            "row": 214
          },
          "location": {
            "column": 63,
            "row": 214
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 67,
      "row": 214
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 214,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 10,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 259
    },
    "message": "`train` is too complex (14 > 10)",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 27,
      "row": 277
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 277
    },
    "message": "`run_training` is too complex (13 > 10)",
    "noqa_row": 277,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F823",
    "end_location": {
      "column": 24,
      "row": 384
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 384
    },
    "message": "Local variable `ensemble` referenced before assignment",
    "noqa_row": 384,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 458
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 458
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 458,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 461
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 464
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 464
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 464,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 81,
      "row": 548
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 23,
      "row": 548
    },
    "message": "Do not perform function call `typer.Option` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 548,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 595
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 595
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 595,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 11,
      "row": 599
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 599
    },
    "message": "`doctor` is too complex (17 > 10)",
    "noqa_row": 599,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 628
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 628
    },
    "message": "`fastmcp` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 628,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 629
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 629
    },
    "message": "`mcp` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 629,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 630
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 24,
      "row": 630
    },
    "message": "`rich` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 630,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 631
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 631
    },
    "message": "`typer` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 631,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 85,
      "row": 647
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 647
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 647,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 88,
      "row": 694
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 694
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 694,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 75,
      "row": 1061
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 75,
            "row": 1061
          },
          "location": {
            "column": 70,
            "row": 1061
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 74,
      "row": 1061
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 1061,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 25,
      "row": 1071
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 1071
    },
    "message": "`export_training_data` is too complex (12 > 10)",
    "noqa_row": 1071,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 26,
      "row": 1085
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 1085
    },
    "message": "`export_data` is too complex (11 > 10)",
    "noqa_row": 1085,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1268
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1268
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1268,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1273
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1273,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1276
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1276
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1276,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 14,
      "row": 1282
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 1282
    },
    "message": "`ml_status` is too complex (12 > 10)",
    "noqa_row": 1282,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 26,
      "row": 1296
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 1296
    },
    "message": "`show_status` is too complex (11 > 10)",
    "noqa_row": 1296,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1397
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1397,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1400
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1400
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1400,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1403
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1403
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1403,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1470
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1470,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1473
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1473
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1473,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 1476
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1476
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1476,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 6,
      "row": 1488
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 29,
      "row": 1486
    },
    "message": "Do not perform function call `typer.Option` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 1486,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1533
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1533
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1533,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1538
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1538
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1538,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1541
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1541
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1541,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1590
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1590
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1590,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1595
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1595
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1595,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1598
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1598
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1598,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 81,
      "row": 1605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 1605
    },
    "message": "Do not perform function call `typer.Argument` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 1605,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1634
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1634
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1634,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1640
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1640
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1640,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1643
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1643
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1643,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1690
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1690
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1690,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1693
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1693
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1693,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1696
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1696
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1696,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 1725
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1725
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1725,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 1728
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1728
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1728,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 1779
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1779
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1779,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 1782
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1782
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1782,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1857
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1857
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1857,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1862
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1862
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1862,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1865
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1865
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1865,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1935
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1935
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1935,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1938
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1938
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1938,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 1941
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1941
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 1941,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 79,
      "row": 1948
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 1948
    },
    "message": "Do not perform function call `typer.Argument` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 1948,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 6,
      "row": 1951
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 31,
      "row": 1949
    },
    "message": "Do not perform function call `typer.Option` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 1949,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2002
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2002
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2002,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2008
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2008
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2008,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2011
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2011
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2011,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 21,
      "row": 2017
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 2017
    },
    "message": "`training_history` is too complex (13 > 10)",
    "noqa_row": 2017,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 39,
      "row": 2054
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 23,
      "row": 2054
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 2054,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2086
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2086
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2086,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2089
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2089
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2089,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2092
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2092
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2092,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 2136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 2136
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2136,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 36,
      "row": 2139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 2139
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2139,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 9,
      "row": 2150
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 2150
    },
    "message": "`logs` is too complex (33 > 10)",
    "noqa_row": 2150,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "SIM108",
    "end_location": {
      "column": 40,
      "row": 2175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "log_file = log_dir / f\"{component}.log\" if component else log_dir / \"apes.log\"",
          "end_location": {
            "column": 40,
            "row": 2175
          },
          "location": {
            "column": 5,
            "row": 2172
          }
        }
      ],
      "message": "Replace `if`-`else`-block with `log_file = log_dir / f\"{component}.log\" if component else log_dir / \"apes.log\"`"
    },
    "location": {
      "column": 5,
      "row": 2172
    },
    "message": "Use ternary operator `log_file = log_dir / f\"{component}.log\" if component else log_dir / \"apes.log\"` instead of `if`-`else`-block",
    "noqa_row": 2172,
    "url": "https://docs.astral.sh/ruff/rules/if-else-block-instead-of-if-exp"
  },
  {
    "cell": null,
    "code": "B025",
    "end_location": {
      "column": 34,
      "row": 2274
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 2274
    },
    "message": "try-except block with duplicate exception `FileNotFoundError`",
    "noqa_row": 2274,
    "url": "https://docs.astral.sh/ruff/rules/duplicate-try-block-exception"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2276
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2276
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2276,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2279
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2279
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2279,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2310
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2310,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 32,
      "row": 2313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 2313
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2313,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2368
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2368
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2368,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2371
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2371
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2371,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 11,
      "row": 2375
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 2375
    },
    "message": "`health` is too complex (16 > 10)",
    "noqa_row": 2375,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 31,
      "row": 2384
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 2384
    },
    "message": "`run_health_check` is too complex (12 > 10)",
    "noqa_row": 2384,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2497
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2497
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2497,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2500
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2500
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2500,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2503
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2503
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2503,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2613
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2613
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2613,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2616
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2616
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2616,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2619
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2619
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2619,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 26,
      "row": 2651
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 2651
    },
    "message": "`_update_documentation` is too complex (22 > 10)",
    "noqa_row": 2651,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 48,
      "row": 2714
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 34,
      "row": 2714
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 2714,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 48,
      "row": 2734
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 34,
      "row": 2734
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 2734,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 36,
      "row": 2789
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 2789
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 2789,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 45,
      "row": 2812
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 31,
      "row": 2812
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 2812,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 11,
      "row": 2864
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 2864
    },
    "message": "`alerts` is too complex (15 > 10)",
    "noqa_row": 2864,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 26,
      "row": 2873
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 2873
    },
    "message": "`show_alerts` is too complex (11 > 10)",
    "noqa_row": 2873,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 35,
      "row": 2897
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2896
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 2896,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 34,
      "row": 2903
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2902
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 2902,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2936
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2936
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2936,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2939
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2939
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2939,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 28,
      "row": 2942
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/cli.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 2942
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 2942,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 40,
      "row": 4
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Annotated",
          "end_location": {
            "column": 40,
            "row": 4
          },
          "location": {
            "column": 1,
            "row": 4
          }
        }
      ],
      "message": "Import from `typing`"
    },
    "location": {
      "column": 1,
      "row": 4
    },
    "message": "Import from `typing` instead: `Annotated`",
    "noqa_row": 4,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 22,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from fastapi import Depends\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom typing_extensions import Annotated\n\nfrom .config import DatabaseConfig\nfrom .connection import (\n    AsyncSessionFactory,\n    DatabaseManager,\n    DatabaseSessionManager,\n    SessionProvider,\n    SyncSessionFactory,\n    engine,\n    get_async_session_factory,\n    get_session,\n    sessionmanager,\n)\nfrom .models import *\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 4
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 4
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 4,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F403",
    "end_location": {
      "column": 22,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`from .models import *` used; unable to detect undefined names",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 22,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`RulePerformance` may be undefined, or defined from star imports",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 22,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "`RuleCombination` may be undefined, or defined from star imports",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 19,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 29
    },
    "message": "`UserFeedback` may be undefined, or defined from star imports",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 25,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 30
    },
    "message": "`ImprovementSession` may be undefined, or defined from star imports",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 25,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 31
    },
    "message": "`MLModelPerformance` may be undefined, or defined from star imports",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 24,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 32
    },
    "message": "`DiscoveredPattern` may be undefined, or defined from star imports",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 19,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 33
    },
    "message": "`RuleMetadata` may be undefined, or defined from star imports",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "F405",
    "end_location": {
      "column": 19,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/__init__.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 34
    },
    "message": "`ABExperiment` may be undefined, or defined from star imports",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/undefined-local-with-import-star-usage"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 18,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 29
    },
    "message": "Module level import not at top of file",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 35,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import contextlib\nimport logging\nimport os\nfrom typing import AsyncIterator, Iterator, Optional, Protocol, runtime_checkable\n\nfrom fastapi import Depends\nfrom sqlalchemy import Engine, create_engine\nfrom sqlalchemy.ext.asyncio import (\n    AsyncConnection,\n    AsyncEngine,\n    AsyncSession,\n    async_sessionmaker,\n    create_async_engine,\n)\nfrom sqlalchemy.orm import Session, sessionmaker\nfrom sqlalchemy.pool import NullPool\nfrom sqlmodel import SQLModel\nfrom typing_extensions import Annotated\n\nfrom .config import DatabaseConfig\n\n",
          "end_location": {
            "column": 1,
            "row": 50
          },
          "location": {
            "column": 1,
            "row": 29
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 29
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 15,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Module level import not at top of file",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 10,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 31
    },
    "message": "Module level import not at top of file",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 82,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 32
    },
    "message": "Module level import not at top of file",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 82,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Optional, Protocol, runtime_checkable\nfrom collections.abc import AsyncIterator, Iterator",
          "end_location": {
            "column": 82,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 32
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 32
    },
    "message": "Import from `collections.abc` instead: `AsyncIterator`, `Iterator`",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 45,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Module level import not at top of file",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy import create_engine",
          "end_location": {
            "column": 45,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.Engine`"
    },
    "location": {
      "column": 39,
      "row": 34
    },
    "message": "`sqlalchemy.Engine` imported but unused",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 2,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 35
    },
    "message": "Module level import not at top of file",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy.ext.asyncio import (\n    AsyncConnection,\n    AsyncSession,\n    async_sessionmaker,\n    create_async_engine,\n)",
          "end_location": {
            "column": 2,
            "row": 41
          },
          "location": {
            "column": 1,
            "row": 35
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncEngine`"
    },
    "location": {
      "column": 5,
      "row": 40
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncEngine` imported but unused",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 49,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 42
    },
    "message": "Module level import not at top of file",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 37,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 43
    },
    "message": "Module level import not at top of file",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 30,
      "row": 44
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 44
    },
    "message": "Module level import not at top of file",
    "noqa_row": 44,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 40,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 45
    },
    "message": "Module level import not at top of file",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 40,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Annotated",
          "end_location": {
            "column": 40,
            "row": 45
          },
          "location": {
            "column": 1,
            "row": 45
          }
        }
      ],
      "message": "Import from `typing`"
    },
    "location": {
      "column": 1,
      "row": 45
    },
    "message": "Import from `typing` instead: `Annotated`",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 46
          },
          "location": {
            "column": 1,
            "row": 45
          }
        }
      ],
      "message": "Remove unused import: `typing_extensions.Annotated`"
    },
    "location": {
      "column": 31,
      "row": 45
    },
    "message": "`typing_extensions.Annotated` imported but unused",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 28,
      "row": 46
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 46
    },
    "message": "Module level import not at top of file",
    "noqa_row": 46,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 28,
      "row": 46
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 46
          }
        }
      ],
      "message": "Remove unused import: `fastapi.Depends`"
    },
    "location": {
      "column": 21,
      "row": 46
    },
    "message": "`fastapi.Depends` imported but unused",
    "noqa_row": 46,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 35,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 48
    },
    "message": "Module level import not at top of file",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 49
          },
          "location": {
            "column": 1,
            "row": 48
          }
        }
      ],
      "message": "Remove unused import: `.config.DatabaseConfig`"
    },
    "location": {
      "column": 21,
      "row": 48
    },
    "message": "`.config.DatabaseConfig` imported but unused",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 57,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "DatabaseSessionManager | None",
          "end_location": {
            "column": 57,
            "row": 185
          },
          "location": {
            "column": 25,
            "row": 185
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 185
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 227
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "DatabaseSessionManager | None",
          "end_location": {
            "column": 49,
            "row": 227
          },
          "location": {
            "column": 17,
            "row": 227
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 227
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 227,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 64,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/connection.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 237
    },
    "message": "Module level import not at top of file",
    "noqa_row": 237,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 31,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom collections.abc import Coroutine\nfrom dataclasses import dataclass\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport functools\nimport logging\nimport random\nimport time\nfrom typing import Any, Callable, Dict, List, Optional, Type, TypeVar, Union\n\nimport psycopg\nfrom psycopg import errors as psycopg_errors\nfrom pydantic import BaseModel\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 77,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, TypeVar, Type, Optional, Dict, List, Union\nfrom collections.abc import Callable",
          "end_location": {
            "column": 77,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 77,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Type` is deprecated, use `type` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 77,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 77,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, TypeVar, Optional, Dict, List, Callable",
          "end_location": {
            "column": 77,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 10
    },
    "message": "`typing.Type` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 77,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, TypeVar, Optional, Dict, List, Callable",
          "end_location": {
            "column": 77,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 72,
      "row": 10
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `psycopg`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`psycopg` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 25,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 25,
            "row": 50
          },
          "location": {
            "column": 12,
            "row": 50
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 50
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 37,
            "row": 51
          },
          "location": {
            "column": 13,
            "row": 51
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 13,
      "row": 51
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 51
          },
          "location": {
            "column": 22,
            "row": 51
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 51
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 33,
            "row": 52
          },
          "location": {
            "column": 20,
            "row": 52
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 52
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 33,
            "row": 54
          },
          "location": {
            "column": 18,
            "row": 54
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 54
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 41,
            "row": 56
          },
          "location": {
            "column": 17,
            "row": 56
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 56
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 56
          },
          "location": {
            "column": 26,
            "row": 56
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 56
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 68
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 27,
            "row": 68
          },
          "location": {
            "column": 23,
            "row": 68
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 23,
      "row": 68
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 68,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 122
          },
          "location": {
            "column": 25,
            "row": 122
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 122
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 23,
      "row": 223
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 223
    },
    "message": "`classify_error` is too complex (12 > 10)",
    "noqa_row": 223,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 72,
      "row": 242
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "psycopg_errors.ConnectionTimeout | psycopg_errors.CancellationTimeout",
          "end_location": {
            "column": 71,
            "row": 242
          },
          "location": {
            "column": 36,
            "row": 241
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 18,
      "row": 241
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 241,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "SIM103",
    "end_location": {
      "column": 21,
      "row": 315
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "return bool(any(pattern in error_message for pattern in ['connection failed', 'connection timeout', 'deadlock detected', 'connection refused', 'server closed the connection']))",
          "end_location": {
            "column": 21,
            "row": 315
          },
          "location": {
            "column": 9,
            "row": 309
          }
        }
      ],
      "message": "Inline condition"
    },
    "location": {
      "column": 9,
      "row": 309
    },
    "message": "Return the condition directly",
    "noqa_row": 309,
    "url": "https://docs.astral.sh/ruff/rules/needless-bool"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 65,
      "row": 374
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 374
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 374,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 383
          },
          "location": {
            "column": 28,
            "row": 383
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 383
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 384
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 384
          },
          "location": {
            "column": 27,
            "row": 384
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 384
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 384,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 384
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 384
          },
          "location": {
            "column": 47,
            "row": 384
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 384
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 384,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 385
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 385
          },
          "location": {
            "column": 27,
            "row": 385
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 385
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 385,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 425
          },
          "location": {
            "column": 38,
            "row": 425
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 425
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 51,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nfrom typing import Any, Dict, List, Optional\nimport uuid\n\nfrom sqlalchemy import JSON, Index, UniqueConstraint\nimport sqlmodel\nfrom sqlmodel import Field, Relationship, SQLModel\n\n\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 43,
            "row": 24
          },
          "location": {
            "column": 19,
            "row": 24
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 24
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 24
          },
          "location": {
            "column": 28,
            "row": 24
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 24
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 35,
            "row": 25
          },
          "location": {
            "column": 20,
            "row": 25
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 25
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 39,
            "row": 26
          },
          "location": {
            "column": 24,
            "row": 26
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 26
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 38,
            "row": 27
          },
          "location": {
            "column": 23,
            "row": 27
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 27
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 35,
            "row": 29
          },
          "location": {
            "column": 17,
            "row": 29
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 29
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 32
          },
          "location": {
            "column": 24,
            "row": 32
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 32
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 31,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 31,
            "row": 45
          },
          "location": {
            "column": 18,
            "row": 45
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 45
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 46
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 24,
            "row": 46
          },
          "location": {
            "column": 20,
            "row": 46
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 20,
      "row": 46
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 46,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 47
          },
          "location": {
            "column": 22,
            "row": 47
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 47
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 41,
            "row": 49
          },
          "location": {
            "column": 28,
            "row": 49
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 49
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 38,
            "row": 53
          },
          "location": {
            "column": 14,
            "row": 53
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 53
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 53
          },
          "location": {
            "column": 23,
            "row": 53
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 53
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 37,
            "row": 55
          },
          "location": {
            "column": 19,
            "row": 55
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 55
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 50,
            "row": 56
          },
          "location": {
            "column": 26,
            "row": 56
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 56
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 56
          },
          "location": {
            "column": 35,
            "row": 56
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 56
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 31,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 31,
            "row": 74
          },
          "location": {
            "column": 18,
            "row": 74
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 74
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 78
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 49,
            "row": 78
          },
          "location": {
            "column": 25,
            "row": 78
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 78
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 78,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 78
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 78
          },
          "location": {
            "column": 34,
            "row": 78
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 78
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 78,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 80
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 35,
            "row": 80
          },
          "location": {
            "column": 17,
            "row": 80
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 80
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 80,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 83
          },
          "location": {
            "column": 19,
            "row": 83
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 83
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 46,
            "row": 98
          },
          "location": {
            "column": 22,
            "row": 98
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 98
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 98
          },
          "location": {
            "column": 31,
            "row": 98
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 98
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 33,
            "row": 115
          },
          "location": {
            "column": 20,
            "row": 115
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 115
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 43,
            "row": 116
          },
          "location": {
            "column": 24,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 37,
            "row": 116
          },
          "location": {
            "column": 33,
            "row": 116
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 33,
      "row": 116
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 28,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 28,
            "row": 119
          },
          "location": {
            "column": 15,
            "row": 119
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 15,
      "row": 119
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 153
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 39,
            "row": 153
          },
          "location": {
            "column": 20,
            "row": 153
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 153
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 153,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 153
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 153
          },
          "location": {
            "column": 29,
            "row": 153
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 153
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 153,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 43,
            "row": 154
          },
          "location": {
            "column": 19,
            "row": 154
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 154
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 154
          },
          "location": {
            "column": 28,
            "row": 154
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 154
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 155
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 52,
            "row": 155
          },
          "location": {
            "column": 26,
            "row": 155
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 155
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 155,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 155
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 155
          },
          "location": {
            "column": 35,
            "row": 155
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 155
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 155,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 166
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 39,
            "row": 166
          },
          "location": {
            "column": 20,
            "row": 166
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 166
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 166,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 166
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 166
          },
          "location": {
            "column": 29,
            "row": 166
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 166
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 166,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 43,
            "row": 167
          },
          "location": {
            "column": 19,
            "row": 167
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 167
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 167
          },
          "location": {
            "column": 28,
            "row": 167
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 167
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 168
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 52,
            "row": 168
          },
          "location": {
            "column": 26,
            "row": 168
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 168
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 168,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 168
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 168
          },
          "location": {
            "column": 35,
            "row": 168
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 168
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 168,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 31,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 31,
            "row": 175
          },
          "location": {
            "column": 18,
            "row": 175
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 175
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 176
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 24,
            "row": 176
          },
          "location": {
            "column": 20,
            "row": 176
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 20,
      "row": 176
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 176,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 177
          },
          "location": {
            "column": 22,
            "row": 177
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 177
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 177,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 191
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 46,
            "row": 191
          },
          "location": {
            "column": 22,
            "row": 191
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 191
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 191,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 191
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 191
          },
          "location": {
            "column": 31,
            "row": 191
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 191
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 191,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 33,
            "row": 199
          },
          "location": {
            "column": 20,
            "row": 199
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 199
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 43,
            "row": 200
          },
          "location": {
            "column": 24,
            "row": 200
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 200
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 37,
            "row": 200
          },
          "location": {
            "column": 33,
            "row": 200
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 33,
      "row": 200
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 32,
            "row": 215
          },
          "location": {
            "column": 17,
            "row": 215
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 215
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 35,
            "row": 216
          },
          "location": {
            "column": 20,
            "row": 216
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 216
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 216,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 217
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 36,
            "row": 217
          },
          "location": {
            "column": 23,
            "row": 217
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 217
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 217,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 221
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 36,
            "row": 221
          },
          "location": {
            "column": 23,
            "row": 221
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 221
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 221,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 36,
            "row": 222
          },
          "location": {
            "column": 23,
            "row": 222
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 222
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 223
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 43,
            "row": 223
          },
          "location": {
            "column": 28,
            "row": 223
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 223
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 223,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 224
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 46,
            "row": 224
          },
          "location": {
            "column": 31,
            "row": 224
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 31,
      "row": 224
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 227
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 35,
            "row": 227
          },
          "location": {
            "column": 17,
            "row": 227
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 227
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 227,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 44,
      "row": 256
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 44,
            "row": 256
          },
          "location": {
            "column": 29,
            "row": 256
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 29,
      "row": 256
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 256,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 259
          },
          "location": {
            "column": 27,
            "row": 259
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 259
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 259
          },
          "location": {
            "column": 36,
            "row": 259
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 259
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 260
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 260
          },
          "location": {
            "column": 23,
            "row": 260
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 260
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 260,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 260
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 260
          },
          "location": {
            "column": 32,
            "row": 260
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 260
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 260,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 261
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 48,
            "row": 261
          },
          "location": {
            "column": 22,
            "row": 261
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 261
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 261,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 261
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 261
          },
          "location": {
            "column": 31,
            "row": 261
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 261
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 261,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 265
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 33,
            "row": 265
          },
          "location": {
            "column": 20,
            "row": 265
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 265
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 265,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 268
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 37,
            "row": 268
          },
          "location": {
            "column": 19,
            "row": 268
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 268
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 268,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 38,
            "row": 292
          },
          "location": {
            "column": 25,
            "row": 292
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 292
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 292,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 40,
      "row": 313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 40,
            "row": 313
          },
          "location": {
            "column": 27,
            "row": 313
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 313
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 313,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 317
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 38,
            "row": 317
          },
          "location": {
            "column": 23,
            "row": 317
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 317
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 317,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 318
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 43,
            "row": 318
          },
          "location": {
            "column": 28,
            "row": 318
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 318
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 318,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 45,
            "row": 319
          },
          "location": {
            "column": 32,
            "row": 319
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 319
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 322
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 55,
            "row": 322
          },
          "location": {
            "column": 31,
            "row": 322
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 31,
      "row": 322
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 322,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 322
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 322
          },
          "location": {
            "column": 40,
            "row": 322
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 322
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 322,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 323
          },
          "location": {
            "column": 23,
            "row": 323
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 323
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 323
          },
          "location": {
            "column": 32,
            "row": 323
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 323
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 35,
            "row": 327
          },
          "location": {
            "column": 22,
            "row": 327
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 327
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 330
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 35,
            "row": 330
          },
          "location": {
            "column": 17,
            "row": 330
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 330
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 330,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 349
          },
          "location": {
            "column": 22,
            "row": 349
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 349
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 349,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 350
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 350
          },
          "location": {
            "column": 22,
            "row": 350
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 350
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 350,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 353
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 49,
            "row": 353
          },
          "location": {
            "column": 25,
            "row": 353
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 353
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 353,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 353
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 353
          },
          "location": {
            "column": 34,
            "row": 353
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 353
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 353,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 354
          },
          "location": {
            "column": 24,
            "row": 354
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 354
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 354
          },
          "location": {
            "column": 33,
            "row": 354
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 354
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 355
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 355
          },
          "location": {
            "column": 27,
            "row": 355
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 355
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 355,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 355
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 355
          },
          "location": {
            "column": 36,
            "row": 355
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 355
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 355,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 356
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 356
          },
          "location": {
            "column": 24,
            "row": 356
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 356
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 356,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 356
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 356
          },
          "location": {
            "column": 33,
            "row": 356
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 356
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 356,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 357
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 357
          },
          "location": {
            "column": 23,
            "row": 357
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 357
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 357,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 357
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 357
          },
          "location": {
            "column": 32,
            "row": 357
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 357
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 357,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 360
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 360
          },
          "location": {
            "column": 23,
            "row": 360
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 360
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 360,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 360
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 360
          },
          "location": {
            "column": 32,
            "row": 360
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 360
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 360,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 361
          },
          "location": {
            "column": 24,
            "row": 361
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 361
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 361
          },
          "location": {
            "column": 33,
            "row": 361
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 361
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 60,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[Dict[str, Any]] | None",
          "end_location": {
            "column": 60,
            "row": 364
          },
          "location": {
            "column": 30,
            "row": 364
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 364
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 364
          },
          "location": {
            "column": 39,
            "row": 364
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 364
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 364
          },
          "location": {
            "column": 44,
            "row": 364
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 364
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 365
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 365
          },
          "location": {
            "column": 24,
            "row": 365
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 365
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 365,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 365
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 365
          },
          "location": {
            "column": 33,
            "row": 365
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 365
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 365,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 370
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 45,
            "row": 370
          },
          "location": {
            "column": 30,
            "row": 370
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 370
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 370,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 405
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 405
          },
          "location": {
            "column": 19,
            "row": 405
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 405
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 405,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 405
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 405
          },
          "location": {
            "column": 24,
            "row": 405
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 405
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 405,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 406
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 20,
            "row": 406
          },
          "location": {
            "column": 16,
            "row": 406
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 16,
      "row": 406
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 406,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 406
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 406
          },
          "location": {
            "column": 21,
            "row": 406
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 406
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 406,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 407
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 407
          },
          "location": {
            "column": 23,
            "row": 407
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 407
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 407,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 17,
      "row": 410
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 17,
            "row": 410
          },
          "location": {
            "column": 13,
            "row": 410
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 13,
      "row": 410
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 410,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 422
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 39,
            "row": 422
          },
          "location": {
            "column": 20,
            "row": 422
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 422
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 422,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 422
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 422
          },
          "location": {
            "column": 29,
            "row": 422
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 422
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 422,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 433
          },
          "location": {
            "column": 27,
            "row": 433
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 433
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 433
          },
          "location": {
            "column": 36,
            "row": 433
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 433
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 434
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 434
          },
          "location": {
            "column": 24,
            "row": 434
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 434
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 434,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 434
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 434
          },
          "location": {
            "column": 33,
            "row": 434
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 434
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 434,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 435
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 435
          },
          "location": {
            "column": 23,
            "row": 435
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 435
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 435,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 435
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 435
          },
          "location": {
            "column": 32,
            "row": 435
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 435
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 435,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 438
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 47,
            "row": 438
          },
          "location": {
            "column": 23,
            "row": 438
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 438
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 438,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 438
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 438
          },
          "location": {
            "column": 32,
            "row": 438
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 438
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 438,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 439
          },
          "location": {
            "column": 30,
            "row": 439
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 439
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 439
          },
          "location": {
            "column": 35,
            "row": 439
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 439
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 440
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 440
          },
          "location": {
            "column": 24,
            "row": 440
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 440
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 440,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 443
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 443
          },
          "location": {
            "column": 25,
            "row": 443
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 443
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 443,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 31,
      "row": 448
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 448
    },
    "message": "Module level import not at top of file",
    "noqa_row": 448,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 26,
      "row": 450
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import date\nfrom typing import List, Optional\n\nfrom pydantic import BaseModel\n\n\n",
          "end_location": {
            "column": 1,
            "row": 452
          },
          "location": {
            "column": 1,
            "row": 448
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 448
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 448,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 34,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 449
    },
    "message": "Module level import not at top of file",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 34,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 449
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "E402",
    "end_location": {
      "column": 26,
      "row": 450
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 450
    },
    "message": "Module level import not at top of file",
    "noqa_row": 450,
    "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/models.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 21,
            "row": 470
          },
          "location": {
            "column": 17,
            "row": 470
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 17,
      "row": 470
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 470,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 18,
      "row": 177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/performance_monitor.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 164
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 164,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport contextlib\nfrom datetime import datetime\nimport logging\nimport os\nimport socket\nimport time\nfrom typing import Any, Optional, TypeVar\n\nimport psycopg\nfrom psycopg import errors as psycopg_errors, sql\nfrom psycopg.rows import dict_row\nfrom psycopg_pool import AsyncConnectionPool\nfrom pydantic import BaseModel, ValidationError\n\nfrom .config import DatabaseConfig\nfrom .error_handling import (\n    CircuitBreaker,\n    CircuitBreakerConfig,\n    DatabaseErrorClassifier,\n    ErrorCategory,\n    ErrorContext,\n    ErrorMetrics,\n    ErrorSeverity,\n    RetryConfig,\n    RetryManager,\n    default_circuit_breaker_config,\n    default_retry_config,\n    enhance_error_context,\n    global_error_metrics,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, TypeVar",
          "end_location": {
            "column": 42,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `typing.Optional`"
    },
    "location": {
      "column": 34,
      "row": 13
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `psycopg.errors`"
    },
    "location": {
      "column": 31,
      "row": 17
    },
    "message": "`psycopg.errors` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `psycopg.sql`"
    },
    "location": {
      "column": 21,
      "row": 18
    },
    "message": "`psycopg.sql` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `psycopg`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`psycopg` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 71,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handling import (\n    ErrorContext, RetryConfig, CircuitBreakerConfig, CircuitBreaker,\n    RetryManager, ErrorMetrics, DatabaseErrorClassifier, default_retry_config,\n    default_circuit_breaker_config\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 58,
      "row": 25
    },
    "message": "`.error_handling.ErrorCategory` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handling import (\n    ErrorContext, RetryConfig, CircuitBreakerConfig, CircuitBreaker,\n    RetryManager, ErrorMetrics, DatabaseErrorClassifier, default_retry_config,\n    default_circuit_breaker_config\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "`.error_handling.ErrorSeverity` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handling import (\n    ErrorContext, RetryConfig, CircuitBreakerConfig, CircuitBreaker,\n    RetryManager, ErrorMetrics, DatabaseErrorClassifier, default_retry_config,\n    default_circuit_breaker_config\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 26
    },
    "message": "`.error_handling.enhance_error_context` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 57,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handling import (\n    ErrorContext, RetryConfig, CircuitBreakerConfig, CircuitBreaker,\n    RetryManager, ErrorMetrics, DatabaseErrorClassifier, default_retry_config,\n    default_circuit_breaker_config\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 37,
      "row": 27
    },
    "message": "`.error_handling.global_error_metrics` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 259
          },
          "location": {
            "column": 25,
            "row": 259
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 259
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 278
          },
          "location": {
            "column": 25,
            "row": 278
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 278
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 278,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 302
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 302
          },
          "location": {
            "column": 25,
            "row": 302
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 302
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 302,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 353
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 353
          },
          "location": {
            "column": 25,
            "row": 353
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 353
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 353,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 395
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 395
          },
          "location": {
            "column": 25,
            "row": 395
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 395
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 395,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 445
          },
          "location": {
            "column": 25,
            "row": 445
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 445
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 481
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 481
          },
          "location": {
            "column": 25,
            "row": 481
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 481
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 481,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 53,
      "row": 521
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 521
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 521,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 533
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 533
          },
          "location": {
            "column": 25,
            "row": 533
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 533
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 533,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 663
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 663
          },
          "location": {
            "column": 25,
            "row": 663
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 663
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 663,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 750
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 750
          },
          "location": {
            "column": 25,
            "row": 750
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 750
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 750,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S608",
    "end_location": {
      "column": 75,
      "row": 791
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 28,
      "row": 791
    },
    "message": "Possible SQL injection vector through string-based query construction",
    "noqa_row": 791,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-sql-expression"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 826
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 826
          },
          "location": {
            "column": 25,
            "row": 826
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 826
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 826,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 898
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 898
          },
          "location": {
            "column": 25,
            "row": 898
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 898
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 898,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 71,
      "row": 930
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 71,
            "row": 930
          },
          "location": {
            "column": 64,
            "row": 930
          }
        }
      ],
      "message": "Remove assignment to unused variable `cur`"
    },
    "location": {
      "column": 68,
      "row": 930
    },
    "message": "Local variable `cur` is assigned to but never used",
    "noqa_row": 930,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S608",
    "end_location": {
      "column": 79,
      "row": 936
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 36,
      "row": 936
    },
    "message": "Possible SQL injection vector through string-based query construction",
    "noqa_row": 936,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-sql-expression"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 31,
      "row": 947
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 34,
            "row": 947
          },
          "location": {
            "column": 21,
            "row": 947
          }
        }
      ],
      "message": "Remove assignment to unused variable `temp_table`"
    },
    "location": {
      "column": 21,
      "row": 947
    },
    "message": "Local variable `temp_table` is assigned to but never used",
    "noqa_row": 947,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 70,
      "row": 959
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 958
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 958,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 976
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 976
          },
          "location": {
            "column": 25,
            "row": 976
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 976
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 976,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 49,
      "row": 1053
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 49,
            "row": 1053
          },
          "location": {
            "column": 41,
            "row": 1053
          }
        }
      ],
      "message": "Remove assignment to unused variable `conn`"
    },
    "location": {
      "column": 45,
      "row": 1053
    },
    "message": "Local variable `conn` is assigned to but never used",
    "noqa_row": 1053,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 53,
      "row": 1127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1126
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 1126,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 53,
      "row": 1193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1192
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 1192,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 1280
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/database/psycopg_client.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 1280
          },
          "location": {
            "column": 13,
            "row": 1280
          }
        }
      ],
      "message": "Remove assignment to unused variable `perf_stats`"
    },
    "location": {
      "column": 13,
      "row": 1280
    },
    "message": "Local variable `perf_stats` is assigned to but never used",
    "noqa_row": 1280,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 20,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass, field\nfrom datetime import datetime\nfrom enum import Enum\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport numpy as np\nimport pandas as pd\nfrom scipy import stats\nfrom scipy.stats import chi2_contingency, kruskal, mannwhitneyu\nfrom statsmodels.stats.multitest import multipletests\nfrom statsmodels.stats.power import ttest_power\nfrom statsmodels.stats.weightstats import ztest\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 9
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from scipy.stats import mannwhitneyu",
          "end_location": {
            "column": 64,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 15
    },
    "message": "`scipy.stats.chi2_contingency` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 64,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from scipy.stats import mannwhitneyu",
          "end_location": {
            "column": 64,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 57,
      "row": 15
    },
    "message": "`scipy.stats.kruskal` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `statsmodels.stats.weightstats.ztest`"
    },
    "location": {
      "column": 43,
      "row": 18
    },
    "message": "`statsmodels.stats.weightstats.ztest` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 19
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 40,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 40,
            "row": 49
          },
          "location": {
            "column": 25,
            "row": 49
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 49
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 33,
            "row": 50
          },
          "location": {
            "column": 18,
            "row": 50
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 50
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 36,
            "row": 51
          },
          "location": {
            "column": 23,
            "row": 51
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 51
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Tuple[float, float] | None",
          "end_location": {
            "column": 55,
            "row": 52
          },
          "location": {
            "column": 26,
            "row": 52
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 52
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 40,
            "row": 52
          },
          "location": {
            "column": 35,
            "row": 52
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 35,
      "row": 52
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 27,
            "row": 53
          },
          "location": {
            "column": 12,
            "row": 53
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 53
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 47,
            "row": 54
          },
          "location": {
            "column": 32,
            "row": 54
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 54
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, bool] | None",
          "end_location": {
            "column": 47,
            "row": 55
          },
          "location": {
            "column": 22,
            "row": 55
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 55
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 55
          },
          "location": {
            "column": 31,
            "row": 55
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 55
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 16,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 16,
            "row": 56
          },
          "location": {
            "column": 12,
            "row": 56
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 12,
      "row": 56
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 63
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 63
          },
          "location": {
            "column": 24,
            "row": 63
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 63
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 29,
            "row": 64
          },
          "location": {
            "column": 25,
            "row": 64
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 25,
      "row": 64
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 65
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 65
          },
          "location": {
            "column": 15,
            "row": 65
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 65
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 65,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 68
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 42,
            "row": 68
          },
          "location": {
            "column": 27,
            "row": 68
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 68
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 68,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 69,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "MultipleTestingCorrection | None",
          "end_location": {
            "column": 69,
            "row": 86
          },
          "location": {
            "column": 34,
            "row": 86
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 86
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 89
          },
          "location": {
            "column": 27,
            "row": 89
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 89
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 89
          },
          "location": {
            "column": 36,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 36,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 36,
            "row": 92
          },
          "location": {
            "column": 21,
            "row": 92
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 92
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 92,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 93
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 39,
            "row": 93
          },
          "location": {
            "column": 24,
            "row": 93
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 93
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 93,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 64,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, StatisticalTestResult] | None",
          "end_location": {
            "column": 64,
            "row": 96
          },
          "location": {
            "column": 22,
            "row": 96
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 96
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 96
          },
          "location": {
            "column": 31,
            "row": 96
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 96
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 66,
      "row": 97
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, StatisticalTestResult] | None",
          "end_location": {
            "column": 66,
            "row": 97
          },
          "location": {
            "column": 24,
            "row": 97
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 97
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 97,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 97
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 97
          },
          "location": {
            "column": 33,
            "row": 97
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 97
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 97,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 69,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, StatisticalTestResult] | None",
          "end_location": {
            "column": 69,
            "row": 100
          },
          "location": {
            "column": 27,
            "row": 100
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 100
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 100
          },
          "location": {
            "column": 36,
            "row": 100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 103
          },
          "location": {
            "column": 24,
            "row": 103
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 103
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 103
          },
          "location": {
            "column": 33,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 106
          },
          "location": {
            "column": 22,
            "row": 106
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 106
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 13,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 107
    },
    "message": "Redefinition of unused `warnings` from line 11",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 107
          },
          "location": {
            "column": 15,
            "row": 107
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 107
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 136
          },
          "location": {
            "column": 39,
            "row": 136
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 136
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 136,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 137
          },
          "location": {
            "column": 41,
            "row": 137
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 137
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 56,
            "row": 138
          },
          "location": {
            "column": 37,
            "row": 138
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 37,
      "row": 138
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 138
          },
          "location": {
            "column": 46,
            "row": 138
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 138
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 72,
            "row": 320
          },
          "location": {
            "column": 67,
            "row": 320
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 67,
      "row": 320
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 320,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 369
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 56,
            "row": 369
          },
          "location": {
            "column": 51,
            "row": 369
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 51,
      "row": 369
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 369,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 403
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 403
          },
          "location": {
            "column": 60,
            "row": 403
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 403
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 403,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 442
          },
          "location": {
            "column": 61,
            "row": 442
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 442
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 489
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 489
          },
          "location": {
            "column": 63,
            "row": 489
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 489
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 489,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 518
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 518
          },
          "location": {
            "column": 63,
            "row": 518
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 518
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 518,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 548
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_n2",
          "end_location": {
            "column": 19,
            "row": 548
          },
          "location": {
            "column": 17,
            "row": 548
          }
        }
      ],
      "message": "Remove assignment to unused variable `n2`"
    },
    "location": {
      "column": 17,
      "row": 548
    },
    "message": "Local variable `n2` is assigned to but never used",
    "noqa_row": 548,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 562
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_n2",
          "end_location": {
            "column": 19,
            "row": 562
          },
          "location": {
            "column": 17,
            "row": 562
          }
        }
      ],
      "message": "Remove assignment to unused variable `n2`"
    },
    "location": {
      "column": 17,
      "row": 562
    },
    "message": "Local variable `n2` is assigned to but never used",
    "noqa_row": 562,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 574
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 574
          },
          "location": {
            "column": 61,
            "row": 574
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 574
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 574,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 621
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 621
          },
          "location": {
            "column": 63,
            "row": 621
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 621
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 621,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 34,
      "row": 670
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 670
    },
    "message": "`_generate_recommendations` is too complex (13 > 10)",
    "noqa_row": 670,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 670
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 670
          },
          "location": {
            "column": 78,
            "row": 670
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 670
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 670,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 72,
      "row": 713
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 710
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 710,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 27,
      "row": 722
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 722
    },
    "message": "`_generate_warnings` is too complex (11 > 10)",
    "noqa_row": 722,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 722
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 722
          },
          "location": {
            "column": 71,
            "row": 722
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 722
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 722,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 17,
      "row": 724
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 724
    },
    "message": "Redefinition of unused `warnings` from line 11",
    "noqa_row": 724,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 73,
      "row": 734
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 733
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 733,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 110,
      "row": 750
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 749
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 749,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 110,
      "row": 796
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 795
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 795,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 812
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 812
          },
          "location": {
            "column": 36,
            "row": 812
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 812
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 812,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 813
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 41,
            "row": 813
          },
          "location": {
            "column": 37,
            "row": 813
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 37,
      "row": 813
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 813,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 814
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 814
          },
          "location": {
            "column": 45,
            "row": 814
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 814
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 814,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass, field\nfrom datetime import datetime\nfrom enum import Enum\nimport logging\nfrom typing import Any, Callable, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport numpy as np\nimport pandas as pd\nfrom scipy import stats\nfrom sklearn.ensemble import GradientBoostingRegressor, RandomForestRegressor\nfrom sklearn.linear_model import LinearRegression, LogisticRegression\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.preprocessing import StandardScaler\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 8
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple, Union\nfrom collections.abc import Callable",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 54,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 61,
      "row": 11
    },
    "message": "`typing.Callable` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 51,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 30,
      "row": 15
    },
    "message": "`sklearn.ensemble.RandomForestRegressor` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 78,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 53,
      "row": 15
    },
    "message": "`sklearn.ensemble.GradientBoostingRegressor` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 50,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 16
    },
    "message": "`sklearn.linear_model.LinearRegression` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 70,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 52,
      "row": 16
    },
    "message": "`sklearn.linear_model.LogisticRegression` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `sklearn.preprocessing.StandardScaler`"
    },
    "location": {
      "column": 35,
      "row": 17
    },
    "message": "`sklearn.preprocessing.StandardScaler` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `sklearn.model_selection.cross_val_score`"
    },
    "location": {
      "column": 37,
      "row": 18
    },
    "message": "`sklearn.model_selection.cross_val_score` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 48
          },
          "location": {
            "column": 18,
            "row": 48
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 48
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 48
          },
          "location": {
            "column": 27,
            "row": 48
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 48
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 51
          },
          "location": {
            "column": 22,
            "row": 51
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 51
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 59
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 31,
            "row": 59
          },
          "location": {
            "column": 26,
            "row": 59
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 26,
      "row": 59
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 59,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 69
          },
          "location": {
            "column": 15,
            "row": 69
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 69
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 81
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalEffect | None",
          "end_location": {
            "column": 65,
            "row": 81
          },
          "location": {
            "column": 43,
            "row": 81
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 81
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 81,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 59,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalEffect | None",
          "end_location": {
            "column": 59,
            "row": 82
          },
          "location": {
            "column": 37,
            "row": 82
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 37,
      "row": 82
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 85
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 29,
            "row": 85
          },
          "location": {
            "column": 25,
            "row": 85
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 25,
      "row": 85
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 85,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 89
          },
          "location": {
            "column": 27,
            "row": 89
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 89
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 89
          },
          "location": {
            "column": 36,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 44,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 44,
            "row": 90
          },
          "location": {
            "column": 20,
            "row": 90
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 20,
      "row": 90
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 90
          },
          "location": {
            "column": 29,
            "row": 90
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 90
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 53,
      "row": 94
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 53,
            "row": 94
          },
          "location": {
            "column": 29,
            "row": 94
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 29,
      "row": 94
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 94,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 94
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 94
          },
          "location": {
            "column": 38,
            "row": 94
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 94
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 94,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 95
          },
          "location": {
            "column": 24,
            "row": 95
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 95
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 95
          },
          "location": {
            "column": 33,
            "row": 95
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 95
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 35,
            "row": 99
          },
          "location": {
            "column": 31,
            "row": 99
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 31,
      "row": 99
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 99,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 100
          },
          "location": {
            "column": 27,
            "row": 100
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 100
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 133
          },
          "location": {
            "column": 41,
            "row": 133
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 133
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 63,
      "row": 136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 63,
            "row": 136
          },
          "location": {
            "column": 43,
            "row": 136
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 136
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 136,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 62,
            "row": 137
          },
          "location": {
            "column": 42,
            "row": 137
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 42,
      "row": 137
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 30,
      "row": 240
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 240
    },
    "message": "`_validate_causal_data` is too complex (14 > 10)",
    "noqa_row": 240,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 241
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 241
          },
          "location": {
            "column": 41,
            "row": 241
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 241
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 241,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 97,
      "row": 241
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 97,
            "row": 241
          },
          "location": {
            "column": 77,
            "row": 241
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 77,
      "row": 241
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 241,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 242
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 62,
            "row": 242
          },
          "location": {
            "column": 42,
            "row": 242
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 42,
      "row": 242
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 242,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 242
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 242
          },
          "location": {
            "column": 67,
            "row": 242
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 242
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 242,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 308
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 308
          },
          "location": {
            "column": 46,
            "row": 308
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 308
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 308,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 310
          },
          "location": {
            "column": 57,
            "row": 310
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 310
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 310,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 353
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 353
          },
          "location": {
            "column": 46,
            "row": 353
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 353
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 353,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 433
          },
          "location": {
            "column": 46,
            "row": 433
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 433
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 507
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 507
          },
          "location": {
            "column": 54,
            "row": 507
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 507
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 507,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 568
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 568
          },
          "location": {
            "column": 42,
            "row": 568
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 568
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 568,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 568
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 568
          },
          "location": {
            "column": 68,
            "row": 568
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 568
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 568,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 575
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 575
          },
          "location": {
            "column": 13,
            "row": 575
          }
        }
      ],
      "message": "Remove assignment to unused variable `outcome`"
    },
    "location": {
      "column": 13,
      "row": 575
    },
    "message": "Local variable `outcome` is assigned to but never used",
    "noqa_row": 575,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 630
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 630
          },
          "location": {
            "column": 50,
            "row": 630
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 630
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 630,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 684
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 684
          },
          "location": {
            "column": 45,
            "row": 684
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 684
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 684,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 689
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 689
          },
          "location": {
            "column": 9,
            "row": 689
          }
        }
      ],
      "message": "Remove assignment to unused variable `outcome`"
    },
    "location": {
      "column": 9,
      "row": 689
    },
    "message": "Local variable `outcome` is assigned to but never used",
    "noqa_row": 689,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 18,
      "row": 690
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 21,
            "row": 690
          },
          "location": {
            "column": 9,
            "row": 690
          }
        }
      ],
      "message": "Remove assignment to unused variable `treatment`"
    },
    "location": {
      "column": 9,
      "row": 690
    },
    "message": "Local variable `treatment` is assigned to but never used",
    "noqa_row": 690,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 710
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 710
          },
          "location": {
            "column": 49,
            "row": 710
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 710
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 710,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 772
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 772
          },
          "location": {
            "column": 42,
            "row": 772
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 772
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 772,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 784
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 784
          },
          "location": {
            "column": 9,
            "row": 784
          }
        }
      ],
      "message": "Remove assignment to unused variable `pre_period`"
    },
    "location": {
      "column": 9,
      "row": 784
    },
    "message": "Local variable `pre_period` is assigned to but never used",
    "noqa_row": 784,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 856
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 856
          },
          "location": {
            "column": 41,
            "row": 856
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 856
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 856,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 931
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 931
          },
          "location": {
            "column": 42,
            "row": 931
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 931
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 931,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 1036
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 1036
          },
          "location": {
            "column": 52,
            "row": 1036
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 1036
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1036,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 82,
      "row": 1048
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from sklearn.linear_model import LinearRegression, LogisticRegression\n",
          "end_location": {
            "column": 1,
            "row": 1049
          },
          "location": {
            "column": 1,
            "row": 1048
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 1048
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1048,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 1126
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1126
    },
    "message": "Do not use bare `except`",
    "noqa_row": 1126,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 29,
      "row": 1128
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1126
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 1126,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 1184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 1184
          },
          "location": {
            "column": 51,
            "row": 1184
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 1184
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1184,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 84,
      "row": 1185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalEffect | None",
          "end_location": {
            "column": 84,
            "row": 1185
          },
          "location": {
            "column": 62,
            "row": 1185
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 62,
      "row": 1185
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1185,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 1272
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 1272
          },
          "location": {
            "column": 51,
            "row": 1272
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 1272
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1272,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1273
          },
          "location": {
            "column": 62,
            "row": 1273
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1273
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 1277
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 1277
          },
          "location": {
            "column": 13,
            "row": 1277
          }
        }
      ],
      "message": "Remove assignment to unused variable `outcome`"
    },
    "location": {
      "column": 13,
      "row": 1277
    },
    "message": "Local variable `outcome` is assigned to but never used",
    "noqa_row": 1277,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 1278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 1278
          },
          "location": {
            "column": 13,
            "row": 1278
          }
        }
      ],
      "message": "Remove assignment to unused variable `treatment`"
    },
    "location": {
      "column": 13,
      "row": 1278
    },
    "message": "Local variable `treatment` is assigned to but never used",
    "noqa_row": 1278,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 1314
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 1314
          },
          "location": {
            "column": 44,
            "row": 1314
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 1314
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1314,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 1315
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 1315
          },
          "location": {
            "column": 55,
            "row": 1315
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 1315
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1315,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 1319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 1319
          },
          "location": {
            "column": 13,
            "row": 1319
          }
        }
      ],
      "message": "Remove assignment to unused variable `outcome`"
    },
    "location": {
      "column": 13,
      "row": 1319
    },
    "message": "Local variable `outcome` is assigned to but never used",
    "noqa_row": 1319,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 1371
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 1371
          },
          "location": {
            "column": 41,
            "row": 1371
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 1371
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1371,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1372
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 1372
          },
          "location": {
            "column": 63,
            "row": 1372
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 1372
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1372,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 1416
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 1416
          },
          "location": {
            "column": 47,
            "row": 1416
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 1416
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1416,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 1416
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 1416
          },
          "location": {
            "column": 73,
            "row": 1416
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 1416
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1416,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 80,
      "row": 1468
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 80,
            "row": 1468
          },
          "location": {
            "column": 56,
            "row": 1468
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 56,
      "row": 1468
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1468,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 1468
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 1468
          },
          "location": {
            "column": 65,
            "row": 1468
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 1468
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1468,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 76,
      "row": 1469
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 76,
            "row": 1469
          },
          "location": {
            "column": 52,
            "row": 1469
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 52,
      "row": 1469
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1469,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 1469
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 1469
          },
          "location": {
            "column": 61,
            "row": 1469
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 1469
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1469,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1501
          },
          "location": {
            "column": 63,
            "row": 1501
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1501
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 1502
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 1502
          },
          "location": {
            "column": 66,
            "row": 1502
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 1502
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1502,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 1525
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 1525
          },
          "location": {
            "column": 56,
            "row": 1525
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 1525
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1525,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 1560
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 1560
          },
          "location": {
            "column": 52,
            "row": 1560
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 1560
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1560,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 136,
      "row": 1574
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"No evidence for causal effect: The analysis does not support a causal relationship between treatment and outcome.\"",
          "end_location": {
            "column": 136,
            "row": 1574
          },
          "location": {
            "column": 20,
            "row": 1574
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 20,
      "row": 1574
    },
    "message": "f-string without any placeholders",
    "noqa_row": 1574,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 1577
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 1577
          },
          "location": {
            "column": 55,
            "row": 1577
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 1577
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1577,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 1578
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 74,
            "row": 1578
          },
          "location": {
            "column": 70,
            "row": 1578
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 70,
      "row": 1578
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1578,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1611
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 63,
            "row": 1611
          },
          "location": {
            "column": 59,
            "row": 1611
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 59,
      "row": 1611
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1611,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1612
          },
          "location": {
            "column": 62,
            "row": 1612
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1612
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1612,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 1612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 1612
          },
          "location": {
            "column": 81,
            "row": 1612
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 1612
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1612,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 17,
      "row": 1615
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1615
    },
    "message": "Redefinition of unused `warnings` from line 19",
    "noqa_row": 1615,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 80,
      "row": 1622
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1622
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 1622,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 1641
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 1641
          },
          "location": {
            "column": 41,
            "row": 1641
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 1641
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1641,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 1642
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 46,
            "row": 1642
          },
          "location": {
            "column": 42,
            "row": 1642
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 42,
      "row": 1642
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1642,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 1643
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[List[float]] | None",
          "end_location": {
            "column": 65,
            "row": 1643
          },
          "location": {
            "column": 38,
            "row": 1643
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 1643
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1643,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 1643
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 1643
          },
          "location": {
            "column": 47,
            "row": 1643
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 1643
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1643,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 1643
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 1643
          },
          "location": {
            "column": 52,
            "row": 1643
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 1643
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1643,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1644
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 1644
          },
          "location": {
            "column": 64,
            "row": 1644
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 1644
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1644,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 60,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport json\nimport logging\nfrom typing import Any, Callable, Dict, List, Optional, Tuple, Union\nimport uuid\n\nimport numpy as np\nimport pandas as pd\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.models import ABExperiment, RulePerformance\nfrom ..services.real_time_analytics import RealTimeAnalyticsService, RealTimeMetrics\nfrom .advanced_statistical_validator import (\n    AdvancedStatisticalValidator,\n    AdvancedValidationResult,\n)\nfrom .causal_inference_analyzer import (\n    CausalInferenceAnalyzer,\n    CausalInferenceResult,\n    CausalMethod,\n)\nfrom .pattern_significance_analyzer import (\n    PatternSignificanceAnalyzer,\n    PatternSignificanceReport,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `uuid`"
    },
    "location": {
      "column": 8,
      "row": 8
    },
    "message": "`uuid` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple, Union\nfrom collections.abc import Callable",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 54,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 69,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 69,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 61,
      "row": 11
    },
    "message": "`typing.Callable` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`json` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 16
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 85,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import RealTimeAnalyticsService, RealTimeMetrics",
          "end_location": {
            "column": 85,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 85,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import RealTimeAnalyticsService, RealTimeMetrics",
          "end_location": {
            "column": 85,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 85,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.real_time_analytics import RealTimeAnalyticsService",
          "end_location": {
            "column": 85,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import: `..services.real_time_analytics.RealTimeMetrics`"
    },
    "location": {
      "column": 70,
      "row": 22
    },
    "message": "`..services.real_time_analytics.RealTimeMetrics` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, RulePerformance",
          "end_location": {
            "column": 60,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, RulePerformance",
          "end_location": {
            "column": 60,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 16,
      "row": 65
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 16,
            "row": 65
          },
          "location": {
            "column": 12,
            "row": 65
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 12,
      "row": 65
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 65,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 18,
            "row": 69
          },
          "location": {
            "column": 14,
            "row": 69
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 14,
      "row": 69
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 70
          },
          "location": {
            "column": 15,
            "row": 70
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 70
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 15,
            "row": 82
          },
          "location": {
            "column": 11,
            "row": 82
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 11,
      "row": 82
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 85
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 85
          },
          "location": {
            "column": 24,
            "row": 85
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 85
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 85,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 96
          },
          "location": {
            "column": 21,
            "row": 96
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 96
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 102
          },
          "location": {
            "column": 24,
            "row": 102
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 102
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 56,
            "row": 109
          },
          "location": {
            "column": 32,
            "row": 109
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 109
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 109
          },
          "location": {
            "column": 41,
            "row": 109
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 109
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 112
          },
          "location": {
            "column": 24,
            "row": 112
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 112
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 113
          },
          "location": {
            "column": 25,
            "row": 113
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 113
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 126
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PatternSignificanceReport | None",
          "end_location": {
            "column": 62,
            "row": 126
          },
          "location": {
            "column": 27,
            "row": 126
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 126
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 126,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 54,
      "row": 127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceResult | None",
          "end_location": {
            "column": 54,
            "row": 127
          },
          "location": {
            "column": 23,
            "row": 127
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 127
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 127,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 130
          },
          "location": {
            "column": 22,
            "row": 130
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 130
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 130
          },
          "location": {
            "column": 32,
            "row": 130
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 130
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 131
          },
          "location": {
            "column": 27,
            "row": 131
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 131
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 137
          },
          "location": {
            "column": 22,
            "row": 137
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 137
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 145
          },
          "location": {
            "column": 26,
            "row": 145
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 145
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 145,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 146
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 21,
            "row": 146
          },
          "location": {
            "column": 17,
            "row": 146
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 17,
      "row": 146
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 146,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 147
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 147
          },
          "location": {
            "column": 22,
            "row": 147
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 147
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 147,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 23,
            "row": 151
          },
          "location": {
            "column": 19,
            "row": 151
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 19,
      "row": 151
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 79,
      "row": 160
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AdvancedStatisticalValidator | None",
          "end_location": {
            "column": 79,
            "row": 160
          },
          "location": {
            "column": 41,
            "row": 160
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 160
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 73,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PatternSignificanceAnalyzer | None",
          "end_location": {
            "column": 73,
            "row": 161
          },
          "location": {
            "column": 36,
            "row": 161
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 161
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 68,
      "row": 162
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceAnalyzer | None",
          "end_location": {
            "column": 68,
            "row": 162
          },
          "location": {
            "column": 35,
            "row": 162
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 35,
      "row": 162
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 162,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 71,
      "row": 163
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "RealTimeAnalyticsService | None",
          "end_location": {
            "column": 71,
            "row": 163
          },
          "location": {
            "column": 37,
            "row": 163
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 37,
      "row": 163
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 163,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 183
          },
          "location": {
            "column": 34,
            "row": 183
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 183
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 184
          },
          "location": {
            "column": 32,
            "row": 184
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 184
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 186
          },
          "location": {
            "column": 74,
            "row": 186
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 186
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 374
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 374
          },
          "location": {
            "column": 84,
            "row": 374
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 374
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 374,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 425
          },
          "location": {
            "column": 66,
            "row": 425
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 425
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 503
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 503
          },
          "location": {
            "column": 79,
            "row": 503
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 503
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 503,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 539
          },
          "location": {
            "column": 87,
            "row": 539
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 539
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 660
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 79,
            "row": 660
          },
          "location": {
            "column": 74,
            "row": 660
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 74,
      "row": 660
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 660,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 694
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 694
          },
          "location": {
            "column": 74,
            "row": 694
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 694
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 694,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 48,
      "row": 697
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from sqlalchemy import and_, select\n",
          "end_location": {
            "column": 1,
            "row": 698
          },
          "location": {
            "column": 1,
            "row": 697
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 697
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 697,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 753
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 753
          },
          "location": {
            "column": 68,
            "row": 753
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 753
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 753,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 786
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 786
          },
          "location": {
            "column": 64,
            "row": 786
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 786
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 786,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 840
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 840
          },
          "location": {
            "column": 63,
            "row": 840
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 840
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 840,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 27,
      "row": 853
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_arm_id",
          "end_location": {
            "column": 27,
            "row": 853
          },
          "location": {
            "column": 21,
            "row": 853
          }
        }
      ],
      "message": "Rename unused `arm_id` to `_arm_id`"
    },
    "location": {
      "column": 21,
      "row": 853
    },
    "message": "Loop control variable `arm_id` not used within loop body",
    "noqa_row": 853,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 57,
      "row": 867
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 38,
      "row": 867
    },
    "message": "Undefined name `TreatmentAssignment`",
    "noqa_row": 867,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 877
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 877
          },
          "location": {
            "column": 63,
            "row": 877
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 877
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 877,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 878
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 878
          },
          "location": {
            "column": 87,
            "row": 878
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 878
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 878,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 926
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 39,
            "row": 926
          },
          "location": {
            "column": 35,
            "row": 926
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 35,
      "row": 926
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 926,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 926
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 82,
            "row": 926
          },
          "location": {
            "column": 77,
            "row": 926
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 77,
      "row": 926
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 926,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 87,
      "row": 944
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceResult | None",
          "end_location": {
            "column": 87,
            "row": 944
          },
          "location": {
            "column": 56,
            "row": 944
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 56,
      "row": 944
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 944,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 945
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 945
          },
          "location": {
            "column": 62,
            "row": 945
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 945
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 945,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 945
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 85,
            "row": 945
          },
          "location": {
            "column": 81,
            "row": 945
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 81,
      "row": 945
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 945,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 81,
      "row": 997
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceResult | None",
          "end_location": {
            "column": 81,
            "row": 997
          },
          "location": {
            "column": 50,
            "row": 997
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 50,
      "row": 997
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 997,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 998
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 998
          },
          "location": {
            "column": 56,
            "row": 998
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 998
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 998,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 998
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 998
          },
          "location": {
            "column": 75,
            "row": 998
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 998
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 998,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1046
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 1046
          },
          "location": {
            "column": 58,
            "row": 1046
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 1046
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1046,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 84,
      "row": 1048
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PatternSignificanceReport | None",
          "end_location": {
            "column": 84,
            "row": 1048
          },
          "location": {
            "column": 49,
            "row": 1048
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 49,
      "row": 1048
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1048,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 79,
      "row": 1049
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceResult | None",
          "end_location": {
            "column": 79,
            "row": 1049
          },
          "location": {
            "column": 48,
            "row": 1049
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 48,
      "row": 1049
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1049,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 1049
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 1049
          },
          "location": {
            "column": 84,
            "row": 1049
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 1049
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1049,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 38,
      "row": 1105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1105
    },
    "message": "`_generate_actionable_insights` is too complex (12 > 10)",
    "noqa_row": 1105,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 88,
      "row": 1107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PatternSignificanceReport | None",
          "end_location": {
            "column": 88,
            "row": 1107
          },
          "location": {
            "column": 53,
            "row": 1107
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 53,
      "row": 1107
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 83,
      "row": 1108
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "CausalInferenceResult | None",
          "end_location": {
            "column": 83,
            "row": 1108
          },
          "location": {
            "column": 52,
            "row": 1108
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 52,
      "row": 1108
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1108,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 1109
          },
          "location": {
            "column": 58,
            "row": 1109
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 1109
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 1109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 1109
          },
          "location": {
            "column": 77,
            "row": 1109
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 1109
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 1109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 91,
            "row": 1109
          },
          "location": {
            "column": 87,
            "row": 1109
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 87,
      "row": 1109
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 78,
      "row": 1133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 1133
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 1133,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF402",
    "end_location": {
      "column": 52,
      "row": 1140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 1140
    },
    "message": "Use `list` or `list.copy` to create a copy of a list",
    "noqa_row": 1140,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-copy"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 1177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 1177
          },
          "location": {
            "column": 61,
            "row": 1177
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 1177
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1177,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 101,
      "row": 1245
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ExperimentConfiguration | None",
          "end_location": {
            "column": 101,
            "row": 1245
          },
          "location": {
            "column": 68,
            "row": 1245
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 68,
      "row": 1245
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1245,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 1252
          },
          "location": {
            "column": 57,
            "row": 1252
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 1252
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1252,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 95,
      "row": 1255
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from .advanced_statistical_validator import (\n            EffectSizeMagnitude,\n            StatisticalTestResult,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 1256
          },
          "location": {
            "column": 1,
            "row": 1255
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 1255
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1255,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1294
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1294
          },
          "location": {
            "column": 50,
            "row": 1294
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1294
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1294,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 82,
      "row": 1294
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 82,
            "row": 1294
          },
          "location": {
            "column": 69,
            "row": 1294
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 69,
      "row": 1294
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1294,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 1321
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 1321
          },
          "location": {
            "column": 47,
            "row": 1321
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 1321
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1321,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 1322
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 1322
          },
          "location": {
            "column": 49,
            "row": 1322
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 1322
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1322,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 1324
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/experiment_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 1324
          },
          "location": {
            "column": 45,
            "row": 1324
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 1324
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1324,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import defaultdict\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom enum import Enum\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport numpy as np\nimport pandas as pd\nfrom scipy import stats\nfrom scipy.stats import chi2_contingency, fisher_exact\nfrom statsmodels.stats.contingency_tables import mcnemar\nfrom statsmodels.stats.proportion import proportions_ztest\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 57,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `statsmodels.stats.contingency_tables.mcnemar`"
    },
    "location": {
      "column": 50,
      "row": 17
    },
    "message": "`statsmodels.stats.contingency_tables.mcnemar` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 31,
            "row": 52
          },
          "location": {
            "column": 26,
            "row": 52
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 26,
      "row": 52
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 38,
            "row": 53
          },
          "location": {
            "column": 25,
            "row": 53
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 53
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 57
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 57
          },
          "location": {
            "column": 22,
            "row": 57
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 57
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 57,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 58
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 58
          },
          "location": {
            "column": 15,
            "row": 58
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 58
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 58,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 67
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 67
          },
          "location": {
            "column": 27,
            "row": 67
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 67
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 67,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 68
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 35,
            "row": 68
          },
          "location": {
            "column": 31,
            "row": 68
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 31,
      "row": 68
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 68,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 69
          },
          "location": {
            "column": 25,
            "row": 69
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 69
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 58,
            "row": 72
          },
          "location": {
            "column": 34,
            "row": 72
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 72
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 72
          },
          "location": {
            "column": 43,
            "row": 72
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 72
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 73
          },
          "location": {
            "column": 27,
            "row": 73
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 73
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 73
          },
          "location": {
            "column": 36,
            "row": 73
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 73
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 74
          },
          "location": {
            "column": 24,
            "row": 74
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 74
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 101
          },
          "location": {
            "column": 51,
            "row": 101
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 101
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 102
          },
          "location": {
            "column": 50,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 103
          },
          "location": {
            "column": 52,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 83,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, PatternType] | None",
          "end_location": {
            "column": 83,
            "row": 104
          },
          "location": {
            "column": 51,
            "row": 104
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 51,
      "row": 104
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 104
          },
          "location": {
            "column": 60,
            "row": 104
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 104
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 209
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 209
          },
          "location": {
            "column": 53,
            "row": 209
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 209
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 210
          },
          "location": {
            "column": 44,
            "row": 210
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 210
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 211
          },
          "location": {
            "column": 46,
            "row": 211
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 211
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 211
          },
          "location": {
            "column": 65,
            "row": 211
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 211
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 67,
      "row": 226
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | np.ndarray",
          "end_location": {
            "column": 66,
            "row": 226
          },
          "location": {
            "column": 48,
            "row": 226
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 226
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 226,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 100,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 99,
            "row": 229
          },
          "location": {
            "column": 87,
            "row": 229
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 73,
      "row": 229
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 69,
      "row": 233
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | np.ndarray",
          "end_location": {
            "column": 68,
            "row": 233
          },
          "location": {
            "column": 50,
            "row": 233
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 233
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 233,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 104,
      "row": 236
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 103,
            "row": 236
          },
          "location": {
            "column": 91,
            "row": 236
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 77,
      "row": 236
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 236,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 253
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 253
          },
          "location": {
            "column": 67,
            "row": 253
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 253
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 253,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 254
          },
          "location": {
            "column": 50,
            "row": 254
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 254
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 96,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PatternTestResult | None",
          "end_location": {
            "column": 96,
            "row": 254
          },
          "location": {
            "column": 69,
            "row": 254
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 69,
      "row": 254
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 34,
      "row": 315
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 88,
            "row": 315
          },
          "location": {
            "column": 88,
            "row": 315
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 21,
      "row": 315
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 315,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 529
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 87,
            "row": 529
          },
          "location": {
            "column": 82,
            "row": 529
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 82,
      "row": 529
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 529,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 537
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 66,
            "row": 537
          },
          "location": {
            "column": 61,
            "row": 537
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 61,
      "row": 537
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 537,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 552
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 552
          },
          "location": {
            "column": 64,
            "row": 552
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 552
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 552
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 552
          },
          "location": {
            "column": 92,
            "row": 552
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 552
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 572
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 572
          },
          "location": {
            "column": 50,
            "row": 572
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 572
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 572,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 572
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 572
          },
          "location": {
            "column": 78,
            "row": 572
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 572
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 572,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 73,
            "row": 594
          },
          "location": {
            "column": 69,
            "row": 594
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 69,
      "row": 594
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 603
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 603
          },
          "location": {
            "column": 67,
            "row": 603
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 603
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 603,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 604
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 604
          },
          "location": {
            "column": 50,
            "row": 604
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 604
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 604,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 605
          },
          "location": {
            "column": 52,
            "row": 605
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 605
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 605,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 605
          },
          "location": {
            "column": 71,
            "row": 605
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 605
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 605,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 620
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_j",
          "end_location": {
            "column": 18,
            "row": 620
          },
          "location": {
            "column": 17,
            "row": 620
          }
        }
      ],
      "message": "Rename unused `j` to `_j`"
    },
    "location": {
      "column": 17,
      "row": 620
    },
    "message": "Loop control variable `j` not used within loop body",
    "noqa_row": 620,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 632
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 69,
            "row": 632
          },
          "location": {
            "column": 65,
            "row": 632
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 65,
      "row": 632
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 632,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 633
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 633
          },
          "location": {
            "column": 57,
            "row": 633
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 633
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 633,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 633
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 633
          },
          "location": {
            "column": 76,
            "row": 633
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 633
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 633,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 663
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 663
          },
          "location": {
            "column": 54,
            "row": 663
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 663
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 663,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 664
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 85,
            "row": 664
          },
          "location": {
            "column": 61,
            "row": 664
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 61,
      "row": 664
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 664,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 664
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 664
          },
          "location": {
            "column": 70,
            "row": 664
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 664
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 664,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 66,
      "row": 689
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 29,
            "row": 689
          },
          "location": {
            "column": 25,
            "row": 689
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 66,
            "row": 689
          },
          "location": {
            "column": 65,
            "row": 689
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 25,
      "row": 689
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 689,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 749
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 69,
            "row": 749
          },
          "location": {
            "column": 65,
            "row": 749
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 65,
      "row": 749
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 749,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 769
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 95,
            "row": 769
          },
          "location": {
            "column": 91,
            "row": 769
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 91,
      "row": 769
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 769,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 784
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 93,
            "row": 784
          },
          "location": {
            "column": 89,
            "row": 784
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 89,
      "row": 784
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 784,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 799
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 96,
            "row": 799
          },
          "location": {
            "column": 92,
            "row": 799
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 92,
      "row": 799
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 799,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 820
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 820
          },
          "location": {
            "column": 43,
            "row": 820
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 820
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 820,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 821
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 821
          },
          "location": {
            "column": 40,
            "row": 821
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 821
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 821,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 822
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 822
          },
          "location": {
            "column": 42,
            "row": 822
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 822
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 822,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 823
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 823
          },
          "location": {
            "column": 50,
            "row": 823
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 823
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 823,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 12,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom datetime import datetime\nimport json\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\nfrom scipy.stats import normaltest, pearsonr, shapiro, spearmanr\nfrom sklearn.metrics import cohen_kappa_score\nfrom sklearn.utils import resample\nfrom statsmodels.stats.multitest import multipletests\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 65,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from scipy.stats import normaltest, shapiro, pearsonr",
          "end_location": {
            "column": 65,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats.spearmanr`"
    },
    "location": {
      "column": 56,
      "row": 16
    },
    "message": "`scipy.stats.spearmanr` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `sklearn.metrics.cohen_kappa_score`"
    },
    "location": {
      "column": 29,
      "row": 17
    },
    "message": "`sklearn.metrics.cohen_kappa_score` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`json` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 23,
            "row": 32
          },
          "location": {
            "column": 19,
            "row": 32
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 19,
      "row": 32
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 33
          },
          "location": {
            "column": 28,
            "row": 33
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 33
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 36,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | List[float]",
          "end_location": {
            "column": 36,
            "row": 56
          },
          "location": {
            "column": 11,
            "row": 56
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 11,
      "row": 56
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 56
          },
          "location": {
            "column": 24,
            "row": 56
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 56
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 62
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 20,
            "row": 62
          },
          "location": {
            "column": 16,
            "row": 62
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 16,
      "row": 62
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 62,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 71
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 71
          },
          "location": {
            "column": 21,
            "row": 71
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 71
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 71,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 20,
            "row": 72
          },
          "location": {
            "column": 16,
            "row": 72
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 16,
      "row": 72
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 73
          },
          "location": {
            "column": 15,
            "row": 73
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 73
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 59,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "StatisticalConfig | None",
          "end_location": {
            "column": 59,
            "row": 90
          },
          "location": {
            "column": 32,
            "row": 90
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 90
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 101
          },
          "location": {
            "column": 18,
            "row": 101
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 101
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 101
          },
          "location": {
            "column": 23,
            "row": 101
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 101
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 102
          },
          "location": {
            "column": 18,
            "row": 102
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 102
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 102
          },
          "location": {
            "column": 27,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 103
          },
          "location": {
            "column": 10,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 69,
      "row": 173
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 173
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 173,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 175
          },
          "location": {
            "column": 41,
            "row": 175
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 175
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 175
          },
          "location": {
            "column": 46,
            "row": 175
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 175
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 175
          },
          "location": {
            "column": 72,
            "row": 175
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 175
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 190
          },
          "location": {
            "column": 47,
            "row": 190
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 190
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 190
          },
          "location": {
            "column": 52,
            "row": 190
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 190
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 190
          },
          "location": {
            "column": 78,
            "row": 190
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 190
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 101,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 101,
            "row": 190
          },
          "location": {
            "column": 97,
            "row": 190
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 97,
      "row": 190
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 222
          },
          "location": {
            "column": 38,
            "row": 222
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 222
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 50,
      "row": 226
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 49,
            "row": 226
          },
          "location": {
            "column": 37,
            "row": 226
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 12,
      "row": 226
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 226,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 249
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 249
          },
          "location": {
            "column": 49,
            "row": 249
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 249
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 249,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 249
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 249
          },
          "location": {
            "column": 54,
            "row": 249
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 249
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 249,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 249
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 84,
            "row": 249
          },
          "location": {
            "column": 80,
            "row": 249
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 80,
      "row": 249
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 249,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 103,
      "row": 249
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 103,
            "row": 249
          },
          "location": {
            "column": 99,
            "row": 249
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 99,
      "row": 249
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 249,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 274
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 36,
            "row": 274
          },
          "location": {
            "column": 32,
            "row": 274
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 32,
      "row": 274
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 274,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 274
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 274
          },
          "location": {
            "column": 54,
            "row": 274
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 274
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 274,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 274
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 274
          },
          "location": {
            "column": 64,
            "row": 274
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 274
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 274,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 297
          },
          "location": {
            "column": 55,
            "row": 297
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 297
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 297
          },
          "location": {
            "column": 74,
            "row": 297
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 297
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 327
          },
          "location": {
            "column": 39,
            "row": 327
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 327
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 80,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | List[float]",
          "end_location": {
            "column": 80,
            "row": 327
          },
          "location": {
            "column": 55,
            "row": 327
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 55,
      "row": 327
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 327
          },
          "location": {
            "column": 68,
            "row": 327
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 327
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 333
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 333
    },
    "message": "Do not use bare `except`",
    "noqa_row": 333,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 336
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 48,
            "row": 336
          },
          "location": {
            "column": 44,
            "row": 336
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 44,
      "row": 336
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 336,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 336
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 336
          },
          "location": {
            "column": 60,
            "row": 336
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 336
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 336,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 354
          },
          "location": {
            "column": 44,
            "row": 354
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 354
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 354
          },
          "location": {
            "column": 63,
            "row": 354
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 354
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 373
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 373
          },
          "location": {
            "column": 39,
            "row": 373
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 373
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 373,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 373
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 373
          },
          "location": {
            "column": 55,
            "row": 373
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 373
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 373,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 397
          },
          "location": {
            "column": 41,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 397
          },
          "location": {
            "column": 57,
            "row": 397
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 397
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 406
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 406
    },
    "message": "Do not use bare `except`",
    "noqa_row": 406,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 409
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 409
          },
          "location": {
            "column": 40,
            "row": 409
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 409
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 409,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 409
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 409
          },
          "location": {
            "column": 56,
            "row": 409
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 409
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 409,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 420
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 420
    },
    "message": "Do not use bare `except`",
    "noqa_row": 420,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 423
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 423
          },
          "location": {
            "column": 46,
            "row": 423
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 423
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 423,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 441
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 441
    },
    "message": "Do not use bare `except`",
    "noqa_row": 441,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 444
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 444
          },
          "location": {
            "column": 53,
            "row": 444
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 444
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 444,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 444
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 444
          },
          "location": {
            "column": 78,
            "row": 444
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 444
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 444,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 101,
      "row": 444
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 101,
            "row": 444
          },
          "location": {
            "column": 97,
            "row": 444
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 97,
      "row": 444
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 444,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 461
          },
          "location": {
            "column": 54,
            "row": 461
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 461
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 461
          },
          "location": {
            "column": 79,
            "row": 461
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 461
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 102,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 102,
            "row": 461
          },
          "location": {
            "column": 98,
            "row": 461
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 98,
      "row": 461
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 23,
      "row": 465
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_group_type",
          "end_location": {
            "column": 23,
            "row": 465
          },
          "location": {
            "column": 13,
            "row": 465
          }
        }
      ],
      "message": "Rename unused `group_type` to `_group_type`"
    },
    "location": {
      "column": 13,
      "row": 465
    },
    "message": "Loop control variable `group_type` not used within loop body",
    "noqa_row": 465,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 55,
      "row": 465
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "groups",
          "end_location": {
            "column": 31,
            "row": 465
          },
          "location": {
            "column": 13,
            "row": 465
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 55,
            "row": 465
          },
          "location": {
            "column": 50,
            "row": 465
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 35,
      "row": 465
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 465,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 477
          },
          "location": {
            "column": 43,
            "row": 477
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 477
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 477
          },
          "location": {
            "column": 48,
            "row": 477
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 477
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 477
          },
          "location": {
            "column": 63,
            "row": 477
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 477
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 477
          },
          "location": {
            "column": 68,
            "row": 477
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 477
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 477
          },
          "location": {
            "column": 78,
            "row": 477
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 477
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 514
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 514
          },
          "location": {
            "column": 52,
            "row": 514
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 514
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 514,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 514
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 514
          },
          "location": {
            "column": 88,
            "row": 514
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 514
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 514,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 536
          },
          "location": {
            "column": 46,
            "row": 536
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 536
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 536
          },
          "location": {
            "column": 65,
            "row": 536
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 536
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 558
          },
          "location": {
            "column": 43,
            "row": 558
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 558
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 558,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 558
          },
          "location": {
            "column": 68,
            "row": 558
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 558
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 558,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 558
          },
          "location": {
            "column": 87,
            "row": 558
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 558
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 558,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 27,
      "row": 564
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_group_type",
          "end_location": {
            "column": 27,
            "row": 564
          },
          "location": {
            "column": 17,
            "row": 564
          }
        }
      ],
      "message": "Rename unused `group_type` to `_group_type`"
    },
    "location": {
      "column": 17,
      "row": 564
    },
    "message": "Loop control variable `group_type` not used within loop body",
    "noqa_row": 564,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 59,
      "row": 564
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "groups",
          "end_location": {
            "column": 35,
            "row": 564
          },
          "location": {
            "column": 17,
            "row": 564
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 59,
            "row": 564
          },
          "location": {
            "column": 54,
            "row": 564
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 564
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 564,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 576
          },
          "location": {
            "column": 43,
            "row": 576
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 576
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 576
          },
          "location": {
            "column": 48,
            "row": 576
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 576
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 576
          },
          "location": {
            "column": 63,
            "row": 576
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 576
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 576
          },
          "location": {
            "column": 68,
            "row": 576
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 576
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 576
          },
          "location": {
            "column": 78,
            "row": 576
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 576
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 616
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 616
          },
          "location": {
            "column": 42,
            "row": 616
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 616
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 616,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 616
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 616
          },
          "location": {
            "column": 67,
            "row": 616
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 616
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 616,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 616
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 616
          },
          "location": {
            "column": 86,
            "row": 616
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 616
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 616,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 638
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 638
          },
          "location": {
            "column": 70,
            "row": 638
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 638
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 638,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 667
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 667
          },
          "location": {
            "column": 51,
            "row": 667
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 667
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 667,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 667
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 667
          },
          "location": {
            "column": 70,
            "row": 667
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 667
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 667,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 697
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 697
          },
          "location": {
            "column": 39,
            "row": 697
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 697
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 697,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 697
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 697
          },
          "location": {
            "column": 64,
            "row": 697
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 697
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 697,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 697
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 697
          },
          "location": {
            "column": 83,
            "row": 697
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 697
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 697,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 729
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 729
          },
          "location": {
            "column": 43,
            "row": 729
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 729
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 729,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 729
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 729
          },
          "location": {
            "column": 62,
            "row": 729
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 729
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 729,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 760
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 760
          },
          "location": {
            "column": 43,
            "row": 760
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 760
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 760,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 760
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 760
          },
          "location": {
            "column": 62,
            "row": 760
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 760
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 760,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 796
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 796
          },
          "location": {
            "column": 53,
            "row": 796
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 796
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 796,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 796
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 796
          },
          "location": {
            "column": 72,
            "row": 796
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 796
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 796,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 796
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 86,
            "row": 796
          },
          "location": {
            "column": 82,
            "row": 796
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 82,
      "row": 796
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 796,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 832
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 832
          },
          "location": {
            "column": 50,
            "row": 832
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 832
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 832,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 832
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 832
          },
          "location": {
            "column": 69,
            "row": 832
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 832
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 832,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 846
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 846
          },
          "location": {
            "column": 52,
            "row": 846
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 846
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 846,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 846
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 846
          },
          "location": {
            "column": 71,
            "row": 846
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 846
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 846,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 864
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 864
          },
          "location": {
            "column": 47,
            "row": 864
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 864
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 864,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 864
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 864
          },
          "location": {
            "column": 66,
            "row": 864
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 864
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 864,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 875
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 875
          },
          "location": {
            "column": 40,
            "row": 875
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 875
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 875,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 881
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 881
    },
    "message": "Do not use bare `except`",
    "noqa_row": 881,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 884
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 884
          },
          "location": {
            "column": 49,
            "row": 884
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 884
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 884,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 890
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 890
    },
    "message": "Do not use bare `except`",
    "noqa_row": 890,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 893
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 893
          },
          "location": {
            "column": 55,
            "row": 893
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 893
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 893,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 893
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 893
          },
          "location": {
            "column": 74,
            "row": 893
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 893
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 893,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 46,
      "row": 928
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 928
    },
    "message": "`_generate_statistical_recommendations` is too complex (12 > 10)",
    "noqa_row": 928,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 928
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 928
          },
          "location": {
            "column": 63,
            "row": 928
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 928
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 928,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 928
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 86,
            "row": 928
          },
          "location": {
            "column": 82,
            "row": 928
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 82,
      "row": 928
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 928,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 79,
      "row": 953
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 952
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 952,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 965
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 965
          },
          "location": {
            "column": 47,
            "row": 965
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 965
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 965,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 115,
      "row": 965
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 115,
            "row": 965
          },
          "location": {
            "column": 110,
            "row": 965
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 110,
      "row": 965
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 965,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM108",
    "end_location": {
      "column": 59,
      "row": 1012
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "acceleration = 0 if denominator == 0 else numerator / denominator",
          "end_location": {
            "column": 59,
            "row": 1012
          },
          "location": {
            "column": 17,
            "row": 1009
          }
        }
      ],
      "message": "Replace `if`-`else`-block with `acceleration = 0 if denominator == 0 else numerator / denominator`"
    },
    "location": {
      "column": 17,
      "row": 1009
    },
    "message": "Use ternary operator `acceleration = 0 if denominator == 0 else numerator / denominator` instead of `if`-`else`-block",
    "noqa_row": 1009,
    "url": "https://docs.astral.sh/ruff/rules/if-else-block-instead-of-if-exp"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 32,
      "row": 1041
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1041
    },
    "message": "`_calculate_effect_sizes` is too complex (11 > 10)",
    "noqa_row": 1041,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1041
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 1041
          },
          "location": {
            "column": 48,
            "row": 1041
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 1041
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1041,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 1041
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 76,
            "row": 1041
          },
          "location": {
            "column": 72,
            "row": 1041
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 72,
      "row": 1041
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1041,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 1041
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 1041
          },
          "location": {
            "column": 88,
            "row": 1041
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 1041
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1041,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 1100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 1100
          },
          "location": {
            "column": 60,
            "row": 1100
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 1100
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 131,
      "row": 1100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 131,
            "row": 1100
          },
          "location": {
            "column": 127,
            "row": 1100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 127,
      "row": 1100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 1120
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1120
    },
    "message": "Do not use bare `except`",
    "noqa_row": 1120,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1176
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 1176
          },
          "location": {
            "column": 48,
            "row": 1176
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 1176
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1176,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 1176
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/statistical_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 1176
          },
          "location": {
            "column": 67,
            "row": 1176
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 1176
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1176,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 10,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 29,
            "row": 20
          },
          "location": {
            "column": 25,
            "row": 20
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 25,
      "row": 20
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "StructuralConfig | None",
          "end_location": {
            "column": 58,
            "row": 35
          },
          "location": {
            "column": 32,
            "row": 35
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 35
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 39
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 39
          },
          "location": {
            "column": 53,
            "row": 39
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 39
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 39,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 63
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 63
          },
          "location": {
            "column": 34,
            "row": 63
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 63
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 89
          },
          "location": {
            "column": 52,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/evaluation/structural_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 107
          },
          "location": {
            "column": 66,
            "row": 107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import asdict, dataclass\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple\nimport warnings\n\nimport numpy as np\nimport pandas as pd\nfrom scipy import stats\nfrom scipy.spatial.distance import jensenshannon\nfrom sklearn.cluster import KMeans\nfrom sklearn.decomposition import PCA\nfrom sklearn.metrics import (\n    calinski_harabasz_score,\n    davies_bouldin_score,\n    mean_absolute_error,\n    mean_squared_error,\n    r2_score,\n    silhouette_score,\n)\nfrom sklearn.preprocessing import StandardScaler\n\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 15
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Tuple",
          "end_location": {
            "column": 52,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `typing.Optional`"
    },
    "location": {
      "column": 44,
      "row": 17
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass",
          "end_location": {
            "column": 42,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `dataclasses.asdict`"
    },
    "location": {
      "column": 36,
      "row": 18
    },
    "message": "`dataclasses.asdict` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.metrics import (\n    silhouette_score\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 20
    },
    "message": "`sklearn.metrics.mean_squared_error` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 44,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.metrics import (\n    silhouette_score\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 20
    },
    "message": "`sklearn.metrics.mean_absolute_error` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.metrics import (\n    silhouette_score\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 46,
      "row": 20
    },
    "message": "`sklearn.metrics.r2_score` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.metrics import (\n    silhouette_score\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 23,
      "row": 21
    },
    "message": "`sklearn.metrics.calinski_harabasz_score` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 68,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.metrics import (\n    silhouette_score\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 48,
      "row": 21
    },
    "message": "`sklearn.metrics.davies_bouldin_score` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 22,
            "row": 40
          },
          "location": {
            "column": 18,
            "row": 40
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 18,
      "row": 40
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 31,
            "row": 42
          },
          "location": {
            "column": 26,
            "row": 42
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 26,
      "row": 42
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 101
          },
          "location": {
            "column": 19,
            "row": 101
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 101
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 101
          },
          "location": {
            "column": 24,
            "row": 101
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 101
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 35,
            "row": 102
          },
          "location": {
            "column": 31,
            "row": 102
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 31,
      "row": 102
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 103
          },
          "location": {
            "column": 24,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 104
          },
          "location": {
            "column": 28,
            "row": 104
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 104
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM118",
    "end_location": {
      "column": 74,
      "row": 201
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 74,
            "row": 201
          },
          "location": {
            "column": 67,
            "row": 201
          }
        }
      ],
      "message": "Remove `.keys()`"
    },
    "location": {
      "column": 51,
      "row": 201
    },
    "message": "Use `key in dict` instead of `key in dict.keys()`",
    "noqa_row": 201,
    "url": "https://docs.astral.sh/ruff/rules/in-dict-keys"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 215
          },
          "location": {
            "column": 94,
            "row": 215
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 215
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 384
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 384
          },
          "location": {
            "column": 76,
            "row": 384
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 384
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 384,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 24,
      "row": 486
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 27,
            "row": 486
          },
          "location": {
            "column": 9,
            "row": 486
          }
        }
      ],
      "message": "Remove assignment to unused variable `sorted_features`"
    },
    "location": {
      "column": 9,
      "row": 486
    },
    "message": "Local variable `sorted_features` is assigned to but never used",
    "noqa_row": 486,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 517
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 517
          },
          "location": {
            "column": 53,
            "row": 517
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 517
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 517,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 523
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 523
          },
          "location": {
            "column": 55,
            "row": 523
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 523
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 523,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 547
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 90,
            "row": 547
          },
          "location": {
            "column": 85,
            "row": 547
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 85,
      "row": 547
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 547,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 624
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 624
          },
          "location": {
            "column": 75,
            "row": 624
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 624
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 624,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 628
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 21,
            "row": 628
          },
          "location": {
            "column": 17,
            "row": 628
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 17,
      "row": 628
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 628,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 672
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 672
          },
          "location": {
            "column": 74,
            "row": 672
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 672
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 672,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 700
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/enhanced_quality_scorer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 81,
            "row": 700
          },
          "location": {
            "column": 77,
            "row": 700
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 77,
      "row": 700
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 700,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 45,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport os\nfrom pathlib import Path\nimport subprocess\nfrom typing import Any\n\nfrom rich.console import Console\nfrom rich.progress import (\n    BarColumn,\n    Progress,\n    SpinnerColumn,\n    TaskProgressColumn,\n    TextColumn,\n)\nfrom sqlalchemy import func, select\nimport yaml\n\nfrom ..database import get_session\nfrom ..database.config import DatabaseConfig\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 35,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import get_session",
          "end_location": {
            "column": 35,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 45,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.config import DatabaseConfig",
          "end_location": {
            "column": 45,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 45,
      "row": 162
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 161
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 250
          },
          "location": {
            "column": 13,
            "row": 250
          }
        }
      ],
      "message": "Remove assignment to unused variable `config`"
    },
    "location": {
      "column": 13,
      "row": 250
    },
    "message": "Local variable `config` is assigned to but never used",
    "noqa_row": 250,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 29,
      "row": 283
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 279
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 279,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 29,
      "row": 283
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 281
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "UP015",
    "end_location": {
      "column": 43,
      "row": 435
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 43,
            "row": 435
          },
          "location": {
            "column": 38,
            "row": 435
          }
        }
      ],
      "message": "Remove mode argument"
    },
    "location": {
      "column": 40,
      "row": 435
    },
    "message": "Unnecessary mode argument",
    "noqa_row": 435,
    "url": "https://docs.astral.sh/ruff/rules/redundant-open-modes"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 28,
      "row": 440
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "                import json\n\n                from ..database.models import RuleMetadata\n",
          "end_location": {
            "column": 1,
            "row": 441
          },
          "location": {
            "column": 1,
            "row": 439
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 17,
      "row": 439
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 59,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RuleMetadata",
          "end_location": {
            "column": 59,
            "row": 439
          },
          "location": {
            "column": 17,
            "row": 439
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 439
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 61,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import TrainingPrompt",
          "end_location": {
            "column": 61,
            "row": 498
          },
          "location": {
            "column": 17,
            "row": 498
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 498
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 83,
      "row": 529
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"Enhanced synthetic data generation complete:\"",
          "end_location": {
            "column": 83,
            "row": 529
          },
          "location": {
            "column": 36,
            "row": 529
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 36,
      "row": 529
    },
    "message": "f-string without any placeholders",
    "noqa_row": 529,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "S103",
    "end_location": {
      "column": 44,
      "row": 547
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 547
    },
    "message": "`os.chmod` setting a permissive mask `0o755` on file or directory",
    "noqa_row": 547,
    "url": "https://docs.astral.sh/ruff/rules/bad-file-permissions"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 63,
      "row": 578
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.mcp_server.mcp_server import improve_prompt",
          "end_location": {
            "column": 63,
            "row": 578
          },
          "location": {
            "column": 13,
            "row": 578
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 578
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 578,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 581
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/initializer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 581
          },
          "location": {
            "column": 13,
            "row": 581
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 13,
      "row": 581
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 581,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 35,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport gzip\nimport hashlib\nimport json\nfrom pathlib import Path\nimport platform\nimport tarfile\nfrom typing import Any\n\nfrom rich.console import Console\nfrom rich.progress import (\n    BarColumn,\n    Progress,\n    SpinnerColumn,\n    TaskProgressColumn,\n    TextColumn,\n)\n\nfrom ..database import get_session\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 35,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import get_session",
          "end_location": {
            "column": 35,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 36,
      "row": 145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 145
    },
    "message": "Undefined name `subprocess`",
    "noqa_row": 145,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 150
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 150
          },
          "location": {
            "column": 16,
            "row": 150
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 150
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 150,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 38,
      "row": 261
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 261
    },
    "message": "`verify_backup_integrity` is too complex (11 > 10)",
    "noqa_row": 261,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 43,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 32,
      "row": 442
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 47,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 47,
            "row": 445
          },
          "location": {
            "column": 42,
            "row": 445
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 46,
      "row": 445
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 44,
      "row": 447
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 44,
            "row": 447
          },
          "location": {
            "column": 39,
            "row": 447
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 43,
      "row": 447
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 447,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 36,
      "row": 482
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 482
    },
    "message": "Undefined name `subprocess`",
    "noqa_row": 482,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 487
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 487
          },
          "location": {
            "column": 16,
            "row": 487
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 487
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 487,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 45,
      "row": 627
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 627
    },
    "message": "`restore_from_migration_package` is too complex (12 > 10)",
    "noqa_row": 627,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 29,
      "row": 678
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 32,
            "row": 678
          },
          "location": {
            "column": 21,
            "row": 678
          }
        }
      ],
      "message": "Remove assignment to unused variable `metadata`"
    },
    "location": {
      "column": 21,
      "row": 678
    },
    "message": "Local variable `metadata` is assigned to but never used",
    "noqa_row": 678,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S202",
    "end_location": {
      "column": 31,
      "row": 750
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 750
    },
    "message": "Uses of `tarfile.extractall()`",
    "noqa_row": 750,
    "url": "https://docs.astral.sh/ruff/rules/tarfile-unsafe-members"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 14,
      "row": 755
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 753
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 753,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 14,
      "row": 759
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 757
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 757,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 88,
      "row": 761
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 761
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 761,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 14,
      "row": 787
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 785
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 785,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 88,
      "row": 789
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 789
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 789,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 14,
      "row": 793
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 791
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 791,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 36,
      "row": 861
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 861
    },
    "message": "Undefined name `subprocess`",
    "noqa_row": 861,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 869
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 869
          },
          "location": {
            "column": 16,
            "row": 869
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 869
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 869,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "S202",
    "end_location": {
      "column": 31,
      "row": 894
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 894
    },
    "message": "Uses of `tarfile.extractall()`",
    "noqa_row": 894,
    "url": "https://docs.astral.sh/ruff/rules/tarfile-unsafe-members"
  },
  {
    "cell": null,
    "code": "S202",
    "end_location": {
      "column": 31,
      "row": 938
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/migration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 938
    },
    "message": "Uses of `tarfile.extractall()`",
    "noqa_row": 938,
    "url": "https://docs.astral.sh/ruff/rules/tarfile-unsafe-members"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 45,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple\n\nimport numpy as np\nfrom sklearn.datasets import make_classification\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.models import TrainingPrompt\nfrom .enhanced_quality_scorer import EnhancedQualityMetrics, EnhancedQualityScorer\n\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 14
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Tuple",
          "end_location": {
            "column": 52,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `typing.Optional`"
    },
    "location": {
      "column": 44,
      "row": 18
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 83,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .enhanced_quality_scorer import EnhancedQualityScorer",
          "end_location": {
            "column": 83,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `.enhanced_quality_scorer.EnhancedQualityMetrics`"
    },
    "location": {
      "column": 61,
      "row": 23
    },
    "message": "`.enhanced_quality_scorer.EnhancedQualityMetrics` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 45,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import TrainingPrompt",
          "end_location": {
            "column": 45,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 36
          },
          "location": {
            "column": 15,
            "row": 36
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 36
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 36,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 25,
            "row": 36
          },
          "location": {
            "column": 20,
            "row": 36
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 20,
      "row": 36
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 36,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 37
          },
          "location": {
            "column": 21,
            "row": 37
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 37
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 36,
            "row": 37
          },
          "location": {
            "column": 31,
            "row": 37
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 31,
      "row": 37
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 32,
            "row": 38
          },
          "location": {
            "column": 27,
            "row": 38
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 27,
      "row": 38
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 39
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 28,
            "row": 39
          },
          "location": {
            "column": 23,
            "row": 39
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 23,
      "row": 39
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 39,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 52
          },
          "location": {
            "column": 26,
            "row": 52
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 52
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 53
          },
          "location": {
            "column": 27,
            "row": 53
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 53
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 98
          },
          "location": {
            "column": 45,
            "row": 98
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 98
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 228
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 228
          },
          "location": {
            "column": 61,
            "row": 228
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 228
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 228,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 309
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 309
          },
          "location": {
            "column": 94,
            "row": 309
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 309
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 309,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 108,
      "row": 356
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 108,
            "row": 356
          },
          "location": {
            "column": 104,
            "row": 356
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 104,
      "row": 356
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 356,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 397
          },
          "location": {
            "column": 52,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 397
          },
          "location": {
            "column": 57,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 397
          },
          "location": {
            "column": 86,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 107,
            "row": 397
          },
          "location": {
            "column": 102,
            "row": 397
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 102,
      "row": 397
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 112,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 112,
            "row": 397
          },
          "location": {
            "column": 108,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 108,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 117,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 117,
            "row": 397
          },
          "location": {
            "column": 113,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 113,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 131,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 131,
            "row": 397
          },
          "location": {
            "column": 127,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 127,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 467
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 467
          },
          "location": {
            "column": 51,
            "row": 467
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 467
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 467,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 467
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 467
          },
          "location": {
            "column": 56,
            "row": 467
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 467
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 467,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 89,
      "row": 467
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 89,
            "row": 467
          },
          "location": {
            "column": 85,
            "row": 467
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 85,
      "row": 467
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 467,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 117,
      "row": 467
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 117,
            "row": 467
          },
          "location": {
            "column": 113,
            "row": 467
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 113,
      "row": 467
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 467,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 510
          },
          "location": {
            "column": 52,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 510
          },
          "location": {
            "column": 57,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 510
          },
          "location": {
            "column": 86,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 107,
            "row": 510
          },
          "location": {
            "column": 102,
            "row": 510
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 102,
      "row": 510
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 112,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 112,
            "row": 510
          },
          "location": {
            "column": 108,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 108,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 117,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 117,
            "row": 510
          },
          "location": {
            "column": 113,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 113,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 131,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 131,
            "row": 510
          },
          "location": {
            "column": 127,
            "row": 510
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 127,
      "row": 510
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 533
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 533
          },
          "location": {
            "column": 53,
            "row": 533
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 533
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 533,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 61,
      "row": 553
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 60,
            "row": 553
          },
          "location": {
            "column": 60,
            "row": 553
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 17,
      "row": 553
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 553,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 587
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 587
          },
          "location": {
            "column": 76,
            "row": 587
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 587
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 587,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 598
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 598
          },
          "location": {
            "column": 53,
            "row": 598
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 598
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 598,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 598
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 598
          },
          "location": {
            "column": 72,
            "row": 598
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 598
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 598,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 657
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/installation/synthetic_data_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 81,
            "row": 657
          },
          "location": {
            "column": 77,
            "row": 657
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 77,
      "row": 657
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 657,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 19,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass, field\nfrom enum import Enum\nfrom functools import lru_cache\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple\n\nimport numpy as np\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass",
          "end_location": {
            "column": 41,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `dataclasses.field`"
    },
    "location": {
      "column": 36,
      "row": 10
    },
    "message": "`dataclasses.field` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `functools.lru_cache`"
    },
    "location": {
      "column": 23,
      "row": 12
    },
    "message": "`functools.lru_cache` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_detector import PromptDomain, DomainClassificationResult",
          "end_location": {
            "column": 84,
            "row": 17
          },
          "location": {
            "column": 5,
            "row": 17
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_detector import PromptDomain, DomainClassificationResult",
          "end_location": {
            "column": 84,
            "row": 17
          },
          "location": {
            "column": 5,
            "row": 17
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 67,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from ..analysis.domain_detector import DomainClassificationResult, PromptDomain\n    from ..analysis.domain_feature_extractor import DomainFeatures\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 84,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": null,
    "location": {
      "column": 58,
      "row": 17
    },
    "message": "`..analysis.domain_detector.DomainClassificationResult` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 67,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_feature_extractor import DomainFeatures",
          "end_location": {
            "column": 67,
            "row": 18
          },
          "location": {
            "column": 5,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 57,
      "row": 62
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "WeightingConfig | None",
          "end_location": {
            "column": 57,
            "row": 62
          },
          "location": {
            "column": 32,
            "row": 62
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 62
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 62,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 73
          },
          "location": {
            "column": 46,
            "row": 73
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 73
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 73
          },
          "location": {
            "column": 65,
            "row": 73
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 73
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 260
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 53,
            "row": 260
          },
          "location": {
            "column": 48,
            "row": 260
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 48,
      "row": 260
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 260,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 306
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 306
          },
          "location": {
            "column": 69,
            "row": 306
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 306
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 306,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 327
          },
          "location": {
            "column": 47,
            "row": 327
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 327
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 328
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 328
          },
          "location": {
            "column": 49,
            "row": 328
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 328
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 328,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 328
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 59,
            "row": 328
          },
          "location": {
            "column": 54,
            "row": 328
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 54,
      "row": 328
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 328,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 329
          },
          "location": {
            "column": 60,
            "row": 329
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 329
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 329,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 357
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 357
          },
          "location": {
            "column": 43,
            "row": 357
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 357
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 357,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 358
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 49,
            "row": 358
          },
          "location": {
            "column": 44,
            "row": 358
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 44,
      "row": 358
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 358,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 371
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 371
          },
          "location": {
            "column": 45,
            "row": 371
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 371
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 371,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 373
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 51,
            "row": 373
          },
          "location": {
            "column": 46,
            "row": 373
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 46,
      "row": 373
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 373,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 393
          },
          "location": {
            "column": 44,
            "row": 393
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 393
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 393,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 395
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 50,
            "row": 395
          },
          "location": {
            "column": 45,
            "row": 395
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 45,
      "row": 395
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 395,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 402
          },
          "location": {
            "column": 43,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 404
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 49,
            "row": 404
          },
          "location": {
            "column": 44,
            "row": 404
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 44,
      "row": 404
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 404,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 447
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 86,
            "row": 447
          },
          "location": {
            "column": 81,
            "row": 447
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 81,
      "row": 447
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 447,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_aware_weighter.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 470
          },
          "location": {
            "column": 70,
            "row": 470
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 470
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 470,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import defaultdict\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nimport hashlib\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\nfrom sklearn.cluster import KMeans\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.manifold import TSNE\nfrom sklearn.metrics.pairwise import cosine_similarity\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass",
          "end_location": {
            "column": 41,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `dataclasses.field`"
    },
    "location": {
      "column": 36,
      "row": 9
    },
    "message": "`dataclasses.field` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats`"
    },
    "location": {
      "column": 19,
      "row": 16
    },
    "message": "`scipy.stats` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `sklearn.manifold.TSNE`"
    },
    "location": {
      "column": 30,
      "row": 20
    },
    "message": "`sklearn.manifold.TSNE` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 97,
            "row": 30
          },
          "location": {
            "column": 97,
            "row": 30
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 30
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 34
    },
    "message": "`opacus` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 50,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 35,
      "row": 36
    },
    "message": "`opacus.validators.ModuleValidator` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 36,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 100,
            "row": 40
          },
          "location": {
            "column": 100,
            "row": 40
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 40
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 43
    },
    "message": "`cryptography` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 106,
            "row": 48
          },
          "location": {
            "column": 106,
            "row": 48
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 48
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig, get_lightweight_config, get_ultra_lightweight_config, get_memory_optimized_config",
          "end_location": {
            "column": 6,
            "row": 55
          },
          "location": {
            "column": 5,
            "row": 52
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig, get_lightweight_config, get_ultra_lightweight_config, get_memory_optimized_config",
          "end_location": {
            "column": 6,
            "row": 55
          },
          "location": {
            "column": 5,
            "row": 52
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig, get_lightweight_config, get_ultra_lightweight_config, get_memory_optimized_config",
          "end_location": {
            "column": 6,
            "row": 55
          },
          "location": {
            "column": 5,
            "row": 52
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig, get_lightweight_config, get_ultra_lightweight_config, get_memory_optimized_config",
          "end_location": {
            "column": 6,
            "row": 55
          },
          "location": {
            "column": 5,
            "row": 52
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig, get_lightweight_config, get_ultra_lightweight_config, get_memory_optimized_config",
          "end_location": {
            "column": 6,
            "row": 55
          },
          "location": {
            "column": 5,
            "row": 52
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 6,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from ..analysis.linguistic_analyzer import (\n        LinguisticAnalyzer,\n        LinguisticConfig,\n        get_lightweight_config,\n        get_memory_optimized_config,\n        get_ultra_lightweight_config,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 56
          },
          "location": {
            "column": 1,
            "row": 52
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 52
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 69,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 47,
      "row": 53
    },
    "message": "`..analysis.linguistic_analyzer.get_lightweight_config` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 37,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 54
    },
    "message": "`..analysis.linguistic_analyzer.get_ultra_lightweight_config` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 66,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 54
    },
    "message": "`..analysis.linguistic_analyzer.get_memory_optimized_config` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 59
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 92,
            "row": 59
          },
          "location": {
            "column": 92,
            "row": 59
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 59
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 59,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 91,
      "row": 63
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_feature_extractor import DomainFeatureExtractor, DomainFeatures",
          "end_location": {
            "column": 91,
            "row": 63
          },
          "location": {
            "column": 5,
            "row": 63
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 63
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 91,
      "row": 63
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_feature_extractor import DomainFeatureExtractor, DomainFeatures",
          "end_location": {
            "column": 91,
            "row": 63
          },
          "location": {
            "column": 5,
            "row": 63
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 63
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 56,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from ..analysis.domain_detector import PromptDomain\n    from ..analysis.domain_feature_extractor import (\n        DomainFeatureExtractor,\n        DomainFeatures,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 65
          },
          "location": {
            "column": 1,
            "row": 63
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 63
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 91,
      "row": 63
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 77,
      "row": 63
    },
    "message": "`..analysis.domain_feature_extractor.DomainFeatures` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 56,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_detector import PromptDomain",
          "end_location": {
            "column": 56,
            "row": 64
          },
          "location": {
            "column": 5,
            "row": 64
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 64
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 56,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 44,
      "row": 64
    },
    "message": "`..analysis.domain_detector.PromptDomain` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 68
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 104,
            "row": 68
          },
          "location": {
            "column": 104,
            "row": 68
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 68
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 68,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 104,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from .context_aware_weighter import (\n        ContextAwareFeatureWeighter,\n        WeightingConfig,\n        WeightingStrategy,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 73
          },
          "location": {
            "column": 1,
            "row": 72
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 72
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 103,
            "row": 76
          },
          "location": {
            "column": 103,
            "row": 76
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 76
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 171
          },
          "location": {
            "column": 27,
            "row": 171
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 171
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 171
          },
          "location": {
            "column": 32,
            "row": 171
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 171
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 172
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 32,
            "row": 172
          },
          "location": {
            "column": 28,
            "row": 172
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 28,
      "row": 172
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 172,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 172
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 172
          },
          "location": {
            "column": 33,
            "row": 172
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 172
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 172,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 174
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 174
          },
          "location": {
            "column": 22,
            "row": 174
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 174
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 174,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 186
          },
          "location": {
            "column": 29,
            "row": 186
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 186
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 199
          },
          "location": {
            "column": 26,
            "row": 199
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 199
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 17,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 205
    },
    "message": "`__init__` is too complex (13 > 10)",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ContextConfig | None",
          "end_location": {
            "column": 55,
            "row": 205
          },
          "location": {
            "column": 32,
            "row": 205
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 205
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 215
          },
          "location": {
            "column": 30,
            "row": 215
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 215
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 215
          },
          "location": {
            "column": 40,
            "row": 215
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 215
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 215
          },
          "location": {
            "column": 45,
            "row": 215
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 215
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 216
          },
          "location": {
            "column": 32,
            "row": 216
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 216
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 216,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 216
          },
          "location": {
            "column": 42,
            "row": 216
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 216
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 216,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 217
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 48,
            "row": 217
          },
          "location": {
            "column": 44,
            "row": 217
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 44,
      "row": 217
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 217,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 218
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 62,
            "row": 218
          },
          "location": {
            "column": 36,
            "row": 218
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 218
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 218,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 218
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 218
          },
          "location": {
            "column": 45,
            "row": 218
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 218
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 218,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 221
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 221
          },
          "location": {
            "column": 35,
            "row": 221
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 221
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 221,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 221
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 49,
            "row": 221
          },
          "location": {
            "column": 45,
            "row": 221
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 45,
      "row": 221
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 221,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 221
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 221
          },
          "location": {
            "column": 50,
            "row": 221
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 221
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 221,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 54,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 54,
            "row": 222
          },
          "location": {
            "column": 34,
            "row": 222
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 222
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 223
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 38,
            "row": 223
          },
          "location": {
            "column": 25,
            "row": 223
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 223
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 223,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 226
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 43,
            "row": 226
          },
          "location": {
            "column": 30,
            "row": 226
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 226
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 226,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 228
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 228
          },
          "location": {
            "column": 32,
            "row": 228
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 228
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 228,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "bytes | None",
          "end_location": {
            "column": 45,
            "row": 229
          },
          "location": {
            "column": 30,
            "row": 229
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 229
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 230
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 46,
            "row": 230
          },
          "location": {
            "column": 33,
            "row": 230
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 33,
      "row": 230
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 230,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 44,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 326
    },
    "message": "`analyze_context_effectiveness` is too complex (16 > 10)",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 326
          },
          "location": {
            "column": 60,
            "row": 326
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 326
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 326
          },
          "location": {
            "column": 70,
            "row": 326
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 326
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 94,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 94,
            "row": 326
          },
          "location": {
            "column": 90,
            "row": 326
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 90,
      "row": 326
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 338
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 338
    },
    "message": "Loop control variable `context_key` not used within loop body",
    "noqa_row": 338,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 445
          },
          "location": {
            "column": 50,
            "row": 445
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 445
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 445
          },
          "location": {
            "column": 55,
            "row": 445
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 445
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 445
          },
          "location": {
            "column": 75,
            "row": 445
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 445
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 89,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 89,
            "row": 445
          },
          "location": {
            "column": 85,
            "row": 445
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 85,
      "row": 445
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 94,
      "row": 445
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 94,
            "row": 445
          },
          "location": {
            "column": 90,
            "row": 445
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 90,
      "row": 445
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 445,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 463
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 463
          },
          "location": {
            "column": 46,
            "row": 463
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 463
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 463,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 480
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 480
          },
          "location": {
            "column": 71,
            "row": 480
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 480
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 480,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 480
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 480
          },
          "location": {
            "column": 76,
            "row": 480
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 480
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 480,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 31,
      "row": 532
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 532
    },
    "message": "Redefinition of unused `stats` from line 16",
    "noqa_row": 532,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 31,
      "row": 537
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 537
    },
    "message": "Redefinition of unused `stats` from line 16",
    "noqa_row": 537,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 563
          },
          "location": {
            "column": 21,
            "row": 563
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 563
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 563
          },
          "location": {
            "column": 31,
            "row": 563
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 563
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F402",
    "end_location": {
      "column": 27,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 576
    },
    "message": "Import `stats` from line 16 shadowed by loop variable",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/import-shadowed-by-loop-var"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 34,
      "row": 591
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 591
    },
    "message": "`_identify_unique_patterns` is too complex (13 > 10)",
    "noqa_row": 591,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 591
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 591
          },
          "location": {
            "column": 50,
            "row": 591
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 591
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 591,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 591
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 591
          },
          "location": {
            "column": 55,
            "row": 591
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 591
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 591,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 591
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 97,
            "row": 591
          },
          "location": {
            "column": 93,
            "row": 591
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 93,
      "row": 591
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 591,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 40,
      "row": 641
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 641
    },
    "message": "`_perform_cross_context_analysis` is too complex (12 > 10)",
    "noqa_row": 641,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 641
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 641
          },
          "location": {
            "column": 65,
            "row": 641
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 641
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 641,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 99,
      "row": 641
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 99,
            "row": 641
          },
          "location": {
            "column": 95,
            "row": 641
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 95,
      "row": 641
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 641,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 733
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 733
          },
          "location": {
            "column": 27,
            "row": 733
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 733
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 733,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 734
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 14,
            "row": 734
          },
          "location": {
            "column": 10,
            "row": 734
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 10,
      "row": 734
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 734,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 780
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 84,
            "row": 780
          },
          "location": {
            "column": 80,
            "row": 780
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 80,
      "row": 780
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 780,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 808
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 808
          },
          "location": {
            "column": 27,
            "row": 808
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 808
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 808,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 809
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 809
          },
          "location": {
            "column": 39,
            "row": 809
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 809
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 809,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 810
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 14,
            "row": 810
          },
          "location": {
            "column": 10,
            "row": 810
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 10,
      "row": 810
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 810,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 42,
      "row": 848
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"Consistency issues\"",
          "end_location": {
            "column": 42,
            "row": 848
          },
          "location": {
            "column": 21,
            "row": 848
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 21,
      "row": 848
    },
    "message": "f-string without any placeholders",
    "noqa_row": 848,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 886
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 886
          },
          "location": {
            "column": 60,
            "row": 886
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 886
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 886,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 886
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 886
          },
          "location": {
            "column": 65,
            "row": 886
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 886
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 886,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 887
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 887
          },
          "location": {
            "column": 56,
            "row": 887
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 887
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 887,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 888
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 888
          },
          "location": {
            "column": 53,
            "row": 888
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 888
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 888,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 888
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 888
          },
          "location": {
            "column": 58,
            "row": 888
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 888
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 888,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 888
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 888
          },
          "location": {
            "column": 78,
            "row": 888
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 888
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 888,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 952
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 952
          },
          "location": {
            "column": 78,
            "row": 952
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 952
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 952,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 953
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 953
          },
          "location": {
            "column": 62,
            "row": 953
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 953
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 953,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 953
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 953
          },
          "location": {
            "column": 67,
            "row": 953
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 953
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 953,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 954
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 954
          },
          "location": {
            "column": 64,
            "row": 954
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 954
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 954,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 954
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 954
          },
          "location": {
            "column": 83,
            "row": 954
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 954
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 954,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1000
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1000
          },
          "location": {
            "column": 63,
            "row": 1000
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1000
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1000,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 1000
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 1000
          },
          "location": {
            "column": 68,
            "row": 1000
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 1000
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1000,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1001
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 1001
          },
          "location": {
            "column": 57,
            "row": 1001
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 1001
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1001,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1001
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1001
          },
          "location": {
            "column": 62,
            "row": 1001
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1001
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1001,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 1001
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 86,
            "row": 1001
          },
          "location": {
            "column": 82,
            "row": 1001
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 82,
      "row": 1001
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1001,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 1001
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 1001
          },
          "location": {
            "column": 87,
            "row": 1001
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 1001
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1001,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 42,
      "row": 1029
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1029
    },
    "message": "`_select_contextual_demonstrations` is too complex (17 > 10)",
    "noqa_row": 1029,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1029
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1029
          },
          "location": {
            "column": 63,
            "row": 1029
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1029
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1029,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 1029
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 1029
          },
          "location": {
            "column": 68,
            "row": 1029
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 1029
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1029,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 1030
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 1030
          },
          "location": {
            "column": 56,
            "row": 1030
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 1030
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1030,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 1030
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 1030
          },
          "location": {
            "column": 61,
            "row": 1030
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 1030
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1030,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1031
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 63,
            "row": 1031
          },
          "location": {
            "column": 59,
            "row": 1031
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 59,
      "row": 1031
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1031,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 1031
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 1031
          },
          "location": {
            "column": 78,
            "row": 1031
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 1031
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1031,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 1031
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 1031
          },
          "location": {
            "column": 83,
            "row": 1031
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 1031
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1031,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 1105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 1105
          },
          "location": {
            "column": 56,
            "row": 1105
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 1105
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1105,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 1105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 1105
          },
          "location": {
            "column": 61,
            "row": 1105
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 1105
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1105,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1106
          },
          "location": {
            "column": 50,
            "row": 1106
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1106
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 1107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 1107
          },
          "location": {
            "column": 46,
            "row": 1107
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 1107
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 1107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 1107
          },
          "location": {
            "column": 51,
            "row": 1107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 1107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 1107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 1107
          },
          "location": {
            "column": 71,
            "row": 1107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 1107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 1151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1146
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 1146,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 36,
      "row": 1183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1183
    },
    "message": "`_apply_differential_privacy` is too complex (11 > 10)",
    "noqa_row": 1183,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 118,
      "row": 1183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[Dict[str, Any]] | Dict[str, Any]",
          "end_location": {
            "column": 118,
            "row": 1183
          },
          "location": {
            "column": 75,
            "row": 1183
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 75,
      "row": 1183
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 1183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 1183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 1183
          },
          "location": {
            "column": 81,
            "row": 1183
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 1183
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 1183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 1183
          },
          "location": {
            "column": 86,
            "row": 1183
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 1183
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 1183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 107,
            "row": 1183
          },
          "location": {
            "column": 103,
            "row": 1183
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 103,
      "row": 1183
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 85,
      "row": 1199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 84,
            "row": 1199
          },
          "location": {
            "column": 72,
            "row": 1199
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 52,
      "row": 1199
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 1199,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 81,
      "row": 1208
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 80,
            "row": 1208
          },
          "location": {
            "column": 68,
            "row": 1208
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 48,
      "row": 1208
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 1208,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 75,
      "row": 1239
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 74,
            "row": 1239
          },
          "location": {
            "column": 62,
            "row": 1239
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 36,
      "row": 1239
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 1239,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1270
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 63,
            "row": 1270
          },
          "location": {
            "column": 59,
            "row": 1270
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 59,
      "row": 1270
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1270,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1270
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 1270
          },
          "location": {
            "column": 64,
            "row": 1270
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 1270
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1270,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1271
          },
          "location": {
            "column": 50,
            "row": 1271
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1271
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 1271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 1271
          },
          "location": {
            "column": 60,
            "row": 1271
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 1271
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 1271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 1271
          },
          "location": {
            "column": 65,
            "row": 1271
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 1271
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 1271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 1271
          },
          "location": {
            "column": 86,
            "row": 1271
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 1271
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 1319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 1319
          },
          "location": {
            "column": 69,
            "row": 1319
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 1319
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 1319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 1319
          },
          "location": {
            "column": 79,
            "row": 1319
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 1319
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 1319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 1319
          },
          "location": {
            "column": 84,
            "row": 1319
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 1319
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 1320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 50,
            "row": 1320
          },
          "location": {
            "column": 46,
            "row": 1320
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 46,
      "row": 1320
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1320,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 1320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 1320
          },
          "location": {
            "column": 51,
            "row": 1320
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 1320
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1320,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 1320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 1320
          },
          "location": {
            "column": 71,
            "row": 1320
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 1320
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1320,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 1326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_client_id",
          "end_location": {
            "column": 22,
            "row": 1326
          },
          "location": {
            "column": 13,
            "row": 1326
          }
        }
      ],
      "message": "Rename unused `client_id` to `_client_id`"
    },
    "location": {
      "column": 13,
      "row": 1326
    },
    "message": "Loop control variable `client_id` not used within loop body",
    "noqa_row": 1326,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 60,
      "row": 1326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "client_examples",
          "end_location": {
            "column": 39,
            "row": 1326
          },
          "location": {
            "column": 13,
            "row": 1326
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 60,
            "row": 1326
          },
          "location": {
            "column": 55,
            "row": 1326
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 43,
      "row": 1326
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1326,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 1363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 1363
          },
          "location": {
            "column": 54,
            "row": 1363
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 1363
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 63,
            "row": 1363
          },
          "location": {
            "column": 59,
            "row": 1363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 59,
      "row": 1363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 1364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 1364
          },
          "location": {
            "column": 43,
            "row": 1364
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 1364
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 1364
          },
          "location": {
            "column": 48,
            "row": 1364
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 1364
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 1364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 1364
          },
          "location": {
            "column": 68,
            "row": 1364
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 1364
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1393
          },
          "location": {
            "column": 50,
            "row": 1393
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1393
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1393,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 64,
      "row": 1402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1402
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 1402,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 1419
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 1419
          },
          "location": {
            "column": 66,
            "row": 1419
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 1419
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1419,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 1419
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 90,
            "row": 1419
          },
          "location": {
            "column": 85,
            "row": 1419
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 85,
      "row": 1419
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 1419,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 1419
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 1419
          },
          "location": {
            "column": 91,
            "row": 1419
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 1419
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1419,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1452
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1452
          },
          "location": {
            "column": 50,
            "row": 1452
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1452
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1452,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 1452
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 74,
            "row": 1452
          },
          "location": {
            "column": 69,
            "row": 1452
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 69,
      "row": 1452
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 1452,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 1452
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 1452
          },
          "location": {
            "column": 75,
            "row": 1452
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 1452
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1452,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 1470
          },
          "location": {
            "column": 57,
            "row": 1470
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 1470
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1470,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1470
          },
          "location": {
            "column": 62,
            "row": 1470
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1470
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1470,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 1470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 86,
            "row": 1470
          },
          "location": {
            "column": 82,
            "row": 1470
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 82,
      "row": 1470
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1470,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 1519
          },
          "location": {
            "column": 57,
            "row": 1519
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 1519
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1519
          },
          "location": {
            "column": 62,
            "row": 1519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 1519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 86,
            "row": 1519
          },
          "location": {
            "column": 82,
            "row": 1519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 82,
      "row": 1519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 76,
      "row": 1536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 75,
            "row": 1536
          },
          "location": {
            "column": 75,
            "row": 1536
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 39,
      "row": 1536
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 1536,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1548
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 63,
            "row": 1548
          },
          "location": {
            "column": 59,
            "row": 1548
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 59,
      "row": 1548
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1548,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1548
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 1548
          },
          "location": {
            "column": 64,
            "row": 1548
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 1548
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1548,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 1566
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 1566
          },
          "location": {
            "column": 53,
            "row": 1566
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 1566
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1566,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1566
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 1566
          },
          "location": {
            "column": 58,
            "row": 1566
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 1566
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1566,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 1566
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 1566
          },
          "location": {
            "column": 78,
            "row": 1566
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 1566
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1566,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 37,
      "row": 1682
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1682
    },
    "message": "`_extract_clustering_features` is too complex (22 > 10)",
    "noqa_row": 1682,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 1682
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 1682
          },
          "location": {
            "column": 53,
            "row": 1682
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 1682
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1682,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1682
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 1682
          },
          "location": {
            "column": 58,
            "row": 1682
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 1682
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1682,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 98,
      "row": 1682
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 98,
            "row": 1682
          },
          "location": {
            "column": 78,
            "row": 1682
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 78,
      "row": 1682
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1682,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 93,
      "row": 1809
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 92,
            "row": 1809
          },
          "location": {
            "column": 92,
            "row": 1809
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 65,
      "row": 1809
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 1809,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 93,
      "row": 1816
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 92,
            "row": 1816
          },
          "location": {
            "column": 92,
            "row": 1816
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 65,
      "row": 1816
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 1816,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 1827
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 41,
            "row": 1827
          },
          "location": {
            "column": 37,
            "row": 1827
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 37,
      "row": 1827
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1827,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 1870
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 1870
          },
          "location": {
            "column": 52,
            "row": 1870
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 1870
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1870,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 1870
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 1870
          },
          "location": {
            "column": 71,
            "row": 1870
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 1870
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1870,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 32,
      "row": 1893
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 1893
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 1893,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 31,
      "row": 1901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            import random\n\n            import numpy as np\n",
          "end_location": {
            "column": 1,
            "row": 1902
          },
          "location": {
            "column": 1,
            "row": 1900
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 1900
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1900,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1959
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 1959
          },
          "location": {
            "column": 48,
            "row": 1959
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 1959
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1959,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 1959
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 1959
          },
          "location": {
            "column": 67,
            "row": 1959
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 1959
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1959,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 32,
      "row": 1987
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 1987
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 1987,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 31,
      "row": 1995
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            import random\n\n            import numpy as np\n",
          "end_location": {
            "column": 1,
            "row": 1996
          },
          "location": {
            "column": 1,
            "row": 1994
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 1994
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1994,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 64,
      "row": 2015
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.domain_detector import PromptDomain",
          "end_location": {
            "column": 64,
            "row": 2015
          },
          "location": {
            "column": 13,
            "row": 2015
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 2015
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 2015,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 119,
      "row": 2049
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 118,
            "row": 2049
          },
          "location": {
            "column": 106,
            "row": 2049
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 92,
      "row": 2049
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 2049,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 122,
      "row": 2054
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 121,
            "row": 2054
          },
          "location": {
            "column": 109,
            "row": 2054
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 95,
      "row": 2054
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 2054,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 122,
      "row": 2059
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 121,
            "row": 2059
          },
          "location": {
            "column": 109,
            "row": 2059
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 95,
      "row": 2059
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 2059,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 100,
      "row": 2115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from sklearn.metrics import (\n            calinski_harabasz_score,\n            davies_bouldin_score,\n            silhouette_score,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 2116
          },
          "location": {
            "column": 1,
            "row": 2115
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 2115
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 2115,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 2194
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 2194
          },
          "location": {
            "column": 43,
            "row": 2194
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 2194
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2194,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 2194
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 2194
          },
          "location": {
            "column": 48,
            "row": 2194
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 2194
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2194,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 2195
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 2195
          },
          "location": {
            "column": 50,
            "row": 2195
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 2195
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2195,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 2195
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 2195
          },
          "location": {
            "column": 60,
            "row": 2195
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 2195
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2195,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 2195
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 2195
          },
          "location": {
            "column": 65,
            "row": 2195
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 2195
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2195,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 2210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 48,
            "row": 2210
          },
          "location": {
            "column": 44,
            "row": 2210
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 44,
      "row": 2210
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2210,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 2210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 2210
          },
          "location": {
            "column": 49,
            "row": 2210
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 2210
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2210,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 2210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 2210
          },
          "location": {
            "column": 69,
            "row": 2210
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 2210
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2210,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 2241
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 2241
          },
          "location": {
            "column": 61,
            "row": 2241
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 2241
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2241,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 2246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 2246
          },
          "location": {
            "column": 39,
            "row": 2246
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 2246
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 2246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/context_learner.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 2246
          },
          "location": {
            "column": 49,
            "row": 2246
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 2246
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 55,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import Counter, defaultdict\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nimport logging\nimport re\nfrom typing import Any, Dict, List, Optional, Tuple\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\nfrom sklearn.cluster import DBSCAN\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.metrics.pairwise import cosine_similarity\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Tuple`"
    },
    "location": {
      "column": 47,
      "row": 11
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 55,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `sklearn.metrics.pairwise.cosine_similarity`"
    },
    "location": {
      "column": 38,
      "row": 20
    },
    "message": "`sklearn.metrics.pairwise.cosine_similarity` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 40,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from sklearn.covariance import EllipticEnvelope\n    from sklearn.ensemble import IsolationForest\n    from sklearn.svm import OneClassSVM\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 24
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 102,
            "row": 30
          },
          "location": {
            "column": 102,
            "row": 30
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 30
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 94,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import prometheus_client\n    from prometheus_client import (\n        Counter as PromCounter,\n        Gauge,\n        Histogram,\n        start_http_server,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 35
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 33
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 33
    },
    "message": "`prometheus_client` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 97,
            "row": 38
          },
          "location": {
            "column": 97,
            "row": 38
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 38
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 41
    },
    "message": "`art` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 55,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 37,
      "row": 42
    },
    "message": "`art.attacks.evasion.FastGradientMethod` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 64,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 47,
      "row": 43
    },
    "message": "`art.estimators.classification.SklearnClassifier` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 123,
            "row": 47
          },
          "location": {
            "column": 123,
            "row": 47
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 47
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 77
          },
          "location": {
            "column": 19,
            "row": 77
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 77
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 83
          },
          "location": {
            "column": 23,
            "row": 83
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 83
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 99
          },
          "location": {
            "column": 24,
            "row": 99
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 99
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 99,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 100
          },
          "location": {
            "column": 29,
            "row": 100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 101
          },
          "location": {
            "column": 20,
            "row": 101
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 101
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 101
          },
          "location": {
            "column": 25,
            "row": 101
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 101
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 111
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 111
          },
          "location": {
            "column": 15,
            "row": 111
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 111
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 111,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 112
          },
          "location": {
            "column": 22,
            "row": 112
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 112
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 120
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 120
          },
          "location": {
            "column": 22,
            "row": 120
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 120
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 120,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 27,
            "row": 121
          },
          "location": {
            "column": 23,
            "row": 121
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 23,
      "row": 121
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 121
          },
          "location": {
            "column": 28,
            "row": 121
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 121
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 131
          },
          "location": {
            "column": 21,
            "row": 131
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 131
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 132
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 132
          },
          "location": {
            "column": 24,
            "row": 132
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 132
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 132,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 146
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 146
          },
          "location": {
            "column": 22,
            "row": 146
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 146
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 146,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 158
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 158
          },
          "location": {
            "column": 18,
            "row": 158
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 158
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 159
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 159
          },
          "location": {
            "column": 24,
            "row": 159
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 159
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 159,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 160
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 32,
            "row": 160
          },
          "location": {
            "column": 28,
            "row": 160
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 28,
      "row": 160
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 170
          },
          "location": {
            "column": 21,
            "row": 170
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 170
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 170
          },
          "location": {
            "column": 26,
            "row": 170
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 170
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 171
          },
          "location": {
            "column": 22,
            "row": 171
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 171
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "datetime | None",
          "end_location": {
            "column": 37,
            "row": 183
          },
          "location": {
            "column": 19,
            "row": 183
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 183
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 189
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "FailureConfig | None",
          "end_location": {
            "column": 55,
            "row": 189
          },
          "location": {
            "column": 32,
            "row": 189
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 189
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 189,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 199
          },
          "location": {
            "column": 32,
            "row": 199
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 199
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 200
          },
          "location": {
            "column": 27,
            "row": 200
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 200
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 201
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 37,
            "row": 201
          },
          "location": {
            "column": 33,
            "row": 201
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 33,
      "row": 201
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 201,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 202
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 202
          },
          "location": {
            "column": 26,
            "row": 202
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 202
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 202,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 212
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 212
          },
          "location": {
            "column": 39,
            "row": 212
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 212
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 212,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 213
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 213
          },
          "location": {
            "column": 34,
            "row": 213
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 213
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 213,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 214
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 214
          },
          "location": {
            "column": 33,
            "row": 214
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 214
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 214,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 46,
            "row": 215
          },
          "location": {
            "column": 42,
            "row": 215
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 42,
      "row": 215
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 215
          },
          "location": {
            "column": 47,
            "row": 215
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 215
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 218
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 218
          },
          "location": {
            "column": 34,
            "row": 218
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 218
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 218,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 219
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 219
          },
          "location": {
            "column": 29,
            "row": 219
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 219
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 219,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 220
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 220
          },
          "location": {
            "column": 29,
            "row": 220
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 220
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 220,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 229
          },
          "location": {
            "column": 52,
            "row": 229
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 229
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 229
          },
          "location": {
            "column": 57,
            "row": 229
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 229
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 229
          },
          "location": {
            "column": 77,
            "row": 229
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 229
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 310
          },
          "location": {
            "column": 57,
            "row": 310
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 310
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 310,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 310
          },
          "location": {
            "column": 62,
            "row": 310
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 310
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 310,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 86,
            "row": 310
          },
          "location": {
            "column": 82,
            "row": 310
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 82,
      "row": 310
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 310,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 334
          },
          "location": {
            "column": 51,
            "row": 334
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 334
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 334
          },
          "location": {
            "column": 56,
            "row": 334
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 334
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 334
          },
          "location": {
            "column": 86,
            "row": 334
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 334
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 334
          },
          "location": {
            "column": 91,
            "row": 334
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 334
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 115,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 115,
            "row": 334
          },
          "location": {
            "column": 111,
            "row": 334
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 111,
      "row": 334
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 399
          },
          "location": {
            "column": 58,
            "row": 399
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 399
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 399
          },
          "location": {
            "column": 63,
            "row": 399
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 399
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 87,
            "row": 399
          },
          "location": {
            "column": 83,
            "row": 399
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 83,
      "row": 399
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 399
          },
          "location": {
            "column": 88,
            "row": 399
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 399
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 424
          },
          "location": {
            "column": 54,
            "row": 424
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 424
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 424,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 63,
            "row": 424
          },
          "location": {
            "column": 59,
            "row": 424
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 59,
      "row": 424
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 424,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 424
          },
          "location": {
            "column": 79,
            "row": 424
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 424
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 424,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 424
          },
          "location": {
            "column": 84,
            "row": 424
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 424
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 424,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 460
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 460
          },
          "location": {
            "column": 53,
            "row": 460
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 460
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 460,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 460
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 460
          },
          "location": {
            "column": 58,
            "row": 460
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 460
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 460,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 460
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 460
          },
          "location": {
            "column": 78,
            "row": 460
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 460
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 460,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 460
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 460
          },
          "location": {
            "column": 83,
            "row": 460
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 460
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 460,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 473
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 473
          },
          "location": {
            "column": 13,
            "row": 473
          }
        }
      ],
      "message": "Remove assignment to unused variable `avg_length`"
    },
    "location": {
      "column": 13,
      "row": 473
    },
    "message": "Local variable `avg_length` is assigned to but never used",
    "noqa_row": 473,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 474
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 474
          },
          "location": {
            "column": 13,
            "row": 474
          }
        }
      ],
      "message": "Remove assignment to unused variable `std_length`"
    },
    "location": {
      "column": 13,
      "row": 474
    },
    "message": "Local variable `std_length` is assigned to but never used",
    "noqa_row": 474,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 545
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 545
          },
          "location": {
            "column": 51,
            "row": 545
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 545
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 545,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 545
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 545
          },
          "location": {
            "column": 56,
            "row": 545
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 545
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 545,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 545
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 545
          },
          "location": {
            "column": 76,
            "row": 545
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 545
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 545,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 545
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 85,
            "row": 545
          },
          "location": {
            "column": 81,
            "row": 545
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 81,
      "row": 545
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 545,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 38,
      "row": 592
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 592
    },
    "message": "`_find_temporal_patterns` is too complex (13 > 10)",
    "noqa_row": 592,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 592
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 592
          },
          "location": {
            "column": 55,
            "row": 592
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 592
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 592,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 592
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 592
          },
          "location": {
            "column": 60,
            "row": 592
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 592
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 592,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 592
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 84,
            "row": 592
          },
          "location": {
            "column": 80,
            "row": 592
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 80,
      "row": 592
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 592,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 89,
      "row": 592
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 89,
            "row": 592
          },
          "location": {
            "column": 85,
            "row": 592
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 85,
      "row": 592
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 592,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 604
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 604
    },
    "message": "Do not use bare `except`",
    "noqa_row": 604,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 29,
      "row": 605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 604
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 604,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 666
          },
          "location": {
            "column": 53,
            "row": 666
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 666
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 666
          },
          "location": {
            "column": 58,
            "row": 666
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 666
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 666
          },
          "location": {
            "column": 86,
            "row": 666
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 666
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 666
          },
          "location": {
            "column": 91,
            "row": 666
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 666
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 115,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 115,
            "row": 666
          },
          "location": {
            "column": 111,
            "row": 666
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 111,
      "row": 666
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 120,
      "row": 666
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 120,
            "row": 666
          },
          "location": {
            "column": 116,
            "row": 666
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 116,
      "row": 666
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 738
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 738
          },
          "location": {
            "column": 51,
            "row": 738
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 738
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 738,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 738
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 738
          },
          "location": {
            "column": 56,
            "row": 738
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 738
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 738,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 738
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 738
          },
          "location": {
            "column": 76,
            "row": 738
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 738
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 738,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 738
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 85,
            "row": 738
          },
          "location": {
            "column": 81,
            "row": 738
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 81,
      "row": 738
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 738,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 24,
      "row": 743
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 27,
            "row": 743
          },
          "location": {
            "column": 9,
            "row": 743
          }
        }
      ],
      "message": "Remove assignment to unused variable `characteristics`"
    },
    "location": {
      "column": 9,
      "row": 743
    },
    "message": "Local variable `characteristics` is assigned to but never used",
    "noqa_row": 743,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 777
          },
          "location": {
            "column": 48,
            "row": 777
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 777
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 777
          },
          "location": {
            "column": 53,
            "row": 777
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 777
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 777
          },
          "location": {
            "column": 73,
            "row": 777
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 777
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 777
          },
          "location": {
            "column": 78,
            "row": 777
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 777
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 838
          },
          "location": {
            "column": 55,
            "row": 838
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 838
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 838
          },
          "location": {
            "column": 60,
            "row": 838
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 838
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 94,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 94,
            "row": 838
          },
          "location": {
            "column": 90,
            "row": 838
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 90,
      "row": 838
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 99,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 99,
            "row": 838
          },
          "location": {
            "column": 95,
            "row": 838
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 95,
      "row": 838
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 119,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 119,
            "row": 838
          },
          "location": {
            "column": 115,
            "row": 838
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 115,
      "row": 838
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 124,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 124,
            "row": 838
          },
          "location": {
            "column": 120,
            "row": 838
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 120,
      "row": 838
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 901
          },
          "location": {
            "column": 58,
            "row": 901
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 901
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 901,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 901
          },
          "location": {
            "column": 63,
            "row": 901
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 901
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 901,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 95,
            "row": 901
          },
          "location": {
            "column": 91,
            "row": 901
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 91,
      "row": 901
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 901,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 100,
      "row": 901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 100,
            "row": 901
          },
          "location": {
            "column": 96,
            "row": 901
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 96,
      "row": 901
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 901,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 120,
      "row": 901
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 120,
            "row": 901
          },
          "location": {
            "column": 116,
            "row": 901
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 116,
      "row": 901
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 901,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 69,
            "row": 961
          },
          "location": {
            "column": 65,
            "row": 961
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 65,
      "row": 961
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 961
          },
          "location": {
            "column": 70,
            "row": 961
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 961
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 94,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 94,
            "row": 961
          },
          "location": {
            "column": 90,
            "row": 961
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 90,
      "row": 961
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 99,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 99,
            "row": 961
          },
          "location": {
            "column": 95,
            "row": 961
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 95,
      "row": 961
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1011
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 63,
            "row": 1011
          },
          "location": {
            "column": 59,
            "row": 1011
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 59,
      "row": 1011
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1011,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1011
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 1011
          },
          "location": {
            "column": 64,
            "row": 1011
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 1011
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1011,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 1011
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 1011
          },
          "location": {
            "column": 84,
            "row": 1011
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 1011
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1011,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 1011
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 1011
          },
          "location": {
            "column": 89,
            "row": 1011
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 1011
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1011,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 1055
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 1055
          },
          "location": {
            "column": 41,
            "row": 1055
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 1055
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1055,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 1064
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 1064
          },
          "location": {
            "column": 49,
            "row": 1064
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 1064
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1064,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 1064
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 1064
          },
          "location": {
            "column": 54,
            "row": 1064
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 1064
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1064,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 1064
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 1064
          },
          "location": {
            "column": 74,
            "row": 1064
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 1064
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1064,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 1064
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 1064
          },
          "location": {
            "column": 84,
            "row": 1064
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 1064
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1064,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1089
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 1089
          },
          "location": {
            "column": 50,
            "row": 1089
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 1089
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1089,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 1094
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1094
    },
    "message": "Do not use bare `except`",
    "noqa_row": 1094,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1097
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 1097
          },
          "location": {
            "column": 48,
            "row": 1097
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 1097
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1097,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 1097
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 1097
          },
          "location": {
            "column": 53,
            "row": 1097
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 1097
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1097,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 1097
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 1097
          },
          "location": {
            "column": 73,
            "row": 1097
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 1097
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1097,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 1121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 49,
            "row": 1121
          },
          "location": {
            "column": 45,
            "row": 1121
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 45,
      "row": 1121
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 1121
          },
          "location": {
            "column": 50,
            "row": 1121
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 1121
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 1121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 74,
            "row": 1121
          },
          "location": {
            "column": 70,
            "row": 1121
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 70,
      "row": 1121
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 1145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 1145
          },
          "location": {
            "column": 41,
            "row": 1145
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 1145
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1145,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 1145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 1145
          },
          "location": {
            "column": 55,
            "row": 1145
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 1145
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1145,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 63,
      "row": 1157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 62,
            "row": 1157
          },
          "location": {
            "column": 62,
            "row": 1157
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 32,
      "row": 1157
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 1157,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 1161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1161
    },
    "message": "Do not use bare `except`",
    "noqa_row": 1161,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 1164
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 1164
          },
          "location": {
            "column": 47,
            "row": 1164
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 1164
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1164,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 1177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 1177
          },
          "location": {
            "column": 26,
            "row": 1177
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 1177
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1177,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 1178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 36,
            "row": 1178
          },
          "location": {
            "column": 32,
            "row": 1178
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 32,
      "row": 1178
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1178,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 1179
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 1179
          },
          "location": {
            "column": 36,
            "row": 1179
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 1179
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1179,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 1180
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 38,
            "row": 1180
          },
          "location": {
            "column": 34,
            "row": 1180
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 34,
      "row": 1180
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1180,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 1181
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 1181
          },
          "location": {
            "column": 27,
            "row": 1181
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 1181
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1181,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 1250
          },
          "location": {
            "column": 57,
            "row": 1250
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 1250
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1250,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1250
          },
          "location": {
            "column": 62,
            "row": 1250
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1250
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1250,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 1250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 97,
            "row": 1250
          },
          "location": {
            "column": 93,
            "row": 1250
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 93,
      "row": 1250
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1250,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 102,
      "row": 1250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 102,
            "row": 1250
          },
          "location": {
            "column": 98,
            "row": 1250
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 98,
      "row": 1250
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1250,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 122,
      "row": 1250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 122,
            "row": 1250
          },
          "location": {
            "column": 118,
            "row": 1250
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 118,
      "row": 1250
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1250,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 1297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 1297
          },
          "location": {
            "column": 67,
            "row": 1297
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 1297
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 1297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 1297
          },
          "location": {
            "column": 72,
            "row": 1297
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 1297
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 1297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 1297
          },
          "location": {
            "column": 92,
            "row": 1297
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 1297
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 1349
          },
          "location": {
            "column": 64,
            "row": 1349
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 1349
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1349,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 1349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 1349
          },
          "location": {
            "column": 69,
            "row": 1349
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 1349
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1349,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 1349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 1349
          },
          "location": {
            "column": 89,
            "row": 1349
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 1349
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1349,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 1394
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 1394
          },
          "location": {
            "column": 49,
            "row": 1394
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 1394
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1394,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 1394
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 1394
          },
          "location": {
            "column": 54,
            "row": 1394
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 1394
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1394,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 1394
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 92,
            "row": 1394
          },
          "location": {
            "column": 88,
            "row": 1394
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 88,
      "row": 1394
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1394,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 1394
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 1394
          },
          "location": {
            "column": 93,
            "row": 1394
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 1394
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1394,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 1425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 1425
          },
          "location": {
            "column": 51,
            "row": 1425
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 1425
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 1425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 1425
          },
          "location": {
            "column": 56,
            "row": 1425
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 1425
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 1425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 1425
          },
          "location": {
            "column": 76,
            "row": 1425
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 1425
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 1425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 1425
          },
          "location": {
            "column": 81,
            "row": 1425
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 1425
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1457
          },
          "location": {
            "column": 62,
            "row": 1457
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1457
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 1457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 92,
            "row": 1457
          },
          "location": {
            "column": 88,
            "row": 1457
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 88,
      "row": 1457
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 1457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 1457
          },
          "location": {
            "column": 93,
            "row": 1457
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 1457
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 117,
      "row": 1457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 117,
            "row": 1457
          },
          "location": {
            "column": 113,
            "row": 1457
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 113,
      "row": 1457
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 122,
      "row": 1457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 122,
            "row": 1457
          },
          "location": {
            "column": 118,
            "row": 1457
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 118,
      "row": 1457
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 1464
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_detector_name",
          "end_location": {
            "column": 26,
            "row": 1464
          },
          "location": {
            "column": 13,
            "row": 1464
          }
        }
      ],
      "message": "Rename unused `detector_name` to `_detector_name`"
    },
    "location": {
      "column": 13,
      "row": 1464
    },
    "message": "Loop control variable `detector_name` not used within loop body",
    "noqa_row": 1464,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 60,
      "row": 1464
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "results",
          "end_location": {
            "column": 35,
            "row": 1464
          },
          "location": {
            "column": 13,
            "row": 1464
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 60,
            "row": 1464
          },
          "location": {
            "column": 55,
            "row": 1464
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 1464
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1464,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 1488
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 1488
          },
          "location": {
            "column": 50,
            "row": 1488
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 1488
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1488,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 1488
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 1488
          },
          "location": {
            "column": 55,
            "row": 1488
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 1488
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1488,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 1492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 1492
          },
          "location": {
            "column": 49,
            "row": 1492
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 1492
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1492,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 1492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 1492
          },
          "location": {
            "column": 54,
            "row": 1492
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 1492
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1492,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 1492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 1492
          },
          "location": {
            "column": 74,
            "row": 1492
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 1492
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1492,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1516
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1516
          },
          "location": {
            "column": 63,
            "row": 1516
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1516
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1516,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 1516
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 1516
          },
          "location": {
            "column": 68,
            "row": 1516
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 1516
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1516,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 1516
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 92,
            "row": 1516
          },
          "location": {
            "column": 88,
            "row": 1516
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 88,
      "row": 1516
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1516,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 1516
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 1516
          },
          "location": {
            "column": 93,
            "row": 1516
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 1516
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1516,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 1531
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1525
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 1525,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 1535
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 1535
          },
          "location": {
            "column": 56,
            "row": 1535
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 1535
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1535,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 1535
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 1535
          },
          "location": {
            "column": 61,
            "row": 1535
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 1535
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1535,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 1535
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 1535
          },
          "location": {
            "column": 81,
            "row": 1535
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 1535
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1535,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 1535
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 1535
          },
          "location": {
            "column": 86,
            "row": 1535
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 1535
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1535,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1681
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 1681
          },
          "location": {
            "column": 62,
            "row": 1681
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 1681
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1681,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 1681
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 1681
          },
          "location": {
            "column": 67,
            "row": 1681
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 1681
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1681,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 102,
      "row": 1681
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 102,
            "row": 1681
          },
          "location": {
            "column": 98,
            "row": 1681
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 98,
      "row": 1681
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1681,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 1681
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 107,
            "row": 1681
          },
          "location": {
            "column": 103,
            "row": 1681
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 103,
      "row": 1681
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1681,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 127,
      "row": 1681
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 127,
            "row": 1681
          },
          "location": {
            "column": 123,
            "row": 1681
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 123,
      "row": 1681
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1681,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 1709
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_test_name",
          "end_location": {
            "column": 26,
            "row": 1709
          },
          "location": {
            "column": 17,
            "row": 1709
          }
        }
      ],
      "message": "Rename unused `test_name` to `_test_name`"
    },
    "location": {
      "column": 17,
      "row": 1709
    },
    "message": "Loop control variable `test_name` not used within loop body",
    "noqa_row": 1709,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 62,
      "row": 1709
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "result",
          "end_location": {
            "column": 34,
            "row": 1709
          },
          "location": {
            "column": 17,
            "row": 1709
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 62,
            "row": 1709
          },
          "location": {
            "column": 57,
            "row": 1709
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 38,
      "row": 1709
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1709,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1740
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 1740
          },
          "location": {
            "column": 58,
            "row": 1740
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 1740
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1740,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1740
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 1740
          },
          "location": {
            "column": 63,
            "row": 1740
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 1740
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1740,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 1740
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 1740
          },
          "location": {
            "column": 83,
            "row": 1740
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 1740
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1740,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 1771
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_sample",
          "end_location": {
            "column": 26,
            "row": 1771
          },
          "location": {
            "column": 20,
            "row": 1771
          }
        }
      ],
      "message": "Rename unused `sample` to `_sample`"
    },
    "location": {
      "column": 20,
      "row": 1771
    },
    "message": "Loop control variable `sample` not used within loop body",
    "noqa_row": 1771,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1825
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 1825
          },
          "location": {
            "column": 64,
            "row": 1825
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 1825
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1825,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 1825
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 1825
          },
          "location": {
            "column": 69,
            "row": 1825
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 1825
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1825,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 1825
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 1825
          },
          "location": {
            "column": 89,
            "row": 1825
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 1825
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1825,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 1895
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 1895
          },
          "location": {
            "column": 58,
            "row": 1895
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 1895
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1895,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1895
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 1895
          },
          "location": {
            "column": 63,
            "row": 1895
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 1895
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1895,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 1895
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 1895
          },
          "location": {
            "column": 83,
            "row": 1895
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 1895
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1895,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 1921
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1916
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 1916,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1954
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1954
          },
          "location": {
            "column": 63,
            "row": 1954
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1954
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1954,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 1954
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 1954
          },
          "location": {
            "column": 68,
            "row": 1954
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 1954
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1954,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 1954
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 1954
          },
          "location": {
            "column": 88,
            "row": 1954
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 1954
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1954,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 97,
      "row": 2028
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 96,
            "row": 2028
          },
          "location": {
            "column": 96,
            "row": 2028
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 61,
      "row": 2028
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 2028,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 2034
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 2034
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 2034,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 2066
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 2066
          },
          "location": {
            "column": 72,
            "row": 2066
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 2066
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2066,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 2066
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 95,
            "row": 2066
          },
          "location": {
            "column": 91,
            "row": 2066
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 91,
      "row": 2066
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2066,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 2078
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_test_name",
          "end_location": {
            "column": 22,
            "row": 2078
          },
          "location": {
            "column": 13,
            "row": 2078
          }
        }
      ],
      "message": "Rename unused `test_name` to `_test_name`"
    },
    "location": {
      "column": 13,
      "row": 2078
    },
    "message": "Loop control variable `test_name` not used within loop body",
    "noqa_row": 2078,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 58,
      "row": 2078
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "result",
          "end_location": {
            "column": 30,
            "row": 2078
          },
          "location": {
            "column": 13,
            "row": 2078
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 58,
            "row": 2078
          },
          "location": {
            "column": 53,
            "row": 2078
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 34,
      "row": 2078
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 2078,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 2094
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 2094
          },
          "location": {
            "column": 66,
            "row": 2094
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 2094
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2094,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 2133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 2133
          },
          "location": {
            "column": 65,
            "row": 2133
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 2133
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 2133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 2133
          },
          "location": {
            "column": 84,
            "row": 2133
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 2133
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 2133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 2133
          },
          "location": {
            "column": 89,
            "row": 2133
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 2133
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 2142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 2142
          },
          "location": {
            "column": 13,
            "row": 2142
          }
        }
      ],
      "message": "Remove assignment to unused variable `metadata`"
    },
    "location": {
      "column": 13,
      "row": 2142
    },
    "message": "Local variable `metadata` is assigned to but never used",
    "noqa_row": 2142,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 81,
      "row": 2149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 2147
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 2147,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 2181
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 2181
          },
          "location": {
            "column": 55,
            "row": 2181
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 2181
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2181,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 107,
      "row": 2181
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 107,
            "row": 2181
          },
          "location": {
            "column": 92,
            "row": 2181
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 92,
      "row": 2181
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 2181,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 2216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 2216
          },
          "location": {
            "column": 62,
            "row": 2216
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 2216
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2216,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 2241
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 2241
          },
          "location": {
            "column": 55,
            "row": 2241
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 2241
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 2241,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 2257
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/failure_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 2257
          },
          "location": {
            "column": 52,
            "row": 2257
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 2257
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 2257,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import defaultdict\nfrom dataclasses import dataclass, field\nfrom datetime import datetime, timedelta\nimport logging\nfrom typing import Any, Dict, List, Optional\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 11
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 11
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `collections.defaultdict`"
    },
    "location": {
      "column": 25,
      "row": 12
    },
    "message": "`collections.defaultdict` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from causallearn.search.ConstraintBased.PC import pc\n    from causallearn.utils.cit import fisherz\n    import networkx as nx\n    import pandas as pd\n",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 20
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 110,
            "row": 28
          },
          "location": {
            "column": 110,
            "row": 28
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 59
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 59
          },
          "location": {
            "column": 15,
            "row": 59
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 59
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 59,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 60
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 60
          },
          "location": {
            "column": 22,
            "row": 60
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 60
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 60,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 61
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 61
          },
          "location": {
            "column": 15,
            "row": 61
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 61
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 61,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 71
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 41,
            "row": 71
          },
          "location": {
            "column": 26,
            "row": 71
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 71
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 71,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 72
          },
          "location": {
            "column": 24,
            "row": 72
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 72
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 78
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "InsightConfig | None",
          "end_location": {
            "column": 55,
            "row": 78
          },
          "location": {
            "column": 32,
            "row": 78
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 78
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 78,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 82
          },
          "location": {
            "column": 57,
            "row": 82
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 82
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 82
          },
          "location": {
            "column": 76,
            "row": 82
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 82
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 113
          },
          "location": {
            "column": 57,
            "row": 113
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 113
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 80,
            "row": 113
          },
          "location": {
            "column": 76,
            "row": 113
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 76,
      "row": 113
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 156
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 156
          },
          "location": {
            "column": 43,
            "row": 156
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 156
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 156,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 156
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 156
          },
          "location": {
            "column": 62,
            "row": 156
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 156
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 156,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 27,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 165
          },
          "location": {
            "column": 17,
            "row": 165
          }
        }
      ],
      "message": "Remove assignment to unused variable `timestamps`"
    },
    "location": {
      "column": 17,
      "row": 165
    },
    "message": "Local variable `timestamps` is assigned to but never used",
    "noqa_row": 165,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 196
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 196
          },
          "location": {
            "column": 51,
            "row": 196
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 196
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 196,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 196
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 74,
            "row": 196
          },
          "location": {
            "column": 70,
            "row": 196
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 70,
      "row": 196
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 196,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 235
          },
          "location": {
            "column": 43,
            "row": 235
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 235
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 235
          },
          "location": {
            "column": 62,
            "row": 235
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 235
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 272
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 272
          },
          "location": {
            "column": 58,
            "row": 272
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 272
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 272,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 272
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 81,
            "row": 272
          },
          "location": {
            "column": 77,
            "row": 272
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 77,
      "row": 272
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 272,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 312
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 312
    },
    "message": "`_prepare_causal_data` is too complex (11 > 10)",
    "noqa_row": 312,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 312
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 312
          },
          "location": {
            "column": 42,
            "row": 312
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 312
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 312,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 83,
      "row": 312
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "pd.DataFrame | None",
          "end_location": {
            "column": 83,
            "row": 312
          },
          "location": {
            "column": 61,
            "row": 312
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 61,
      "row": 312
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 312,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 334
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 22,
            "row": 334
          },
          "location": {
            "column": 21,
            "row": 334
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 21,
      "row": 334
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 334,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 28,
      "row": 377
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 377
    },
    "message": "`_apply_pc_algorithm` is too complex (15 > 10)",
    "noqa_row": 377,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 377
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "nx.DiGraph | None",
          "end_location": {
            "column": 85,
            "row": 377
          },
          "location": {
            "column": 65,
            "row": 377
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 65,
      "row": 377
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 377,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 111,
      "row": 395
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 395
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 395,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 38,
      "row": 443
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 440
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 440,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 92,
      "row": 481
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 479
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 479,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 501
          },
          "location": {
            "column": 67,
            "row": 501
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 501
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 539
          },
          "location": {
            "column": 83,
            "row": 539
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 539
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 598
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 598
          },
          "location": {
            "column": 89,
            "row": 598
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 598
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 598,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 68,
      "row": 602
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from statsmodels.stats.diagnostic import acorr_ljungbox\n            from statsmodels.tsa.stattools import grangercausalitytests\n",
          "end_location": {
            "column": 1,
            "row": 603
          },
          "location": {
            "column": 1,
            "row": 601
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 601
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 601,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 68,
      "row": 602
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 54,
      "row": 602
    },
    "message": "`statsmodels.stats.diagnostic.acorr_ljungbox` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 602,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 33,
      "row": 631
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 630
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 630,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 649
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 649
          },
          "location": {
            "column": 86,
            "row": 649
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 649
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 649,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 676
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 676
          },
          "location": {
            "column": 87,
            "row": 676
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 676
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 676,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 55,
      "row": 693
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 694
          },
          "location": {
            "column": 1,
            "row": 693
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats.linregress`"
    },
    "location": {
      "column": 45,
      "row": 693
    },
    "message": "`scipy.stats.linregress` imported but unused",
    "noqa_row": 693,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 716
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 716
          },
          "location": {
            "column": 88,
            "row": 716
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 716
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 716,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 769
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 769
          },
          "location": {
            "column": 56,
            "row": 769
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 769
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 769,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 792
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 792
          },
          "location": {
            "column": 53,
            "row": 792
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 792
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 792,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 793
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 793
          },
          "location": {
            "column": 86,
            "row": 793
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 793
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 793,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 100,
      "row": 793
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 100,
            "row": 793
          },
          "location": {
            "column": 96,
            "row": 793
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 96,
      "row": 793
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 793,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 75,
      "row": 863
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 75,
            "row": 863
          },
          "location": {
            "column": 49,
            "row": 863
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 49,
      "row": 863
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 863,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 863
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 863
          },
          "location": {
            "column": 58,
            "row": 863
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 863
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 863,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 97,
      "row": 863
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/insight_engine.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Insight | None",
          "end_location": {
            "column": 97,
            "row": 863
          },
          "location": {
            "column": 80,
            "row": 863
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 80,
      "row": 863
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 863,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import Counter, defaultdict\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass",
          "end_location": {
            "column": 41,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `dataclasses.field`"
    },
    "location": {
      "column": 36,
      "row": 8
    },
    "message": "`dataclasses.field` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import pandas as pd\n    from sklearn.metrics import mean_absolute_error, mean_squared_error\n    from sklearn.model_selection import TimeSeriesSplit\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 72,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 53,
      "row": 20
    },
    "message": "`sklearn.metrics.mean_absolute_error` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 112,
            "row": 25
          },
          "location": {
            "column": 112,
            "row": 25
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 23,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import arviz as az\n    import pymc as pm\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 28
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 27,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import arviz as az\n        import pymc3 as pm\n",
          "end_location": {
            "column": 1,
            "row": 35
          },
          "location": {
            "column": 1,
            "row": 33
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 33
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 22,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 104,
            "row": 38
          },
          "location": {
            "column": 104,
            "row": 38
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 9,
      "row": 38
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 77
          },
          "location": {
            "column": 20,
            "row": 77
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 77
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 78
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 78
          },
          "location": {
            "column": 26,
            "row": 78
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 78
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 78,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 37,
            "row": 79
          },
          "location": {
            "column": 24,
            "row": 79
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 79
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 86
          },
          "location": {
            "column": 15,
            "row": 86
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 86
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 90
          },
          "location": {
            "column": 15,
            "row": 90
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 90
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 97
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 20,
            "row": 97
          },
          "location": {
            "column": 16,
            "row": 97
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 16,
      "row": 97
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 97,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 101
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 39,
            "row": 101
          },
          "location": {
            "column": 24,
            "row": 101
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 101
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 101,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 51,
            "row": 102
          },
          "location": {
            "column": 25,
            "row": 102
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 102
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 102
          },
          "location": {
            "column": 34,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 103
          },
          "location": {
            "column": 20,
            "row": 103
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 103
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 29,
            "row": 112
          },
          "location": {
            "column": 24,
            "row": 112
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 24,
      "row": 112
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 44,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 44,
            "row": 115
          },
          "location": {
            "column": 29,
            "row": 115
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 29,
      "row": 115
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 53,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 53,
            "row": 116
          },
          "location": {
            "column": 27,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 116
          },
          "location": {
            "column": 36,
            "row": 116
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 116
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 60,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "RuleAnalysisConfig | None",
          "end_location": {
            "column": 60,
            "row": 122
          },
          "location": {
            "column": 32,
            "row": 122
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 122
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 127
          },
          "location": {
            "column": 53,
            "row": 127
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 127
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 127,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 127
          },
          "location": {
            "column": 58,
            "row": 127
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 127
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 127,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 161
          },
          "location": {
            "column": 62,
            "row": 161
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 161
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 161
          },
          "location": {
            "column": 67,
            "row": 161
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 161
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 161
          },
          "location": {
            "column": 87,
            "row": 161
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 161
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 222
          },
          "location": {
            "column": 48,
            "row": 222
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 222
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 222
          },
          "location": {
            "column": 53,
            "row": 222
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 222
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 222
          },
          "location": {
            "column": 73,
            "row": 222
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 222
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 87,
            "row": 222
          },
          "location": {
            "column": 83,
            "row": 222
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 83,
      "row": 222
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 222
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 222
          },
          "location": {
            "column": 88,
            "row": 222
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 222
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 222,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 243
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 243
          },
          "location": {
            "column": 58,
            "row": 243
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 243
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 243,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 243
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 243
          },
          "location": {
            "column": 68,
            "row": 243
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 243
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 243,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 243
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 243
          },
          "location": {
            "column": 73,
            "row": 243
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 243
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 243,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 243
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 243
          },
          "location": {
            "column": 94,
            "row": 243
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 243
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 243,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 27,
      "row": 253
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 253
          },
          "location": {
            "column": 13,
            "row": 253
          }
        }
      ],
      "message": "Remove assignment to unused variable `overall_scores`"
    },
    "location": {
      "column": 13,
      "row": 253
    },
    "message": "Local variable `overall_scores` is assigned to but never used",
    "noqa_row": 253,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 92,
      "row": 267
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 33,
            "row": 267
          },
          "location": {
            "column": 29,
            "row": 267
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 92,
            "row": 267
          },
          "location": {
            "column": 91,
            "row": 267
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 29,
      "row": 267
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 267,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 300
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 300
          },
          "location": {
            "column": 62,
            "row": 300
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 300
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 300,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 300
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 300
          },
          "location": {
            "column": 67,
            "row": 300
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 300
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 300,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 300
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 91,
            "row": 300
          },
          "location": {
            "column": 87,
            "row": 300
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 87,
      "row": 300
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 300,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 73,
      "row": 337
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 337
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 337,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 92,
      "row": 346
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 33,
            "row": 346
          },
          "location": {
            "column": 29,
            "row": 346
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 92,
            "row": 346
          },
          "location": {
            "column": 91,
            "row": 346
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 29,
      "row": 346
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 346,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 45,
      "row": 362
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 362
    },
    "message": "`_generate_rule_recommendations` is too complex (17 > 10)",
    "noqa_row": 362,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 364
          },
          "location": {
            "column": 23,
            "row": 364
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 364
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 364,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 365
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 365
          },
          "location": {
            "column": 30,
            "row": 365
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 365
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 365,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 366
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 366
          },
          "location": {
            "column": 32,
            "row": 366
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 366
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 366,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 367
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 367
          },
          "location": {
            "column": 27,
            "row": 367
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 367
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 367,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 368
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 368
          },
          "location": {
            "column": 39,
            "row": 368
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 368
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 368,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 369
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 14,
            "row": 369
          },
          "location": {
            "column": 10,
            "row": 369
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 10,
      "row": 369
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 369,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 369
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 369
          },
          "location": {
            "column": 15,
            "row": 369
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 369
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 369,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 427
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 420
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 420,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 519
          },
          "location": {
            "column": 23,
            "row": 519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 520
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 520
          },
          "location": {
            "column": 30,
            "row": 520
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 520
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 520,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 521
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 521
          },
          "location": {
            "column": 32,
            "row": 521
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 521
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 521,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 522
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 522
          },
          "location": {
            "column": 27,
            "row": 522
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 522
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 522,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 523
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 523
          },
          "location": {
            "column": 39,
            "row": 523
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 523
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 523,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 524
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 524
          },
          "location": {
            "column": 10,
            "row": 524
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 524
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 524,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 606
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 606
          },
          "location": {
            "column": 71,
            "row": 606
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 606
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 606,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 606
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 606
          },
          "location": {
            "column": 81,
            "row": 606
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 606
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 606,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 606
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 606
          },
          "location": {
            "column": 86,
            "row": 606
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 606
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 606,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 111,
      "row": 606
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 111,
            "row": 606
          },
          "location": {
            "column": 107,
            "row": 606
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 107,
      "row": 606
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 606,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 654
          },
          "location": {
            "column": 49,
            "row": 654
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 654
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 654
          },
          "location": {
            "column": 54,
            "row": 654
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 654
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 79,
            "row": 654
          },
          "location": {
            "column": 74,
            "row": 654
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 74,
      "row": 654
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 84,
            "row": 654
          },
          "location": {
            "column": 80,
            "row": 654
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 80,
      "row": 654
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 100,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 100,
            "row": 654
          },
          "location": {
            "column": 96,
            "row": 654
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 96,
      "row": 654
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 29,
      "row": 667
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 666
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 666,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 53,
      "row": 670
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 52,
            "row": 670
          },
          "location": {
            "column": 52,
            "row": 670
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 30,
      "row": 670
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 670,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 38,
      "row": 671
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 37,
            "row": 671
          },
          "location": {
            "column": 37,
            "row": 671
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 21,
      "row": 671
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 671,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 673
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 673
          },
          "location": {
            "column": 57,
            "row": 673
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 673
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 673,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 673
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 673
          },
          "location": {
            "column": 81,
            "row": 673
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 673
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 673,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 101,
      "row": 673
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 101,
            "row": 673
          },
          "location": {
            "column": 97,
            "row": 673
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 97,
      "row": 673
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 673,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 714
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 714
          },
          "location": {
            "column": 63,
            "row": 714
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 714
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 714,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 742
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 65,
            "row": 742
          },
          "location": {
            "column": 61,
            "row": 742
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 61,
      "row": 742
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 742,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 89,
      "row": 742
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 89,
            "row": 742
          },
          "location": {
            "column": 85,
            "row": 742
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 85,
      "row": 742
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 742,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 105,
      "row": 742
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 105,
            "row": 742
          },
          "location": {
            "column": 101,
            "row": 742
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 101,
      "row": 742
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 742,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 777
          },
          "location": {
            "column": 49,
            "row": 777
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 777
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 777
          },
          "location": {
            "column": 73,
            "row": 777
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 777
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 777
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 777
          },
          "location": {
            "column": 89,
            "row": 777
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 777
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 777,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 818
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 818
          },
          "location": {
            "column": 55,
            "row": 818
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 818
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 818,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 818
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 818
          },
          "location": {
            "column": 79,
            "row": 818
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 818
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 818,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 99,
      "row": 818
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 99,
            "row": 818
          },
          "location": {
            "column": 95,
            "row": 818
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 95,
      "row": 818
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 818,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 843
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 838
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 109,
      "row": 860
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 108,
            "row": 860
          },
          "location": {
            "column": 108,
            "row": 860
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 72,
      "row": 860
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 860,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 880
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 880
          },
          "location": {
            "column": 60,
            "row": 880
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 880
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 880,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 880
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 880
          },
          "location": {
            "column": 84,
            "row": 880
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 880
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 880,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 104,
      "row": 880
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 104,
            "row": 880
          },
          "location": {
            "column": 100,
            "row": 880
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 100,
      "row": 880
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 880,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 932
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 64,
            "row": 932
          },
          "location": {
            "column": 60,
            "row": 932
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 60,
      "row": 932
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 932,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 932
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 932
          },
          "location": {
            "column": 65,
            "row": 932
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 932
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 932,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 89,
      "row": 932
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 89,
            "row": 932
          },
          "location": {
            "column": 85,
            "row": 932
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 85,
      "row": 932
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 932,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 27,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_train_features",
          "end_location": {
            "column": 27,
            "row": 961
          },
          "location": {
            "column": 13,
            "row": 961
          }
        }
      ],
      "message": "Remove assignment to unused variable `train_features`"
    },
    "location": {
      "column": 13,
      "row": 961
    },
    "message": "Local variable `train_features` is assigned to but never used",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 42,
      "row": 961
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_test_features",
          "end_location": {
            "column": 42,
            "row": 961
          },
          "location": {
            "column": 29,
            "row": 961
          }
        }
      ],
      "message": "Remove assignment to unused variable `test_features`"
    },
    "location": {
      "column": 29,
      "row": 961
    },
    "message": "Local variable `test_features` is assigned to but never used",
    "noqa_row": 961,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 38,
      "row": 976
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 976
    },
    "message": "`_generate_time_series_summary` is too complex (15 > 10)",
    "noqa_row": 976,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 976
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 976
          },
          "location": {
            "column": 63,
            "row": 976
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 976
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 976,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 976
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 86,
            "row": 976
          },
          "location": {
            "column": 82,
            "row": 976
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 82,
      "row": 976
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 976,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 989
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 20,
            "row": 989
          },
          "location": {
            "column": 13,
            "row": 989
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 13,
      "row": 989
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 989,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 63,
      "row": 989
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "stability_data",
          "end_location": {
            "column": 36,
            "row": 989
          },
          "location": {
            "column": 13,
            "row": 989
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 63,
            "row": 989
          },
          "location": {
            "column": 58,
            "row": 989
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 40,
      "row": 989
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 989,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 997
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 20,
            "row": 997
          },
          "location": {
            "column": 13,
            "row": 997
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 13,
      "row": 997
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 997,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 55,
      "row": 997
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "trend_data",
          "end_location": {
            "column": 32,
            "row": 997
          },
          "location": {
            "column": 13,
            "row": 997
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 55,
            "row": 997
          },
          "location": {
            "column": 50,
            "row": 997
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 36,
      "row": 997
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 997,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 1004
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 20,
            "row": 1004
          },
          "location": {
            "column": 13,
            "row": 1004
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 13,
      "row": 1004
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 1004,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 59,
      "row": 1004
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "cp_data",
          "end_location": {
            "column": 29,
            "row": 1004
          },
          "location": {
            "column": 13,
            "row": 1004
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 59,
            "row": 1004
          },
          "location": {
            "column": 54,
            "row": 1004
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 33,
      "row": 1004
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1004,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 1010
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 20,
            "row": 1010
          },
          "location": {
            "column": 13,
            "row": 1010
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 13,
      "row": 1010
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 1010,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 61,
      "row": 1010
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "forecast_data",
          "end_location": {
            "column": 35,
            "row": 1010
          },
          "location": {
            "column": 13,
            "row": 1010
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 61,
            "row": 1010
          },
          "location": {
            "column": 56,
            "row": 1010
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 1010
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1010,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 1037
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 1037
          },
          "location": {
            "column": 57,
            "row": 1037
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 1037
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1037,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 1037
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 1037
          },
          "location": {
            "column": 62,
            "row": 1037
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 1037
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1037,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 95,
      "row": 1037
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 95,
            "row": 1037
          },
          "location": {
            "column": 82,
            "row": 1037
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 82,
      "row": 1037
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1037,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 1061
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1061
    },
    "message": "Do not use bare `except`",
    "noqa_row": 1061,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 1064
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 1064
          },
          "location": {
            "column": 41,
            "row": 1064
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 1064
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1064,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 1073
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 1073
          },
          "location": {
            "column": 64,
            "row": 1073
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 1073
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1073,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 1073
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 1073
          },
          "location": {
            "column": 74,
            "row": 1073
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 1073
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1073,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 1073
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 1073
          },
          "location": {
            "column": 79,
            "row": 1073
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 1073
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1073,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 104,
      "row": 1073
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 104,
            "row": 1073
          },
          "location": {
            "column": 100,
            "row": 1073
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 100,
      "row": 1073
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1073,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 1103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 1103
          },
          "location": {
            "column": 54,
            "row": 1103
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 1103
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 1103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 63,
            "row": 1103
          },
          "location": {
            "column": 59,
            "row": 1103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 59,
      "row": 1103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 101,
      "row": 1103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "pd.DataFrame | None",
          "end_location": {
            "column": 101,
            "row": 1103
          },
          "location": {
            "column": 79,
            "row": 1103
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 79,
      "row": 1103
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 119,
      "row": 1130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeSeriesValidationResult | None",
          "end_location": {
            "column": 119,
            "row": 1130
          },
          "location": {
            "column": 83,
            "row": 1130
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 83,
      "row": 1130
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 1202
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 85,
            "row": 1202
          },
          "location": {
            "column": 70,
            "row": 1202
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 70,
      "row": 1202
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1202,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 93,
      "row": 1219
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 93,
            "row": 1219
          },
          "location": {
            "column": 67,
            "row": 1219
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 67,
      "row": 1219
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1219,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 1219
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 1219
          },
          "location": {
            "column": 76,
            "row": 1219
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 1219
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1219,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 1243
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 1243
          },
          "location": {
            "column": 63,
            "row": 1243
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 1243
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1243,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 1271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 1271
          },
          "location": {
            "column": 78,
            "row": 1271
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 1271
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 1325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 1325
          },
          "location": {
            "column": 65,
            "row": 1325
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 1325
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 1325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 79,
            "row": 1325
          },
          "location": {
            "column": 75,
            "row": 1325
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 75,
      "row": 1325
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 1325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 84,
            "row": 1325
          },
          "location": {
            "column": 80,
            "row": 1325
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 80,
      "row": 1325
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 105,
      "row": 1325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 105,
            "row": 1325
          },
          "location": {
            "column": 101,
            "row": 1325
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 101,
      "row": 1325
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 28,
      "row": 1329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 1329
    },
    "message": "`_fit_bayesian_model` is too complex (11 > 10)",
    "noqa_row": 1329,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 1329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 1329
          },
          "location": {
            "column": 48,
            "row": 1329
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 1329
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1329,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 1329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 1329
          },
          "location": {
            "column": 53,
            "row": 1329
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 1329
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1329,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 116,
      "row": 1329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "BayesianModelResult | None",
          "end_location": {
            "column": 116,
            "row": 1329
          },
          "location": {
            "column": 87,
            "row": 1329
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 87,
      "row": 1329
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1329,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 37,
      "row": 1339
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 37,
            "row": 1339
          },
          "location": {
            "column": 28,
            "row": 1339
          }
        }
      ],
      "message": "Remove assignment to unused variable `model`"
    },
    "location": {
      "column": 32,
      "row": 1339
    },
    "message": "Local variable `model` is assigned to but never used",
    "noqa_row": 1339,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 25,
      "row": 1378
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 28,
            "row": 1378
          },
          "location": {
            "column": 17,
            "row": 1378
          }
        }
      ],
      "message": "Remove assignment to unused variable `observed`"
    },
    "location": {
      "column": 17,
      "row": 1378
    },
    "message": "Local variable `observed` is assigned to but never used",
    "noqa_row": 1378,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 25,
      "row": 1442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/learning/rule_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1441
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 1441,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 44,
      "row": 3
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .mcp_server import improve_prompt, mcp\n\n",
          "end_location": {
            "column": 1,
            "row": 5
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 77,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\nfrom typing import Any, Optional\n\nfrom mcp.server.fastmcp import Context, FastMCP\nfrom pydantic import BaseModel, Field\n\nfrom prompt_improver.database import get_session\nfrom prompt_improver.optimization.batch_processor import (\n    BatchProcessor,\n    periodic_batch_processor_coroutine,\n)\nfrom prompt_improver.services.analytics import AnalyticsService\nfrom prompt_improver.services.health.background_manager import (\n    get_background_task_manager,\n)\nfrom prompt_improver.services.prompt_improvement import PromptImprovementService\nfrom prompt_improver.utils.event_loop_benchmark import run_startup_benchmark\nfrom prompt_improver.utils.event_loop_manager import (\n    get_event_loop_manager,\n    setup_uvloop,\n)\nfrom prompt_improver.utils.session_event_loop import get_session_wrapper\nfrom prompt_improver.utils.session_store import SessionStore\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 6,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": null,
    "location": {
      "column": 38,
      "row": 89
    },
    "message": "Do not perform function call `Field` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 93
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 93
          },
          "location": {
            "column": 10,
            "row": 93
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 93
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 93,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 72,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": null,
    "location": {
      "column": 31,
      "row": 185
    },
    "message": "Do not perform function call `Field` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 187
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 187
          },
          "location": {
            "column": 10,
            "row": 187
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 187
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 187,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 22,
      "row": 225
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": null,
    "location": {
      "column": 11,
      "row": 225
    },
    "message": "Redefinition of unused `get_session` from line 12",
    "noqa_row": 225,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 227
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 227
          },
          "location": {
            "column": 10,
            "row": 227
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 227
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 227,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B008",
    "end_location": {
      "column": 75,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": null,
    "location": {
      "column": 28,
      "row": 259
    },
    "message": "Do not perform function call `Field` in argument defaults; instead, perform the call within the function, or read the default from a module-level singleton variable",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/function-call-in-default-argument"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 260
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 260
          },
          "location": {
            "column": 10,
            "row": 260
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 260
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 260,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 289
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 289
          },
          "location": {
            "column": 10,
            "row": 289
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 289
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 289,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 321
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 321
          },
          "location": {
            "column": 10,
            "row": 321
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 321
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 321,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 13,
      "row": 414
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 16,
            "row": 414
          },
          "location": {
            "column": 9,
            "row": 414
          }
        }
      ],
      "message": "Remove assignment to unused variable `loop`"
    },
    "location": {
      "column": 9,
      "row": 414
    },
    "message": "Local variable `loop` is assigned to but never used",
    "noqa_row": 414,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 13,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 16,
            "row": 449
          },
          "location": {
            "column": 9,
            "row": 449
          }
        }
      ],
      "message": "Remove assignment to unused variable `loop`"
    },
    "location": {
      "column": 9,
      "row": 449
    },
    "message": "Local variable `loop` is assigned to but never used",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 57,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service",
          "end_location": {
            "column": 57,
            "row": 477
          },
          "location": {
            "column": 9,
            "row": 477
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 477
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Context | None",
          "end_location": {
            "column": 27,
            "row": 605
          },
          "location": {
            "column": 10,
            "row": 605
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 10,
      "row": 605
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 605,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 46,
      "row": 642
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/mcp_server/mcp_server.py",
    "fix": null,
    "location": {
      "column": 27,
      "row": 642
    },
    "message": "Undefined name `get_session_manager`",
    "noqa_row": 642,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 58,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .optimization_validator import OptimizationValidator\nfrom .rule_optimizer import RuleOptimizer\n\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 58,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport logging\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport uuid\n\nimport numpy as np\nfrom scipy import stats\nfrom sklearn.model_selection import StratifiedShuffleSplit\nfrom sklearn.utils import resample\nfrom sqlalchemy import and_, select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.models import ABExperiment, ABExperimentCreate, RulePerformance\nfrom ..services.ab_testing import ABTestingService, ExperimentResult\nfrom ..services.analytics import AnalyticsService\nfrom ..utils.error_handlers import handle_database_errors\n\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 11
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 12
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `sklearn.model_selection.StratifiedShuffleSplit`"
    },
    "location": {
      "column": 37,
      "row": 18
    },
    "message": "`sklearn.model_selection.StratifiedShuffleSplit` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `sklearn.utils.resample`"
    },
    "location": {
      "column": 27,
      "row": 19
    },
    "message": "`sklearn.utils.resample` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 24,
      "row": 20
    },
    "message": "`sqlalchemy.select` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 20
    },
    "message": "`sqlalchemy.and_` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 80,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..database.models import ABExperiment, ABExperimentCreate",
          "end_location": {
            "column": 80,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `..database.models.RulePerformance`"
    },
    "location": {
      "column": 65,
      "row": 23
    },
    "message": "`..database.models.RulePerformance` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ab_testing import ABTestingService, ExperimentResult",
          "end_location": {
            "column": 69,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ab_testing import ABTestingService, ExperimentResult",
          "end_location": {
            "column": 69,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 69,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.ab_testing import ABTestingService",
          "end_location": {
            "column": 69,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `..services.ab_testing.ExperimentResult`"
    },
    "location": {
      "column": 53,
      "row": 24
    },
    "message": "`..services.ab_testing.ExperimentResult` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.analytics import AnalyticsService",
          "end_location": {
            "column": 50,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 58,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors",
          "end_location": {
            "column": 58,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 84
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 18,
            "row": 84
          },
          "location": {
            "column": 14,
            "row": 84
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 14,
      "row": 84
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 84,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 84
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 23,
            "row": 84
          },
          "location": {
            "column": 19,
            "row": 84
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 19,
      "row": 84
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 84,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 18,
      "row": 85
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 18,
            "row": 85
          },
          "location": {
            "column": 14,
            "row": 85
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 14,
      "row": 85
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 85,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 17,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 17,
            "row": 96
          },
          "location": {
            "column": 13,
            "row": 96
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 13,
      "row": 96
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 103
          },
          "location": {
            "column": 24,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 104
          },
          "location": {
            "column": 24,
            "row": 104
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 104
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 22,
            "row": 105
          },
          "location": {
            "column": 18,
            "row": 105
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 18,
      "row": 105
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 105,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 106
          },
          "location": {
            "column": 21,
            "row": 106
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 106
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 107
          },
          "location": {
            "column": 26,
            "row": 107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 110
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 48,
            "row": 110
          },
          "location": {
            "column": 24,
            "row": 110
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 110
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 110,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 110
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 110
          },
          "location": {
            "column": 33,
            "row": 110
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 110
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 110,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 111
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 50,
            "row": 111
          },
          "location": {
            "column": 26,
            "row": 111
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 111
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 111,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 111
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 111
          },
          "location": {
            "column": 35,
            "row": 111
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 111
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 111,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 58,
            "row": 112
          },
          "location": {
            "column": 34,
            "row": 112
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 112
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 112
          },
          "location": {
            "column": 43,
            "row": 112
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 112
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 51,
            "row": 113
          },
          "location": {
            "column": 27,
            "row": 113
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 113
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 113
          },
          "location": {
            "column": 36,
            "row": 113
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 113
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 20,
            "row": 122
          },
          "location": {
            "column": 16,
            "row": 122
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 16,
      "row": 122
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 21,
            "row": 123
          },
          "location": {
            "column": 17,
            "row": 123
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 17,
      "row": 123
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 124
          },
          "location": {
            "column": 30,
            "row": 124
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 124
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 131
          },
          "location": {
            "column": 15,
            "row": 131
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 131
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 138
          },
          "location": {
            "column": 24,
            "row": 138
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 138
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 139
          },
          "location": {
            "column": 24,
            "row": 139
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 139
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 139,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AdvancedConfig | None",
          "end_location": {
            "column": 56,
            "row": 145
          },
          "location": {
            "column": 32,
            "row": 145
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 145
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 145,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 99,
      "row": 145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 99,
            "row": 145
          },
          "location": {
            "column": 77,
            "row": 145
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 77,
      "row": 145
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 145,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 157
          },
          "location": {
            "column": 28,
            "row": 157
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 157
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 157,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 157
          },
          "location": {
            "column": 38,
            "row": 157
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 157
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 157,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 158
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 32,
            "row": 158
          },
          "location": {
            "column": 28,
            "row": 158
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 28,
      "row": 158
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 159
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 159
          },
          "location": {
            "column": 33,
            "row": 159
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 159
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 159,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 167
          },
          "location": {
            "column": 24,
            "row": 167
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 167
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 168
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 168
          },
          "location": {
            "column": 24,
            "row": 168
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 168
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 168,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 169
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 169
          },
          "location": {
            "column": 19,
            "row": 169
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 169
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 169,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 169
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 169
          },
          "location": {
            "column": 24,
            "row": 169
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 169
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 169,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 170
          },
          "location": {
            "column": 18,
            "row": 170
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 170
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 170
          },
          "location": {
            "column": 27,
            "row": 170
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 170
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 299
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 299
          },
          "location": {
            "column": 24,
            "row": 299
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 299
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 299,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 300
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 300
          },
          "location": {
            "column": 24,
            "row": 300
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 300
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 300,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 301
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 301
          },
          "location": {
            "column": 19,
            "row": 301
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 301
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 301,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 301
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 301
          },
          "location": {
            "column": 24,
            "row": 301
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 301
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 301,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 313
          },
          "location": {
            "column": 48,
            "row": 313
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 313
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 313,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 313
          },
          "location": {
            "column": 79,
            "row": 313
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 313
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 313,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 323
          },
          "location": {
            "column": 19,
            "row": 323
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 323
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 323
          },
          "location": {
            "column": 24,
            "row": 323
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 323
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 324
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 22,
            "row": 324
          },
          "location": {
            "column": 18,
            "row": 324
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 18,
      "row": 324
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 324,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 15,
            "row": 325
          },
          "location": {
            "column": 10,
            "row": 325
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 10,
      "row": 325
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 20,
            "row": 325
          },
          "location": {
            "column": 16,
            "row": 325
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 16,
      "row": 325
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 325
          },
          "location": {
            "column": 21,
            "row": 325
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 325
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 42,
            "row": 325
          },
          "location": {
            "column": 38,
            "row": 325
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 38,
      "row": 325
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 325
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 325
          },
          "location": {
            "column": 43,
            "row": 325
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 325
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 325,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 361
          },
          "location": {
            "column": 40,
            "row": 361
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 361
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 361
          },
          "location": {
            "column": 45,
            "row": 361
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 361
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 79,
            "row": 361
          },
          "location": {
            "column": 75,
            "row": 361
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 75,
      "row": 361
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 93,
            "row": 361
          },
          "location": {
            "column": 89,
            "row": 361
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 89,
      "row": 361
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 98,
            "row": 361
          },
          "location": {
            "column": 94,
            "row": 361
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 94,
      "row": 361
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 103,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 103,
            "row": 361
          },
          "location": {
            "column": 99,
            "row": 361
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 99,
      "row": 361
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 377
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 377
          },
          "location": {
            "column": 45,
            "row": 377
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 377
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 377,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 388
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 388
          },
          "location": {
            "column": 48,
            "row": 388
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 388
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 388,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 388
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 388
          },
          "location": {
            "column": 53,
            "row": 388
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 388
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 388,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 388
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 388
          },
          "location": {
            "column": 79,
            "row": 388
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 388
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 388,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 388
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 388
          },
          "location": {
            "column": 84,
            "row": 388
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 388
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 388,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 400
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 20,
            "row": 400
          },
          "location": {
            "column": 16,
            "row": 400
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 16,
      "row": 400
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 400,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 400
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 400
          },
          "location": {
            "column": 21,
            "row": 400
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 400
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 400,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 401
          },
          "location": {
            "column": 15,
            "row": 401
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 401
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 446
          },
          "location": {
            "column": 51,
            "row": 446
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 446
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 446
          },
          "location": {
            "column": 73,
            "row": 446
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 446
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 446
          },
          "location": {
            "column": 92,
            "row": 446
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 446
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 472
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 472
          },
          "location": {
            "column": 53,
            "row": 472
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 472
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 472,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 472
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 472
          },
          "location": {
            "column": 75,
            "row": 472
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 472
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 472,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 472
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 472
          },
          "location": {
            "column": 94,
            "row": 472
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 472
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 472,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 491
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 491
          },
          "location": {
            "column": 49,
            "row": 491
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 491
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 491,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 491
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 491
          },
          "location": {
            "column": 54,
            "row": 491
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 491
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 491,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 491
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 491
          },
          "location": {
            "column": 74,
            "row": 491
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 491
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 491,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 522
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 22,
            "row": 522
          },
          "location": {
            "column": 18,
            "row": 522
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 18,
      "row": 522
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 522,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 563
          },
          "location": {
            "column": 58,
            "row": 563
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 563
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 86,
            "row": 563
          },
          "location": {
            "column": 82,
            "row": 563
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 82,
      "row": 563
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 102,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 102,
            "row": 563
          },
          "location": {
            "column": 98,
            "row": 563
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 98,
      "row": 563
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 594
          },
          "location": {
            "column": 51,
            "row": 594
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 594
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 79,
            "row": 594
          },
          "location": {
            "column": 75,
            "row": 594
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 75,
      "row": 594
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 594
          },
          "location": {
            "column": 91,
            "row": 594
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 594
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 615
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 615
          },
          "location": {
            "column": 47,
            "row": 615
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 615
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 615,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 615
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 615
          },
          "location": {
            "column": 71,
            "row": 615
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 615
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 615,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 615
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 615
          },
          "location": {
            "column": 87,
            "row": 615
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 615
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 615,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 654
          },
          "location": {
            "column": 48,
            "row": 654
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 654
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 76,
            "row": 654
          },
          "location": {
            "column": 72,
            "row": 654
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 72,
      "row": 654
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 654
          },
          "location": {
            "column": 88,
            "row": 654
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 654
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 686
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 686
          },
          "location": {
            "column": 55,
            "row": 686
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 686
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 686,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 686
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 686
          },
          "location": {
            "column": 79,
            "row": 686
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 686
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 686,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 99,
      "row": 686
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 99,
            "row": 686
          },
          "location": {
            "column": 95,
            "row": 686
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 95,
      "row": 686
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 686,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 721
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 721
          },
          "location": {
            "column": 51,
            "row": 721
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 721
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 721,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 721
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 79,
            "row": 721
          },
          "location": {
            "column": 75,
            "row": 721
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 75,
      "row": 721
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 721,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 721
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 721
          },
          "location": {
            "column": 91,
            "row": 721
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 721
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 721,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 770
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 770
          },
          "location": {
            "column": 53,
            "row": 770
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 770
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 770,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 770
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 81,
            "row": 770
          },
          "location": {
            "column": 77,
            "row": 770
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 77,
      "row": 770
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 770,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 770
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 770
          },
          "location": {
            "column": 93,
            "row": 770
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 770
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 770,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 811
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 811
          },
          "location": {
            "column": 69,
            "row": 811
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 811
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 811,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 811
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 811
          },
          "location": {
            "column": 88,
            "row": 811
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 811
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 811,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 832
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 58,
            "row": 832
          },
          "location": {
            "column": 54,
            "row": 832
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 54,
      "row": 832
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 832,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 832
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 832
          },
          "location": {
            "column": 78,
            "row": 832
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 832
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 832,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 832
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 832
          },
          "location": {
            "column": 94,
            "row": 832
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 832
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 832,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 106,
      "row": 912
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"Large effect size but not statistically significant (may be underpowered)\"",
          "end_location": {
            "column": 106,
            "row": 912
          },
          "location": {
            "column": 30,
            "row": 912
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 30,
      "row": 912
    },
    "message": "f-string without any placeholders",
    "noqa_row": 912,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 104,
      "row": 1007
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 104,
            "row": 1007
          },
          "location": {
            "column": 100,
            "row": 1007
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 100,
      "row": 1007
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1007,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 1081
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 1081
          },
          "location": {
            "column": 52,
            "row": 1081
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 1081
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1081,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 1085
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 1085
          },
          "location": {
            "column": 35,
            "row": 1085
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 1085
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1085,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 1085
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/advanced_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 1085
          },
          "location": {
            "column": 45,
            "row": 1085
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 1085
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1085,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 67,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom asyncio import create_task, gather, sleep\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nimport heapq\nimport logging\nimport random\nimport time\nfrom typing import Any, Dict, List, Optional\n\nfrom pydantic import BaseModel, Field\n\nfrom prompt_improver.database import get_session\nfrom prompt_improver.services.ml_integration import get_ml_service\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 43,
            "row": 77
          },
          "location": {
            "column": 28,
            "row": 77
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 77
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 50,
            "row": 92
          },
          "location": {
            "column": 35,
            "row": 92
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 35,
      "row": 92
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 92,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 113
          },
          "location": {
            "column": 31,
            "row": 113
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 113
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 52,
            "row": 130
          },
          "location": {
            "column": 28,
            "row": 130
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 130
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 41,
            "row": 130
          },
          "location": {
            "column": 37,
            "row": 130
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 37,
      "row": 130
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 154
          },
          "location": {
            "column": 38,
            "row": 154
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 154
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 46,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 170
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 195
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 65,
            "row": 195
          },
          "location": {
            "column": 50,
            "row": 195
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 50,
      "row": 195
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 195,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 199
          },
          "location": {
            "column": 16,
            "row": 199
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 199
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 17,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 17,
            "row": 206
          },
          "location": {
            "column": 13,
            "row": 206
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 13,
      "row": 206
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 209
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 32,
            "row": 209
          },
          "location": {
            "column": 17,
            "row": 209
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 209
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 220
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 220
          },
          "location": {
            "column": 31,
            "row": 220
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 220
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 220,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PriorityRecord | None",
          "end_location": {
            "column": 50,
            "row": 229
          },
          "location": {
            "column": 26,
            "row": 229
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 229
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PriorityRecord | None",
          "end_location": {
            "column": 47,
            "row": 237
          },
          "location": {
            "column": 23,
            "row": 237
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 237
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 237,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 17,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 259
    },
    "message": "`__init__` is too complex (12 > 10)",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 56,
            "row": 259
          },
          "location": {
            "column": 32,
            "row": 259
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 259
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 259
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 259
          },
          "location": {
            "column": 41,
            "row": 259
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 259
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 259,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 309
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 41,
            "row": 309
          },
          "location": {
            "column": 37,
            "row": 309
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 37,
      "row": 309
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 309,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 386
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 386
          },
          "location": {
            "column": 53,
            "row": 386
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 386
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 386,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 427
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 427
          },
          "location": {
            "column": 50,
            "row": 427
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 427
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 427,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 46,
      "row": 478
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 478
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 478,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 502
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 48,
            "row": 502
          },
          "location": {
            "column": 44,
            "row": 502
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 44,
      "row": 502
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 502,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 502
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 502
          },
          "location": {
            "column": 49,
            "row": 502
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 502
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 502,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 44,
      "row": 534
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 44,
            "row": 534
          },
          "location": {
            "column": 24,
            "row": 534
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 24,
      "row": 534
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 534,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 539
          },
          "location": {
            "column": 47,
            "row": 539
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 539
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 539
          },
          "location": {
            "column": 52,
            "row": 539
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 539
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 82,
            "row": 539
          },
          "location": {
            "column": 78,
            "row": 539
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 78,
      "row": 539
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 108,
      "row": 539
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 108,
            "row": 539
          },
          "location": {
            "column": 104,
            "row": 539
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 104,
      "row": 539
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 539,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 567
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 567
          },
          "location": {
            "column": 49,
            "row": 567
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 567
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 567,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 567
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 567
          },
          "location": {
            "column": 54,
            "row": 567
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 567
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 567,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 567
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 567
          },
          "location": {
            "column": 74,
            "row": 567
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 567
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 567,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 575
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 575
          },
          "location": {
            "column": 48,
            "row": 575
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 575
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 575,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 575
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 575
          },
          "location": {
            "column": 67,
            "row": 575
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 575
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 575,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 596
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 596
          },
          "location": {
            "column": 51,
            "row": 596
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 596
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 596,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 596
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 596
          },
          "location": {
            "column": 56,
            "row": 596
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 596
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 596,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 596
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 596
          },
          "location": {
            "column": 76,
            "row": 596
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 596
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 596,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 14,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nimport logging\nimport time\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport joblib\nimport numpy as np\nfrom sklearn.decomposition import PCA, KernelPCA\nfrom sklearn.feature_selection import SelectKBest, f_classif, mutual_info_classif\nfrom sklearn.manifold import TSNE\nfrom sklearn.metrics import (\n    calinski_harabasz_score,\n    davies_bouldin_score,\n    silhouette_score,\n)\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import RobustScaler, StandardScaler\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.decomposition import PCA",
          "end_location": {
            "column": 49,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `sklearn.decomposition.KernelPCA`"
    },
    "location": {
      "column": 40,
      "row": 15
    },
    "message": "`sklearn.decomposition.KernelPCA` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `sklearn.manifold.TSNE`"
    },
    "location": {
      "column": 30,
      "row": 16
    },
    "message": "`sklearn.manifold.TSNE` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 61,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import SelectKBest, mutual_info_classif",
          "end_location": {
            "column": 82,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `sklearn.feature_selection.f_classif`"
    },
    "location": {
      "column": 52,
      "row": 18
    },
    "message": "`sklearn.feature_selection.f_classif` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `sklearn.pipeline.Pipeline`"
    },
    "location": {
      "column": 30,
      "row": 19
    },
    "message": "`sklearn.pipeline.Pipeline` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `joblib`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`joblib` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 97,
            "row": 29
          },
          "location": {
            "column": 97,
            "row": 29
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 29
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 61
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 39,
            "row": 61
          },
          "location": {
            "column": 26,
            "row": 61
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 26,
      "row": 61
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 61,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ClusteringConfig | None",
          "end_location": {
            "column": 58,
            "row": 105
          },
          "location": {
            "column": 32,
            "row": 105
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 105
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 105,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 67,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Union[StandardScaler, RobustScaler] | None",
          "end_location": {
            "column": 67,
            "row": 115
          },
          "location": {
            "column": 22,
            "row": 115
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 115
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 66,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "StandardScaler | RobustScaler",
          "end_location": {
            "column": 66,
            "row": 115
          },
          "location": {
            "column": 31,
            "row": 115
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 31,
      "row": 115
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 69,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Union[PCA, umap.UMAP] | None",
          "end_location": {
            "column": 69,
            "row": 116
          },
          "location": {
            "column": 38,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 68,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "PCA | umap.UMAP",
          "end_location": {
            "column": 68,
            "row": 116
          },
          "location": {
            "column": 47,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 47,
      "row": 116
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 53,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "SelectKBest | None",
          "end_location": {
            "column": 53,
            "row": 117
          },
          "location": {
            "column": 32,
            "row": 117
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 117
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 118
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "hdbscan.HDBSCAN | None",
          "end_location": {
            "column": 50,
            "row": 118
          },
          "location": {
            "column": 25,
            "row": 118
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 118
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 118,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 121
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 39,
            "row": 121
          },
          "location": {
            "column": 35,
            "row": 121
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 35,
      "row": 121
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 121,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 38,
            "row": 122
          },
          "location": {
            "column": 34,
            "row": 122
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 34,
      "row": 122
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 122
          },
          "location": {
            "column": 39,
            "row": 122
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 122
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 125
          },
          "location": {
            "column": 21,
            "row": 125
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 125
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 37,
            "row": 140
          },
          "location": {
            "column": 17,
            "row": 140
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 140
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 141
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 45,
            "row": 141
          },
          "location": {
            "column": 25,
            "row": 141
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 141
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 141,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 142
          },
          "location": {
            "column": 10,
            "row": 142
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 142
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM401",
    "end_location": {
      "column": 101,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "clustering_result.get(\"probabilities\", None)",
          "end_location": {
            "column": 101,
            "row": 215
          },
          "location": {
            "column": 17,
            "row": 215
          }
        }
      ],
      "message": "Replace with `clustering_result.get(\"probabilities\", None)`"
    },
    "location": {
      "column": 17,
      "row": 215
    },
    "message": "Use `clustering_result.get(\"probabilities\", None)` instead of an `if` block",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/if-else-block-instead-of-dict-get"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 35,
      "row": 267
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 267
    },
    "message": "`_preprocess_features` is too complex (11 > 10)",
    "noqa_row": 267,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 270
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 37,
            "row": 270
          },
          "location": {
            "column": 17,
            "row": 270
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 270
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 270,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 271
          },
          "location": {
            "column": 10,
            "row": 271
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 271
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 373
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 37,
            "row": 373
          },
          "location": {
            "column": 17,
            "row": 373
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 373
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 373,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 374
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 374
          },
          "location": {
            "column": 10,
            "row": 374
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 374
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 374,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 424
          },
          "location": {
            "column": 25,
            "row": 424
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 424
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 424,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 45,
            "row": 425
          },
          "location": {
            "column": 25,
            "row": 425
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 425
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 426
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 426
          },
          "location": {
            "column": 10,
            "row": 426
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 426
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 426,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 44,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 44,
            "row": 498
          },
          "location": {
            "column": 24,
            "row": 498
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 498
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 30,
            "row": 612
          },
          "location": {
            "column": 25,
            "row": 612
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 25,
      "row": 612
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 612,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 613
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 613
          },
          "location": {
            "column": 29,
            "row": 613
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 613
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 613,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 614
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 614
          },
          "location": {
            "column": 28,
            "row": 614
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 614
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 614,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 617
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 617
          },
          "location": {
            "column": 10,
            "row": 617
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 617
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 617,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 669
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 37,
            "row": 669
          },
          "location": {
            "column": 17,
            "row": 669
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 669
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 669,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 670
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 45,
            "row": 670
          },
          "location": {
            "column": 25,
            "row": 670
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 670
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 670,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 671
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 671
          },
          "location": {
            "column": 10,
            "row": 671
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 671
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 671,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 690
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 54,
            "row": 690
          },
          "location": {
            "column": 49,
            "row": 690
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 49,
      "row": 690
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 690,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 690
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 690
          },
          "location": {
            "column": 69,
            "row": 690
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 690
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 690,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 722
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 57,
            "row": 722
          },
          "location": {
            "column": 52,
            "row": 722
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 52,
      "row": 722
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 722,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 722
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 722
          },
          "location": {
            "column": 72,
            "row": 722
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 722
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 722,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 27,
      "row": 759
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 759
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 759,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 790
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 790
          },
          "location": {
            "column": 42,
            "row": 790
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 790
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 790,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 37,
      "row": 816
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 816
    },
    "message": "`_evaluate_clustering_success` is too complex (14 > 10)",
    "noqa_row": 816,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 112,
      "row": 816
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 112,
            "row": 816
          },
          "location": {
            "column": 107,
            "row": 816
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 107,
      "row": 816
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 816,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 64,
      "row": 900
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/clustering_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ClusteringConfig | None",
          "end_location": {
            "column": 64,
            "row": 900
          },
          "location": {
            "column": 38,
            "row": 900
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 900
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 900,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 14,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nimport logging\nimport time\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport warnings\n\nimport joblib\nimport numpy as np\nfrom sklearn.decomposition import PCA, FastICA, KernelPCA, SparsePCA, TruncatedSVD\nfrom sklearn.discriminant_analysis import LinearDiscriminantAnalysis\nfrom sklearn.feature_selection import (\n    RFE,\n    RFECV,\n    SelectKBest,\n    SelectPercentile,\n    VarianceThreshold,\n    chi2,\n    f_classif,\n    f_regression,\n    mutual_info_classif,\n    mutual_info_regression,\n)\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.manifold import MDS, TSNE, Isomap, LocallyLinearEmbedding\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import MinMaxScaler, RobustScaler, StandardScaler\nfrom sklearn.random_projection import GaussianRandomProjection, SparseRandomProjection\n\n",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 10
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.preprocessing import RobustScaler",
          "end_location": {
            "column": 77,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 35,
      "row": 14
    },
    "message": "`sklearn.preprocessing.StandardScaler` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 63,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.preprocessing import RobustScaler",
          "end_location": {
            "column": 77,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 51,
      "row": 14
    },
    "message": "`sklearn.preprocessing.MinMaxScaler` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 83,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.decomposition import PCA, KernelPCA, FastICA, TruncatedSVD",
          "end_location": {
            "column": 83,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `sklearn.decomposition.SparsePCA`"
    },
    "location": {
      "column": 74,
      "row": 15
    },
    "message": "`sklearn.decomposition.SparsePCA` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 66,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.manifold import TSNE, Isomap",
          "end_location": {
            "column": 71,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 44,
      "row": 16
    },
    "message": "`sklearn.manifold.LocallyLinearEmbedding` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 71,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.manifold import TSNE, Isomap",
          "end_location": {
            "column": 71,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 68,
      "row": 16
    },
    "message": "`sklearn.manifold.MDS` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "`sklearn.feature_selection.SelectKBest` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 18,
      "row": 18
    },
    "message": "`sklearn.feature_selection.SelectPercentile` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 39,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 36,
      "row": 18
    },
    "message": "`sklearn.feature_selection.RFE` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 41,
      "row": 18
    },
    "message": "`sklearn.feature_selection.RFECV` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 19
    },
    "message": "`sklearn.feature_selection.f_classif` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 28,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 16,
      "row": 19
    },
    "message": "`sklearn.feature_selection.f_regression` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 30,
      "row": 19
    },
    "message": "`sklearn.feature_selection.mutual_info_classif` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 73,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 51,
      "row": 19
    },
    "message": "`sklearn.feature_selection.mutual_info_regression` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 9,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sklearn.feature_selection import (\n    VarianceThreshold\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 20
    },
    "message": "`sklearn.feature_selection.chi2` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `sklearn.model_selection.cross_val_score`"
    },
    "location": {
      "column": 37,
      "row": 25
    },
    "message": "`sklearn.model_selection.cross_val_score` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `sklearn.linear_model.LogisticRegression`"
    },
    "location": {
      "column": 34,
      "row": 26
    },
    "message": "`sklearn.linear_model.LogisticRegression` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Remove unused import: `joblib`"
    },
    "location": {
      "column": 8,
      "row": 27
    },
    "message": "`joblib` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 77,
            "row": 35
          },
          "location": {
            "column": 77,
            "row": 35
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 35
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 53,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 38
    },
    "message": "`sklearn.decomposition.FactorAnalysis` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 73,
            "row": 42
          },
          "location": {
            "column": 73,
            "row": 42
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 42
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 59
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 59
          },
          "location": {
            "column": 24,
            "row": 59
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 59
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 59,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 70
          },
          "location": {
            "column": 27,
            "row": 70
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 70
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 38,
            "row": 83
          },
          "location": {
            "column": 23,
            "row": 83
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 83
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 35,
            "row": 96
          },
          "location": {
            "column": 22,
            "row": 96
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 96
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 45,
            "row": 112
          },
          "location": {
            "column": 25,
            "row": 112
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 112
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, float] | None",
          "end_location": {
            "column": 51,
            "row": 113
          },
          "location": {
            "column": 25,
            "row": 113
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 113
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 113
          },
          "location": {
            "column": 34,
            "row": 113
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 113
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "DimensionalityConfig | None",
          "end_location": {
            "column": 62,
            "row": 119
          },
          "location": {
            "column": 32,
            "row": 119
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 119
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 132
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 37,
            "row": 132
          },
          "location": {
            "column": 33,
            "row": 132
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 33,
      "row": 132
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 132,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 133
          },
          "location": {
            "column": 34,
            "row": 133
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 133
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 48,
            "row": 133
          },
          "location": {
            "column": 44,
            "row": 133
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 44,
      "row": 133
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 133,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 136
          },
          "location": {
            "column": 21,
            "row": 136
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 136
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 136,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 35,
            "row": 137
          },
          "location": {
            "column": 22,
            "row": 137
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 137
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Pipeline | None",
          "end_location": {
            "column": 56,
            "row": 140
          },
          "location": {
            "column": 38,
            "row": 140
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 140
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 144
          },
          "location": {
            "column": 46,
            "row": 144
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 144
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 144,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 144
          },
          "location": {
            "column": 56,
            "row": 144
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 144
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 144,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 299
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 32,
            "row": 299
          },
          "location": {
            "column": 12,
            "row": 299
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 299
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 299,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 30,
      "row": 300
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 30,
            "row": 300
          },
          "location": {
            "column": 17,
            "row": 300
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 300
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 300,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 37,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 399
    },
    "message": "`_select_optimal_method` is too complex (16 > 10)",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 82,
      "row": 399
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 82,
            "row": 399
          },
          "location": {
            "column": 62,
            "row": 399
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 62,
      "row": 399
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 399,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 469
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 32,
            "row": 469
          },
          "location": {
            "column": 12,
            "row": 469
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 469
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 469,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 562
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 32,
            "row": 562
          },
          "location": {
            "column": 12,
            "row": 562
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 562
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 562,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 563
          },
          "location": {
            "column": 10,
            "row": 563
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 563
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 55,
      "row": 577
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "                    from sklearn.cluster import KMeans\n                    from sklearn.metrics import adjusted_rand_score\n",
          "end_location": {
            "column": 1,
            "row": 578
          },
          "location": {
            "column": 1,
            "row": 576
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 21,
      "row": 576
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 655
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 655
          },
          "location": {
            "column": 29,
            "row": 655
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 655
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 655,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 27,
      "row": 709
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 709
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 709,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 729
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 729
          },
          "location": {
            "column": 42,
            "row": 729
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 729
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 729,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 764
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 52,
            "row": 764
          },
          "location": {
            "column": 47,
            "row": 764
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 47,
      "row": 764
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 764,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 87,
      "row": 764
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 87,
            "row": 764
          },
          "location": {
            "column": 67,
            "row": 764
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 67,
      "row": 764
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 764,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 70,
      "row": 790
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/dimensionality_reducer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "DimensionalityConfig | None",
          "end_location": {
            "column": 70,
            "row": 790
          },
          "location": {
            "column": 40,
            "row": 790
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 40,
      "row": 790
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 790,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 48,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport logging\nimport math\nfrom typing import Any, Dict, List, Optional, Tuple, Union\n\nimport numpy as np\nfrom scipy import stats\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 21
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 22
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 26
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 60
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 31,
            "row": 60
          },
          "location": {
            "column": 27,
            "row": 60
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 27,
      "row": 60
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 60,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 73
          },
          "location": {
            "column": 22,
            "row": 73
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 73
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 74
          },
          "location": {
            "column": 22,
            "row": 74
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 74
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 94
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 39,
            "row": 94
          },
          "location": {
            "column": 24,
            "row": 94
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 94
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 94,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "SPRTBounds | None",
          "end_location": {
            "column": 38,
            "row": 113
          },
          "location": {
            "column": 18,
            "row": 113
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 113
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "GroupSequentialBounds | None",
          "end_location": {
            "column": 61,
            "row": 116
          },
          "location": {
            "column": 30,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 132
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "EarlyStoppingConfig | None",
          "end_location": {
            "column": 61,
            "row": 132
          },
          "location": {
            "column": 32,
            "row": 132
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 132
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 132,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 142
          },
          "location": {
            "column": 32,
            "row": 142
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 142
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 142
          },
          "location": {
            "column": 42,
            "row": 142
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 142
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 143
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 36,
            "row": 143
          },
          "location": {
            "column": 32,
            "row": 143
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 32,
      "row": 143
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 143,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 27,
            "row": 151
          },
          "location": {
            "column": 23,
            "row": 151
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 23,
      "row": 151
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 29,
            "row": 152
          },
          "location": {
            "column": 25,
            "row": 152
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 25,
      "row": 152
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 43,
            "row": 154
          },
          "location": {
            "column": 19,
            "row": 154
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 154
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 154
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 154
          },
          "location": {
            "column": 28,
            "row": 154
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 154
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 154,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 273
          },
          "location": {
            "column": 51,
            "row": 273
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 273
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 79,
            "row": 273
          },
          "location": {
            "column": 75,
            "row": 273
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 75,
      "row": 273
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 273
          },
          "location": {
            "column": 91,
            "row": 273
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 273
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 301
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 301
          },
          "location": {
            "column": 18,
            "row": 301
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 301
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 301,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 302
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 302
          },
          "location": {
            "column": 20,
            "row": 302
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 302
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 302,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 361
          },
          "location": {
            "column": 18,
            "row": 361
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 361
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 362
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 362
          },
          "location": {
            "column": 20,
            "row": 362
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 362
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 362,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 460
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 460
          },
          "location": {
            "column": 18,
            "row": 460
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 460
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 460,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 461
          },
          "location": {
            "column": 20,
            "row": 461
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 461
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 32,
      "row": 510
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 510
    },
    "message": "`_make_stopping_decision` is too complex (14 > 10)",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 512
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 512
          },
          "location": {
            "column": 23,
            "row": 512
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 512
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 512,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 513
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "SPRTBounds | None",
          "end_location": {
            "column": 42,
            "row": 513
          },
          "location": {
            "column": 22,
            "row": 513
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 513
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 513,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 514
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "GroupSequentialBounds | None",
          "end_location": {
            "column": 58,
            "row": 514
          },
          "location": {
            "column": 27,
            "row": 514
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 514
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 514,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 517
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 15,
            "row": 517
          },
          "location": {
            "column": 10,
            "row": 517
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 10,
      "row": 517
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 517,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 66,
      "row": 526
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        if sprt_bounds and sprt_bounds.decision != StoppingDecision.CONTINUE:\n            decisions.append(sprt_bounds.decision)\n            if sprt_bounds.decision == StoppingDecision.STOP_REJECT_NULL:\n                recommendations.append(\"SPRT: Significant effect detected\")\n                confidence_scores.append(0.95)\n            else:\n                recommendations.append(\"SPRT: No effect detected\")\n                confidence_scores.append(0.90)",
          "end_location": {
            "column": 51,
            "row": 533
          },
          "location": {
            "column": 1,
            "row": 525
          }
        }
      ],
      "message": "Combine `if` statements using `and`"
    },
    "location": {
      "column": 9,
      "row": 525
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 525,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 71,
      "row": 537
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 536
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 22,
      "row": 582
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 22,
            "row": 582
          },
          "location": {
            "column": 18,
            "row": 582
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 18,
      "row": 582
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 582,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 24,
      "row": 583
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 24,
            "row": 583
          },
          "location": {
            "column": 20,
            "row": 583
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 20,
      "row": 583
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 583,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 622
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 85,
            "row": 622
          },
          "location": {
            "column": 61,
            "row": 622
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 61,
      "row": 622
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 622,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 622
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 622
          },
          "location": {
            "column": 70,
            "row": 622
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 622
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 622,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 638
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 60,
            "row": 638
          },
          "location": {
            "column": 56,
            "row": 638
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 56,
      "row": 638
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 638,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 679
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 679
          },
          "location": {
            "column": 19,
            "row": 679
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 679
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 679,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 680
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 680
          },
          "location": {
            "column": 21,
            "row": 680
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 680
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 680,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 11,
      "row": 683
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 11,
            "row": 683
          },
          "location": {
            "column": 6,
            "row": 683
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 6,
      "row": 683
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 683,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 48,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from abc import ABC, abstractmethod\nimport asyncio\nfrom dataclasses import dataclass, field\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport logging\nimport math\nfrom typing import Any, Dict, List, Optional, Tuple, Union\nimport uuid\n\nimport numpy as np\nfrom scipy import stats\nfrom sklearn.linear_model import Ridge\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\n",
          "end_location": {
            "column": 1,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 59,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 26
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 59,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional, Tuple",
          "end_location": {
            "column": 59,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 54,
      "row": 26
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 27
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 32
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 32
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 94
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 34,
            "row": 94
          },
          "location": {
            "column": 14,
            "row": 94
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 94
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 94,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 95
          },
          "location": {
            "column": 15,
            "row": 95
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 95
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 31,
            "row": 109
          },
          "location": {
            "column": 26,
            "row": 109
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 26,
      "row": 109
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 109,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 43,
            "row": 116
          },
          "location": {
            "column": 23,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 15,
            "row": 124
          },
          "location": {
            "column": 11,
            "row": 124
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 11,
      "row": 124
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 25,
            "row": 130
          },
          "location": {
            "column": 21,
            "row": 130
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 21,
      "row": 130
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 21,
            "row": 131
          },
          "location": {
            "column": 17,
            "row": 131
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 17,
      "row": 131
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 138
          },
          "location": {
            "column": 30,
            "row": 138
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 138
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 157
          },
          "location": {
            "column": 41,
            "row": 157
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 157
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 157,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 168
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 85,
            "row": 168
          },
          "location": {
            "column": 65,
            "row": 168
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 65,
      "row": 168
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 168,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 41,
            "row": 206
          },
          "location": {
            "column": 37,
            "row": 206
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 37,
      "row": 206
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 206
          },
          "location": {
            "column": 47,
            "row": 206
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 206
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 238
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 238
          },
          "location": {
            "column": 30,
            "row": 238
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 238
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 242
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 242
          },
          "location": {
            "column": 41,
            "row": 242
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 242
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 242,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 268
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 268
          },
          "location": {
            "column": 41,
            "row": 268
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 268
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 268,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 85,
            "row": 295
          },
          "location": {
            "column": 65,
            "row": 295
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 65,
      "row": 295
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 306
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 306
          },
          "location": {
            "column": 41,
            "row": 306
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 306
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 306,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 322
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 322
          },
          "location": {
            "column": 30,
            "row": 322
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 322
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 322,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C420",
    "end_location": {
      "column": 54,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict.fromkeys(arms, False)",
          "end_location": {
            "column": 54,
            "row": 327
          },
          "location": {
            "column": 26,
            "row": 327
          }
        }
      ],
      "message": "Replace with `dict.fromkeys(iterable)`)"
    },
    "location": {
      "column": 26,
      "row": 327
    },
    "message": "Unnecessary dict comprehension for iterable; use `dict.fromkeys` instead",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-dict-comprehension-for-iterable"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 85,
            "row": 329
          },
          "location": {
            "column": 65,
            "row": 329
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 65,
      "row": 329
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 329,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "np.ndarray | None",
          "end_location": {
            "column": 61,
            "row": 344
          },
          "location": {
            "column": 41,
            "row": 344
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 344
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 391
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 391
          },
          "location": {
            "column": 27,
            "row": 391
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 391
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 391,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 392
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 392
          },
          "location": {
            "column": 23,
            "row": 392
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 392
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 392,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 398
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 398
          },
          "location": {
            "column": 15,
            "row": 398
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 398
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 398,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 436
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 436
          },
          "location": {
            "column": 36,
            "row": 436
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 436
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 436,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 453
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 453
          },
          "location": {
            "column": 18,
            "row": 453
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 453
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 453,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 453
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 453
          },
          "location": {
            "column": 27,
            "row": 453
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 453
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 453,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 468
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 468
          },
          "location": {
            "column": 9,
            "row": 468
          }
        }
      ],
      "message": "Remove assignment to unused variable `experiment`"
    },
    "location": {
      "column": 9,
      "row": 468
    },
    "message": "Local variable `experiment` is assigned to but never used",
    "noqa_row": 468,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 530
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 530
          },
          "location": {
            "column": 42,
            "row": 530
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 530
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 530,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 16,
      "row": 536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_key",
          "end_location": {
            "column": 16,
            "row": 536
          },
          "location": {
            "column": 13,
            "row": 536
          }
        }
      ],
      "message": "Rename unused `key` to `_key`"
    },
    "location": {
      "column": 13,
      "row": 536
    },
    "message": "Loop control variable `key` not used within loop body",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 40,
      "row": 536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "value",
          "end_location": {
            "column": 23,
            "row": 536
          },
          "location": {
            "column": 13,
            "row": 536
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 40,
            "row": 536
          },
          "location": {
            "column": 35,
            "row": 536
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 27,
      "row": 536
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 47,
      "row": 537
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 46,
            "row": 537
          },
          "location": {
            "column": 34,
            "row": 537
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 537
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 537,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 569
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 569
          },
          "location": {
            "column": 61,
            "row": 569
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 569
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 569,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 624
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 624
          },
          "location": {
            "column": 15,
            "row": 624
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 624
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 624,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 11,
      "row": 627
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 11,
            "row": 627
          },
          "location": {
            "column": 6,
            "row": 627
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 6,
      "row": 627
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 627,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 652
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 652
          },
          "location": {
            "column": 21,
            "row": 652
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 652
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 652,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 11,
      "row": 653
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 11,
            "row": 653
          },
          "location": {
            "column": 6,
            "row": 653
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 6,
      "row": 653
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 653,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional\n\nimport numpy as np\nfrom scipy import stats\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ValidationConfig | None",
          "end_location": {
            "column": 58,
            "row": 30
          },
          "location": {
            "column": 32,
            "row": 30
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 30
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 36
          },
          "location": {
            "column": 50,
            "row": 36
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 36
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 36,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 37
          },
          "location": {
            "column": 51,
            "row": 37
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 37
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 37
          },
          "location": {
            "column": 70,
            "row": 37
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 37
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 91
          },
          "location": {
            "column": 56,
            "row": 91
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 91
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 91
          },
          "location": {
            "column": 88,
            "row": 91
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 91
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 111,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 111,
            "row": 91
          },
          "location": {
            "column": 107,
            "row": 91
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 107,
      "row": 91
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 142
          },
          "location": {
            "column": 58,
            "row": 142
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 142
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 93,
            "row": 142
          },
          "location": {
            "column": 89,
            "row": 142
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 89,
      "row": 142
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 109,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 109,
            "row": 142
          },
          "location": {
            "column": 105,
            "row": 142
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 105,
      "row": 142
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 160
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/optimization_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_train_idx",
          "end_location": {
            "column": 22,
            "row": 160
          },
          "location": {
            "column": 13,
            "row": 160
          }
        }
      ],
      "message": "Rename unused `train_idx` to `_train_idx`"
    },
    "location": {
      "column": 13,
      "row": 160
    },
    "message": "Loop control variable `train_idx` not used within loop body",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional\nimport warnings\n\nimport numpy as np\nfrom scipy import stats\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import random\n\n    from deap import algorithms, base, creator, tools\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 105,
            "row": 23
          },
          "location": {
            "column": 105,
            "row": 23
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 23
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import pandas as pd\n    from sklearn.gaussian_process import GaussianProcessRegressor\n    from sklearn.gaussian_process.kernels import RBF, WhiteKernel\n    from sklearn.preprocessing import StandardScaler\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 29
    },
    "message": "`pandas` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 108,
            "row": 33
          },
          "location": {
            "column": 108,
            "row": 33
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 33
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 26,
            "row": 64
          },
          "location": {
            "column": 22,
            "row": 64
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 22,
      "row": 64
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 65
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 21,
            "row": 65
          },
          "location": {
            "column": 17,
            "row": 65
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 17,
      "row": 65
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 65,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 75
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 75
          },
          "location": {
            "column": 22,
            "row": 75
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 75
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 75,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ParetoSolution | None",
          "end_location": {
            "column": 55,
            "row": 79
          },
          "location": {
            "column": 31,
            "row": 79
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 31,
      "row": 79
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 80
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 80
          },
          "location": {
            "column": 25,
            "row": 80
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 80
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 80,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 87
          },
          "location": {
            "column": 25,
            "row": 87
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 87
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 30,
            "row": 90
          },
          "location": {
            "column": 26,
            "row": 90
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 26,
      "row": 90
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 90
          },
          "location": {
            "column": 31,
            "row": 90
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 90
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 60,
      "row": 98
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OptimizationConfig | None",
          "end_location": {
            "column": 60,
            "row": 98
          },
          "location": {
            "column": 32,
            "row": 98
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 98
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 98,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 102
          },
          "location": {
            "column": 67,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 74,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[Dict[str, Any]] | None",
          "end_location": {
            "column": 74,
            "row": 103
          },
          "location": {
            "column": 44,
            "row": 103
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 44,
      "row": 103
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 57,
            "row": 103
          },
          "location": {
            "column": 53,
            "row": 103
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 53,
      "row": 103
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 103
          },
          "location": {
            "column": 58,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 103
          },
          "location": {
            "column": 86,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 61,
            "row": 149
          },
          "location": {
            "column": 57,
            "row": 149
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 57,
      "row": 149
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 149,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 149
          },
          "location": {
            "column": 86,
            "row": 149
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 149
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 149,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 109,
      "row": 149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 109,
            "row": 149
          },
          "location": {
            "column": 105,
            "row": 149
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 105,
      "row": 149
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 149,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 86,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 86,
            "row": 161
          },
          "location": {
            "column": 82,
            "row": 161
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 82,
      "row": 161
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 161
          },
          "location": {
            "column": 87,
            "row": 161
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 161
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 137,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "MultiObjectiveResult | None",
          "end_location": {
            "column": 137,
            "row": 161
          },
          "location": {
            "column": 107,
            "row": 161
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 107,
      "row": 161
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 63,
            "row": 200
          },
          "location": {
            "column": 59,
            "row": 200
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 59,
      "row": 200
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 200
          },
          "location": {
            "column": 64,
            "row": 200
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 200
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 200
          },
          "location": {
            "column": 84,
            "row": 200
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 200
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 200
          },
          "location": {
            "column": 89,
            "row": 200
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 200
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 25,
      "row": 239
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        },
        {
          "content": "with contextlib.suppress(Exception)",
          "end_location": {
            "column": 20,
            "row": 236
          },
          "location": {
            "column": 17,
            "row": 236
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 240
          },
          "location": {
            "column": 1,
            "row": 238
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(Exception)`"
    },
    "location": {
      "column": 17,
      "row": 236
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 236,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 25,
      "row": 239
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 238
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 31,
      "row": 285
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 285
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 285,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 62,
      "row": 292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 47,
      "row": 292
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 292,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 31,
      "row": 309
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": null,
    "location": {
      "column": 16,
      "row": 309
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 309,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 326
          },
          "location": {
            "column": 58,
            "row": 326
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 326
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 326
          },
          "location": {
            "column": 63,
            "row": 326
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 326
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 51,
      "row": 349
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 50,
            "row": 349
          },
          "location": {
            "column": 50,
            "row": 349
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 25,
      "row": 349
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 349,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 376
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 376
          },
          "location": {
            "column": 13,
            "row": 376
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 376
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 376,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 48,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 48,
            "row": 402
          },
          "location": {
            "column": 44,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 44,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 85,
            "row": 402
          },
          "location": {
            "column": 81,
            "row": 402
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 81,
      "row": 402
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 90,
            "row": 402
          },
          "location": {
            "column": 86,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 86,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 110,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 110,
            "row": 402
          },
          "location": {
            "column": 106,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 106,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 109,
      "row": 436
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 108,
            "row": 436
          },
          "location": {
            "column": 108,
            "row": 436
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 57,
      "row": 436
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 436,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 441
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 441
          },
          "location": {
            "column": 55,
            "row": 441
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 441
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 441,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C414",
    "end_location": {
      "column": 54,
      "row": 451
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "sorted(all_objectives)",
          "end_location": {
            "column": 54,
            "row": 451
          },
          "location": {
            "column": 26,
            "row": 451
          }
        }
      ],
      "message": "Remove the inner `list()` call"
    },
    "location": {
      "column": 26,
      "row": 451
    },
    "message": "Unnecessary `list()` call within `sorted()`",
    "noqa_row": 451,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-double-cast-or-process"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 501
          },
          "location": {
            "column": 63,
            "row": 501
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 501
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 112,
      "row": 501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ParetoSolution | None",
          "end_location": {
            "column": 112,
            "row": 501
          },
          "location": {
            "column": 88,
            "row": 501
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 88,
      "row": 501
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 525
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 525
          },
          "location": {
            "column": 52,
            "row": 525
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 525
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 525,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 525
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 525
          },
          "location": {
            "column": 77,
            "row": 525
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 525
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 525,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 565
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 87,
            "row": 565
          },
          "location": {
            "column": 83,
            "row": 565
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 83,
      "row": 565
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 565,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 565
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 565
          },
          "location": {
            "column": 88,
            "row": 565
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 565
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 565,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 139,
      "row": 565
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "GaussianProcessResult | None",
          "end_location": {
            "column": 139,
            "row": 565
          },
          "location": {
            "column": 108,
            "row": 565
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 108,
      "row": 565
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 565,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 613
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 613
          },
          "location": {
            "column": 49,
            "row": 613
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 613
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 613,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 613
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/optimization/rule_optimizer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 613
          },
          "location": {
            "column": 54,
            "row": 613
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 613
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 613,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 62,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom typing import Any\n\nfrom .base import BasePromptRule\nfrom .rules.chain_of_thought import ChainOfThoughtRule\nfrom .rules.clarity import ClarityRule\nfrom .rules.few_shot_examples import FewShotExampleRule\nfrom .rules.role_based_prompting import RoleBasedPromptingRule\nfrom .rules.specificity import SpecificityRule\nfrom .rules.xml_structure_enhancement import XMLStructureRule\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 33,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/__init__.py",
    "fix": null,
    "location": {
      "column": 19,
      "row": 6
    },
    "message": "`.base.BasePromptRule` imported but unused; consider removing, adding to `__all__`, or using a redundant alias",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 25,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/__init__.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 97
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 97,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import re\nfrom typing import Any, Dict, List, Tuple\n\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 73
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 73
          },
          "location": {
            "column": 33,
            "row": 73
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 73
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 73,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 207
          },
          "location": {
            "column": 63,
            "row": 207
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 207
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 57,
            "row": 273
          },
          "location": {
            "column": 52,
            "row": 273
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 52,
      "row": 273
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 273
          },
          "location": {
            "column": 63,
            "row": 273
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 273
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 273
          },
          "location": {
            "column": 68,
            "row": 273
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 273
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 286
          },
          "location": {
            "column": 67,
            "row": 286
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 286
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 286,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 81,
            "row": 286
          },
          "location": {
            "column": 76,
            "row": 286
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 76,
      "row": 286
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 286,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 91,
            "row": 286
          },
          "location": {
            "column": 87,
            "row": 286
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 87,
      "row": 286
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 286,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 286
          },
          "location": {
            "column": 92,
            "row": 286
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 286
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 286,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 304
          },
          "location": {
            "column": 69,
            "row": 304
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 304
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 83,
            "row": 304
          },
          "location": {
            "column": 78,
            "row": 304
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 78,
      "row": 304
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 93,
            "row": 304
          },
          "location": {
            "column": 89,
            "row": 304
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 89,
      "row": 304
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 98,
            "row": 304
          },
          "location": {
            "column": 94,
            "row": 304
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 94,
      "row": 304
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 60,
            "row": 327
          },
          "location": {
            "column": 55,
            "row": 327
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 55,
      "row": 327
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 70,
            "row": 327
          },
          "location": {
            "column": 66,
            "row": 327
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 66,
      "row": 327
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 327
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 327
          },
          "location": {
            "column": 71,
            "row": 327
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 327
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 327,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 352
          },
          "location": {
            "column": 66,
            "row": 352
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 352
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 80,
            "row": 352
          },
          "location": {
            "column": 75,
            "row": 352
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 75,
      "row": 352
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 352
          },
          "location": {
            "column": 86,
            "row": 352
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 352
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/chain_of_thought.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 352
          },
          "location": {
            "column": 91,
            "row": 352
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 352
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport re\nimport string\nfrom typing import Any, Dict, List\n\nfrom ...services.llm_transformer import LLMTransformerService\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `string`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`string` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 62,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.llm_transformer import LLMTransformerService",
          "end_location": {
            "column": 62,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 75
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 75
          },
          "location": {
            "column": 33,
            "row": 75
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 75
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 75,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 191
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 191
          },
          "location": {
            "column": 58,
            "row": 191
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 191
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 191,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 246
          },
          "location": {
            "column": 63,
            "row": 246
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 246
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 246
          },
          "location": {
            "column": 68,
            "row": 246
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 246
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 281
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 67,
            "row": 281
          },
          "location": {
            "column": 63,
            "row": 281
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 63,
      "row": 281
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 281
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 281
          },
          "location": {
            "column": 68,
            "row": 281
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 281
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 304
          },
          "location": {
            "column": 64,
            "row": 304
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 304
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 304
          },
          "location": {
            "column": 69,
            "row": 304
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 304
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 70,
            "row": 319
          },
          "location": {
            "column": 66,
            "row": 319
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 66,
      "row": 319
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/clarity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 319
          },
          "location": {
            "column": 71,
            "row": 319
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 319
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import random\nimport re\nfrom typing import Any, Dict, List, Tuple\n\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `random`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`random` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 83
          },
          "location": {
            "column": 33,
            "row": 83
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 83
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 206
          },
          "location": {
            "column": 61,
            "row": 206
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 206
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 289
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 289
          },
          "location": {
            "column": 61,
            "row": 289
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 289
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 289,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 82,
      "row": 317
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 82,
            "row": 317
          },
          "location": {
            "column": 78,
            "row": 317
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 78,
      "row": 317
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 317,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 317
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 317
          },
          "location": {
            "column": 83,
            "row": 317
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 317
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 317,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 345
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 74,
            "row": 345
          },
          "location": {
            "column": 70,
            "row": 345
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 70,
      "row": 345
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 345,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 345
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 345
          },
          "location": {
            "column": 75,
            "row": 345
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 345
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 345,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 401
          },
          "location": {
            "column": 48,
            "row": 401
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 401
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 401
          },
          "location": {
            "column": 53,
            "row": 401
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 401
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 401
          },
          "location": {
            "column": 86,
            "row": 401
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 401
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 401
          },
          "location": {
            "column": 91,
            "row": 401
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 401
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 428
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 55,
            "row": 428
          },
          "location": {
            "column": 51,
            "row": 428
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 51,
      "row": 428
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 428,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 428
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 428
          },
          "location": {
            "column": 56,
            "row": 428
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 428
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 428,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 428
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 92,
            "row": 428
          },
          "location": {
            "column": 88,
            "row": 428
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 88,
      "row": 428
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 428,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 428
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 428
          },
          "location": {
            "column": 93,
            "row": 428
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 428
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 428,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 462
          },
          "location": {
            "column": 53,
            "row": 462
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 462
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 462
          },
          "location": {
            "column": 79,
            "row": 462
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 462
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 88,
            "row": 462
          },
          "location": {
            "column": 84,
            "row": 462
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 84,
      "row": 462
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 490
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 53,
            "row": 490
          },
          "location": {
            "column": 49,
            "row": 490
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 49,
      "row": 490
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 490,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 490
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 490
          },
          "location": {
            "column": 54,
            "row": 490
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 490
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 490,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 490
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 490
          },
          "location": {
            "column": 74,
            "row": 490
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 490
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 490,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 490
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 490
          },
          "location": {
            "column": 79,
            "row": 490
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 490
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 490,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 501
          },
          "location": {
            "column": 51,
            "row": 501
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 501
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 96,
      "row": 501
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 96,
            "row": 501
          },
          "location": {
            "column": 92,
            "row": 501
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 92,
      "row": 501
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 62,
            "row": 519
          },
          "location": {
            "column": 58,
            "row": 519
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 58,
      "row": 519
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 519
          },
          "location": {
            "column": 63,
            "row": 519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 519
          },
          "location": {
            "column": 89,
            "row": 519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 103,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 103,
            "row": 519
          },
          "location": {
            "column": 98,
            "row": 519
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 98,
      "row": 519
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 113,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 113,
            "row": 519
          },
          "location": {
            "column": 109,
            "row": 519
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 109,
      "row": 519
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 118,
      "row": 519
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/few_shot_examples.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 118,
            "row": 519
          },
          "location": {
            "column": 114,
            "row": 519
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 114,
      "row": 519
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 519,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import re\nfrom typing import Any, Dict, List, Optional, Tuple\n\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any, List, Tuple",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Optional`"
    },
    "location": {
      "column": 44,
      "row": 11
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 177
          },
          "location": {
            "column": 33,
            "row": 177
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 177
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 177,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 295
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 295
          },
          "location": {
            "column": 58,
            "row": 295
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 295
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 295,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 409
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 409
          },
          "location": {
            "column": 76,
            "row": 409
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 409
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 409,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 91,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 91,
            "row": 442
          },
          "location": {
            "column": 87,
            "row": 442
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 87,
      "row": 442
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 101,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 101,
            "row": 442
          },
          "location": {
            "column": 96,
            "row": 442
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 96,
      "row": 442
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 111,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 111,
            "row": 442
          },
          "location": {
            "column": 107,
            "row": 442
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 107,
      "row": 442
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 116,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 116,
            "row": 442
          },
          "location": {
            "column": 112,
            "row": 442
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 112,
      "row": 442
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 482
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/role_based_prompting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 76,
            "row": 482
          },
          "location": {
            "column": 72,
            "row": 482
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 72,
      "row": 482
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 482,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport re\nfrom typing import Any, Dict, List, Tuple\n\nfrom ...services.llm_transformer import LLMTransformerService\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 62,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.llm_transformer import LLMTransformerService",
          "end_location": {
            "column": 62,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 86
          },
          "location": {
            "column": 33,
            "row": 86
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 86
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 39,
      "row": 232
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 232
    },
    "message": "`_calculate_specificity_metrics` is too complex (13 > 10)",
    "noqa_row": 232,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 232
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 66,
            "row": 232
          },
          "location": {
            "column": 62,
            "row": 232
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 62,
      "row": 232
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 232,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 56,
            "row": 326
          },
          "location": {
            "column": 51,
            "row": 326
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 51,
      "row": 326
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 66,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 66,
            "row": 326
          },
          "location": {
            "column": 62,
            "row": 326
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 62,
      "row": 326
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 326
          },
          "location": {
            "column": 67,
            "row": 326
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 326
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 367
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 63,
            "row": 367
          },
          "location": {
            "column": 58,
            "row": 367
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 58,
      "row": 367
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 367,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 367
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 73,
            "row": 367
          },
          "location": {
            "column": 69,
            "row": 367
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 69,
      "row": 367
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 367,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 367
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 367
          },
          "location": {
            "column": 74,
            "row": 367
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 367
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 367,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 59,
            "row": 383
          },
          "location": {
            "column": 54,
            "row": 383
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 54,
      "row": 383
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 69,
            "row": 383
          },
          "location": {
            "column": 65,
            "row": 383
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 65,
      "row": 383
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 383
          },
          "location": {
            "column": 70,
            "row": 383
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 383
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 62,
            "row": 397
          },
          "location": {
            "column": 57,
            "row": 397
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 57,
      "row": 397
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 397
          },
          "location": {
            "column": 68,
            "row": 397
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 397
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 397
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 397
          },
          "location": {
            "column": 73,
            "row": 397
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 397
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 397,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 63,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 63,
            "row": 411
          },
          "location": {
            "column": 58,
            "row": 411
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 58,
      "row": 411
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 411,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 73,
            "row": 411
          },
          "location": {
            "column": 69,
            "row": 411
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 69,
      "row": 411
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 411,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 411
          },
          "location": {
            "column": 74,
            "row": 411
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 411
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 411,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 58,
            "row": 425
          },
          "location": {
            "column": 53,
            "row": 425
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 53,
      "row": 425
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 68,
            "row": 425
          },
          "location": {
            "column": 64,
            "row": 425
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 64,
      "row": 425
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 425
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 425
          },
          "location": {
            "column": 69,
            "row": 425
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 425
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 425,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 60,
            "row": 439
          },
          "location": {
            "column": 55,
            "row": 439
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 55,
      "row": 439
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 70,
            "row": 439
          },
          "location": {
            "column": 66,
            "row": 439
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 66,
      "row": 439
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/specificity.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 439
          },
          "location": {
            "column": 71,
            "row": 439
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 439
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import re\nfrom typing import Any, Dict, List, Tuple\n\nfrom ..base import (\n    BasePromptRule,\n    RuleCheckResult,\n    TransformationResult,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 89
          },
          "location": {
            "column": 33,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 213
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 213
          },
          "location": {
            "column": 63,
            "row": 213
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 213
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 213,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 33,
      "row": 281
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 281
    },
    "message": "`_detect_content_sections` is too complex (12 > 10)",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 281
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 281
          },
          "location": {
            "column": 56,
            "row": 281
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 281
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 281,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 284
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 284
          },
          "location": {
            "column": 9,
            "row": 284
          }
        }
      ],
      "message": "Remove assignment to unused variable `prompt_lower`"
    },
    "location": {
      "column": 9,
      "row": 284
    },
    "message": "Local variable `prompt_lower` is assigned to but never used",
    "noqa_row": 284,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 333
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 333
          },
          "location": {
            "column": 50,
            "row": 333
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 333
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 333,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 98,
      "row": 333
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 98,
            "row": 333
          },
          "location": {
            "column": 94,
            "row": 333
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 94,
      "row": 333
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 333,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 363
          },
          "location": {
            "column": 68,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 97,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 97,
            "row": 363
          },
          "location": {
            "column": 93,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 93,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 107,
            "row": 363
          },
          "location": {
            "column": 102,
            "row": 363
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 102,
      "row": 363
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 117,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 117,
            "row": 363
          },
          "location": {
            "column": 113,
            "row": 363
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 113,
      "row": 363
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 122,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 122,
            "row": 363
          },
          "location": {
            "column": 118,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 118,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 418
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 418
          },
          "location": {
            "column": 64,
            "row": 418
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 418
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 418
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 78,
            "row": 418
          },
          "location": {
            "column": 73,
            "row": 418
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 73,
      "row": 418
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 88,
      "row": 418
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 88,
            "row": 418
          },
          "location": {
            "column": 84,
            "row": 418
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 84,
      "row": 418
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 418
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 418
          },
          "location": {
            "column": 89,
            "row": 418
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 418
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 483
          },
          "location": {
            "column": 49,
            "row": 483
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 483
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 483,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rule_engine/rules/xml_structure_enhancement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 483
          },
          "location": {
            "column": 68,
            "row": 483
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 483
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 483,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 80,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import logging\nfrom typing import Any, Dict, List\n\nfrom ..analysis.linguistic_analyzer import LinguisticAnalyzer, LinguisticConfig\nfrom ..rule_engine.base import BasePromptRule, RuleCheckResult, TransformationResult\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 85,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 85,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 85,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 65
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 65
          },
          "location": {
            "column": 43,
            "row": 65
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 65
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 65,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 86
          },
          "location": {
            "column": 43,
            "row": 86
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 86
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 117
          },
          "location": {
            "column": 13,
            "row": 117
          }
        }
      ],
      "message": "Remove assignment to unused variable `overall_score`"
    },
    "location": {
      "column": 13,
      "row": 117
    },
    "message": "Local variable `overall_score` is assigned to but never used",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 140
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 226
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 226
          },
          "location": {
            "column": 9,
            "row": 226
          }
        }
      ],
      "message": "Remove assignment to unused variable `entity_count`"
    },
    "location": {
      "column": 9,
      "row": 226
    },
    "message": "Local variable `entity_count` is assigned to but never used",
    "noqa_row": 226,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 262
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 262
          },
          "location": {
            "column": 58,
            "row": 262
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 262
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 262,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 30,
      "row": 279
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 279
    },
    "message": "`_generate_suggestions` is too complex (13 > 10)",
    "noqa_row": 279,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 279
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 279
          },
          "location": {
            "column": 65,
            "row": 279
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 279
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 279,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 279
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 279
          },
          "location": {
            "column": 86,
            "row": 279
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 279
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 279,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 316
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/rules/linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 316
          },
          "location": {
            "column": 74,
            "row": 316
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 316
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 316,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport os\nfrom pathlib import Path\nimport signal\nimport sys\n\n",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 35,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport json\nimport logging\nfrom typing import Any\n\nfrom rich.console import Console\n\nfrom ..database import get_session\n\n\n",
          "end_location": {
            "column": 1,
            "row": 57
          },
          "location": {
            "column": 1,
            "row": 47
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 47
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 35,
      "row": 54
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import get_session",
          "end_location": {
            "column": 35,
            "row": 54
          },
          "location": {
            "column": 1,
            "row": 54
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 54
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 54,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 55,
      "row": 163
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 163
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 163,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "B904",
    "end_location": {
      "column": 56,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 178
    },
    "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
    "noqa_row": 178,
    "url": "https://docs.astral.sh/ruff/rules/raise-without-from-inside-except"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 33,
      "row": 252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 251
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 251,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 61,
      "row": 282
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service",
          "end_location": {
            "column": 61,
            "row": 282
          },
          "location": {
            "column": 13,
            "row": 282
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 282
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 282,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 65,
      "row": 341
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service",
          "end_location": {
            "column": 65,
            "row": 341
          },
          "location": {
            "column": 17,
            "row": 341
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 341
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 341,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 33,
      "row": 470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/manager.py",
    "fix": null,
    "location": {
      "column": 19,
      "row": 470
    },
    "message": "Undefined name `sessionmanager`",
    "noqa_row": 470,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 50,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nimport json\nimport logging\nimport re\nfrom typing import Any\n\nfrom rich.console import Console\n\nfrom ..database import sessionmanager\nfrom ..services.analytics import AnalyticsService\n\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 38,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import sessionmanager",
          "end_location": {
            "column": 38,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.analytics import AnalyticsService",
          "end_location": {
            "column": 50,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 192
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/service/security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 192
          },
          "location": {
            "column": 13,
            "row": 192
          }
        }
      ],
      "message": "Remove assignment to unused variable `analytics`"
    },
    "location": {
      "column": 13,
      "row": 192
    },
    "message": "Local variable `analytics` is assigned to but never used",
    "noqa_row": 192,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 61,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/__init__.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.automl.orchestrator import AutoMLOrchestrator",
          "end_location": {
            "column": 61,
            "row": 25
          },
          "location": {
            "column": 9,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict, List, Optional\n\nimport numpy as np\nfrom scipy import stats\nfrom sklearn.utils import resample  # For bootstrap sampling\nfrom sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.models import ABExperiment, ABExperimentCreate, RulePerformance\nfrom ..optimization.early_stopping import (\n    AdvancedEarlyStoppingFramework,\n    EarlyStoppingConfig,\n    StoppingDecision,\n    should_stop_experiment,\n)\nfrom ..optimization.multi_armed_bandit import (\n    ArmResult,\n    BanditAlgorithm,\n    BanditConfig,\n    MultiarmedBanditFramework,\n    create_rule_optimization_bandit,\n    intelligent_rule_selection,\n)\nfrom ..utils.error_handlers import handle_database_errors\nfrom .analytics import AnalyticsService\n\n",
          "end_location": {
            "column": 1,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, ABExperimentCreate, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 58,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors",
          "end_location": {
            "column": 58,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.early_stopping import AdvancedEarlyStoppingFramework, EarlyStoppingConfig, StoppingDecision, should_stop_experiment",
          "end_location": {
            "column": 2,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.early_stopping import AdvancedEarlyStoppingFramework, EarlyStoppingConfig, StoppingDecision, should_stop_experiment",
          "end_location": {
            "column": 2,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.early_stopping import AdvancedEarlyStoppingFramework, EarlyStoppingConfig, StoppingDecision, should_stop_experiment",
          "end_location": {
            "column": 2,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.early_stopping import AdvancedEarlyStoppingFramework, EarlyStoppingConfig, StoppingDecision, should_stop_experiment",
          "end_location": {
            "column": 2,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 27,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.early_stopping import (\n    AdvancedEarlyStoppingFramework, \n    EarlyStoppingConfig,\n    StoppingDecision\n)",
          "end_location": {
            "column": 2,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `..optimization.early_stopping.should_stop_experiment`"
    },
    "location": {
      "column": 5,
      "row": 23
    },
    "message": "`..optimization.early_stopping.should_stop_experiment` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, ArmResult, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm,\n    ArmResult\n)",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 30
    },
    "message": "`..optimization.multi_armed_bandit.create_rule_optimization_bandit` imported but unused",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm,\n    ArmResult\n)",
          "end_location": {
            "column": 2,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 31
    },
    "message": "`..optimization.multi_armed_bandit.intelligent_rule_selection` imported but unused",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 80,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AdvancedEarlyStoppingFramework | None",
          "end_location": {
            "column": 80,
            "row": 77
          },
          "location": {
            "column": 40,
            "row": 77
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 40,
      "row": 77
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 67,
      "row": 91
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "MultiarmedBanditFramework | None",
          "end_location": {
            "column": 67,
            "row": 91
          },
          "location": {
            "column": 32,
            "row": 91
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 91
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 35,
            "row": 116
          },
          "location": {
            "column": 22,
            "row": 116
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 116
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 161
          },
          "location": {
            "column": 16,
            "row": 161
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 161
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 275
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 275
          },
          "location": {
            "column": 16,
            "row": 275
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 275
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 275,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 39,
      "row": 340
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 340
    },
    "message": "`_get_pre_experiment_data` is too complex (12 > 10)",
    "noqa_row": 340,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 15,
      "row": 437
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 18,
            "row": 437
          },
          "location": {
            "column": 9,
            "row": 437
          }
        }
      ],
      "message": "Remove assignment to unused variable `t_stat`"
    },
    "location": {
      "column": 9,
      "row": 437
    },
    "message": "Local variable `t_stat` is assigned to but never used",
    "noqa_row": 437,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 545
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 545
          },
          "location": {
            "column": 16,
            "row": 545
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 545
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 545,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 35,
      "row": 641
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 641
    },
    "message": "`check_early_stopping` is too complex (12 > 10)",
    "noqa_row": 641,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 645
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 645
          },
          "location": {
            "column": 21,
            "row": 645
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 645
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 645,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 787
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 787
          },
          "location": {
            "column": 16,
            "row": 787
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 787
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 787,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 838
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 838
          },
          "location": {
            "column": 21,
            "row": 838
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 838
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 838,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 876
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 876
          },
          "location": {
            "column": 16,
            "row": 876
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 876
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 876,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 896
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 896
          },
          "location": {
            "column": 21,
            "row": 896
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 896
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 896,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 34,
      "row": 937
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 34,
            "row": 937
          },
          "location": {
            "column": 16,
            "row": 937
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 16,
      "row": 937
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 937,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 1015
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 1015
          },
          "location": {
            "column": 13,
            "row": 1015
          }
        }
      ],
      "message": "Remove assignment to unused variable `pooled_std`"
    },
    "location": {
      "column": 13,
      "row": 1015
    },
    "message": "Local variable `pooled_std` is assigned to but never used",
    "noqa_row": 1015,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 1197
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 1197
          },
          "location": {
            "column": 17,
            "row": 1197
          }
        }
      ],
      "message": "Remove assignment to unused variable `t_stat`"
    },
    "location": {
      "column": 17,
      "row": 1197
    },
    "message": "Local variable `t_stat` is assigned to but never used",
    "noqa_row": 1197,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 1244
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 23,
            "row": 1244
          },
          "location": {
            "column": 19,
            "row": 1244
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 19,
      "row": 1244
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1244,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 1246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 46,
            "row": 1246
          },
          "location": {
            "column": 27,
            "row": 1246
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 1246
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 1246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 1246
          },
          "location": {
            "column": 36,
            "row": 1246
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 1246
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 1246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 1247
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 1247
          },
          "location": {
            "column": 21,
            "row": 1247
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 1247
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1247,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 1323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 1323
          },
          "location": {
            "column": 18,
            "row": 1323
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 1323
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 1323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 1323
          },
          "location": {
            "column": 27,
            "row": 1323
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 1323
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 42,
      "row": 1370
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 42,
            "row": 1370
          },
          "location": {
            "column": 18,
            "row": 1370
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 1370
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1370,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 1370
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 1370
          },
          "location": {
            "column": 27,
            "row": 1370
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 1370
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1370,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 20,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import Counter, defaultdict\nfrom dataclasses import dataclass\nfrom itertools import combinations\nimport logging\nimport time\nfrom typing import Any, Optional\n\nimport numpy as np\nimport pandas as pd\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": null,
    "location": {
      "column": 36,
      "row": 18
    },
    "message": "`concurrent.futures.ThreadPoolExecutor` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 23
    },
    "message": "`joblib` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 71,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy import select, text\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.connection import DatabaseManager\nfrom ..database.models import RuleMetadata, RulePerformance\nfrom ..services.apriori_analyzer import AprioriAnalyzer, AprioriConfig\n\n",
          "end_location": {
            "column": 1,
            "row": 51
          },
          "location": {
            "column": 1,
            "row": 44
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 44
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 44,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 44
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy import text",
          "end_location": {
            "column": 36,
            "row": 44
          },
          "location": {
            "column": 1,
            "row": 44
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.select`"
    },
    "location": {
      "column": 24,
      "row": 44
    },
    "message": "`sqlalchemy.select` imported but unused",
    "noqa_row": 44,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RuleMetadata, RulePerformance",
          "end_location": {
            "column": 60,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 47
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 47
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RuleMetadata, RulePerformance",
          "end_location": {
            "column": 60,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 47
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 47
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 48
          },
          "location": {
            "column": 1,
            "row": 47
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 47
    },
    "message": "`..database.models.RuleMetadata` imported but unused",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 60,
      "row": 47
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 48
          },
          "location": {
            "column": 1,
            "row": 47
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 47
    },
    "message": "`..database.models.RulePerformance` imported but unused",
    "noqa_row": 47,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseManager",
          "end_location": {
            "column": 50,
            "row": 48
          },
          "location": {
            "column": 1,
            "row": 48
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 48
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 71,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.apriori_analyzer import AprioriAnalyzer, AprioriConfig",
          "end_location": {
            "column": 71,
            "row": 49
          },
          "location": {
            "column": 1,
            "row": 49
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 49
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 71,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.apriori_analyzer import AprioriAnalyzer, AprioriConfig",
          "end_location": {
            "column": 71,
            "row": 49
          },
          "location": {
            "column": 1,
            "row": 49
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 49
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list[str] | None",
          "end_location": {
            "column": 43,
            "row": 140
          },
          "location": {
            "column": 24,
            "row": 140
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 24,
      "row": 140
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 24,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 185
          },
          "location": {
            "column": 1,
            "row": 184
          }
        }
      ],
      "message": "Remove assignment to unused variable `discovery_tasks`"
    },
    "location": {
      "column": 9,
      "row": 184
    },
    "message": "Local variable `discovery_tasks` is assigned to but never used",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 42,
      "row": 370
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 370
    },
    "message": "`_discover_sequence_patterns` is too complex (15 > 10)",
    "noqa_row": 370,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_key",
          "end_location": {
            "column": 20,
            "row": 594
          },
          "location": {
            "column": 17,
            "row": 594
          }
        }
      ],
      "message": "Rename unused `key` to `_key`"
    },
    "location": {
      "column": 17,
      "row": 594
    },
    "message": "Loop control variable `key` not used within loop body",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 43,
      "row": 594
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "value",
          "end_location": {
            "column": 27,
            "row": 594
          },
          "location": {
            "column": 17,
            "row": 594
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 43,
            "row": 594
          },
          "location": {
            "column": 38,
            "row": 594
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 31,
      "row": 594
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 594,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 51,
      "row": 595
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 50,
            "row": 595
          },
          "location": {
            "column": 38,
            "row": 595
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 595
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 595,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 1266
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list[int] | None",
          "end_location": {
            "column": 49,
            "row": 1266
          },
          "location": {
            "column": 30,
            "row": 1266
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 1266
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1266,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 23,
      "row": 1292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_sample",
          "end_location": {
            "column": 23,
            "row": 1292
          },
          "location": {
            "column": 17,
            "row": 1292
          }
        }
      ],
      "message": "Rename unused `sample` to `_sample`"
    },
    "location": {
      "column": 17,
      "row": 1292
    },
    "message": "Loop control variable `sample` not used within loop body",
    "noqa_row": 1292,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 1459
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 1459
          },
          "location": {
            "column": 9,
            "row": 1459
          }
        }
      ],
      "message": "Remove assignment to unused variable `rules_in_consequent`"
    },
    "location": {
      "column": 9,
      "row": 1459
    },
    "message": "Local variable `rules_in_consequent` is assigned to but never used",
    "noqa_row": 1459,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 48,
      "row": 1567
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/advanced_pattern_discovery.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1567
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 1567,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RuleEffectivenessStats, UserSatisfactionStats",
          "end_location": {
            "column": 2,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RuleEffectivenessStats, UserSatisfactionStats",
          "end_location": {
            "column": 2,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors, handle_validation_errors",
          "end_location": {
            "column": 84,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors, handle_validation_errors",
          "end_location": {
            "column": 84,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 91,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 91,
            "row": 28
          },
          "location": {
            "column": 69,
            "row": 28
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 69,
      "row": 28
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 14,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 63
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 63,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 65,
            "row": 87
          },
          "location": {
            "column": 43,
            "row": 87
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 87
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 28,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 120
          },
          "location": {
            "column": 1,
            "row": 119
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 24,
      "row": 119
    },
    "message": "`json` imported but unused",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 151
          },
          "location": {
            "column": 21,
            "row": 151
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 151
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 70,
      "row": 224
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 21,
            "row": 224
          },
          "location": {
            "column": 17,
            "row": 224
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 70,
            "row": 224
          },
          "location": {
            "column": 69,
            "row": 224
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 17,
      "row": 224
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 238
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 65,
            "row": 238
          },
          "location": {
            "column": 43,
            "row": 238
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 238
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 65,
            "row": 319
          },
          "location": {
            "column": 43,
            "row": 319
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 319
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 319,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 378
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 65,
            "row": 378
          },
          "location": {
            "column": 43,
            "row": 378
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 378
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 378,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 24,
      "row": 393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from datetime import datetime, timedelta\n\n        from sqlalchemy import func, select\n        import sqlmodel\n\n        from ..database.models import ImprovementSession, RulePerformance\n",
          "end_location": {
            "column": 1,
            "row": 394
          },
          "location": {
            "column": 1,
            "row": 390
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 390
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 390,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 74,
      "row": 391
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RulePerformance, ImprovementSession",
          "end_location": {
            "column": 74,
            "row": 391
          },
          "location": {
            "column": 9,
            "row": 391
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 391
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 391,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 74,
      "row": 391
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RulePerformance, ImprovementSession",
          "end_location": {
            "column": 74,
            "row": 391
          },
          "location": {
            "column": 9,
            "row": 391
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 9,
      "row": 391
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 391,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 49,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/analytics.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 461
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 41,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass\nfrom datetime import datetime, timedelta\nimport logging\nfrom typing import Any, Dict, List, Optional, Set, Tuple\n\nimport numpy as np\nimport pandas as pd\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `numpy`"
    },
    "location": {
      "column": 17,
      "row": 11
    },
    "message": "`numpy` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 57,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 37,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Any",
          "end_location": {
            "column": 57,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 12
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 57,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Any",
          "end_location": {
            "column": 57,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 54,
      "row": 12
    },
    "message": "`typing.Set` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseManager",
          "end_location": {
            "column": 50,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 73,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_common_errors as handle_errors",
          "end_location": {
            "column": 73,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 84,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AprioriConfig | None",
          "end_location": {
            "column": 84,
            "row": 51
          },
          "location": {
            "column": 61,
            "row": 51
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 61,
      "row": 51
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 14,
            "row": 76
          },
          "location": {
            "column": 10,
            "row": 76
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 10,
      "row": 76
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 76
          },
          "location": {
            "column": 15,
            "row": 76
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 76
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 71,
            "row": 113
          },
          "location": {
            "column": 67,
            "row": 113
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 67,
      "row": 113
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 76,
      "row": 113
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 76,
            "row": 113
          },
          "location": {
            "column": 72,
            "row": 113
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 72,
      "row": 113
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 113,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 23,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_session_id",
          "end_location": {
            "column": 23,
            "row": 125
          },
          "location": {
            "column": 13,
            "row": 125
          }
        }
      ],
      "message": "Rename unused `session_id` to `_session_id`"
    },
    "location": {
      "column": 13,
      "row": 125
    },
    "message": "Loop control variable `session_id` not used within loop body",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 51,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 131
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 40,
      "row": 164
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 164
    },
    "message": "`_extract_prompt_characteristics` is too complex (20 > 10)",
    "noqa_row": 164,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 164
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 164
          },
          "location": {
            "column": 68,
            "row": 164
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 164
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 164,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 27,
            "row": 344
          },
          "location": {
            "column": 23,
            "row": 344
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 23,
      "row": 344
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 32,
            "row": 344
          },
          "location": {
            "column": 28,
            "row": 344
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 28,
      "row": 344
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 37,
      "row": 345
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 37,
            "row": 345
          },
          "location": {
            "column": 22,
            "row": 345
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 345
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 345,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 40,
      "row": 392
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 40,
            "row": 392
          },
          "location": {
            "column": 25,
            "row": 392
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 25,
      "row": 392
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 392,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 34,
            "row": 393
          },
          "location": {
            "column": 19,
            "row": 393
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 393
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 393,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 457
          },
          "location": {
            "column": 10,
            "row": 457
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 457
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 90,
      "row": 507
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 90,
            "row": 507
          },
          "location": {
            "column": 86,
            "row": 507
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 86,
      "row": 507
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 507,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 95,
      "row": 507
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 95,
            "row": 507
          },
          "location": {
            "column": 91,
            "row": 507
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 91,
      "row": 507
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 507,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 522
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 522
          },
          "location": {
            "column": 71,
            "row": 522
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 522
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 522,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 522
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 522
          },
          "location": {
            "column": 76,
            "row": 522
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 522
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 522,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 540
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 540
          },
          "location": {
            "column": 66,
            "row": 540
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 540
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 540,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 637
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 28,
            "row": 637
          },
          "location": {
            "column": 24,
            "row": 637
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 24,
      "row": 637
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 637,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 639
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 14,
            "row": 639
          },
          "location": {
            "column": 10,
            "row": 639
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 10,
      "row": 639
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 639,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 639
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/apriori_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 19,
            "row": 639
          },
          "location": {
            "column": 15,
            "row": 639
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 15,
      "row": 639
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 639,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .base import AggregatedHealthResult, HealthChecker, HealthResult, HealthStatus\nfrom .checkers import (\n    AnalyticsServiceHealthChecker,\n    DatabaseHealthChecker,\n    MCPServerHealthChecker,\n    MLServiceHealthChecker,\n    QueueHealthChecker,\n    SystemResourcesHealthChecker,\n)\nfrom .metrics import (\n    PROMETHEUS_AVAILABLE,\n    get_health_metrics_summary,\n    instrument_health_check,\n    reset_health_metrics,\n)\nfrom .service import HealthService, get_health_service, reset_health_service\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 22,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass, field\nfrom enum import Enum\nimport logging\nimport time\nfrom typing import Any, Callable, Dict, List, Optional, Set\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 60,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional, Set\nfrom collections.abc import Callable",
          "end_location": {
            "column": 60,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 60,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 60,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 60,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 32,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 32,
            "row": 31
          },
          "location": {
            "column": 17,
            "row": 31
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 31
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 34,
            "row": 32
          },
          "location": {
            "column": 19,
            "row": 32
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 32
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 25,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 25,
            "row": 33
          },
          "location": {
            "column": 12,
            "row": 33
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 33
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 26,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 26,
            "row": 34
          },
          "location": {
            "column": 13,
            "row": 34
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 13,
      "row": 34
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "asyncio.Task | None",
          "end_location": {
            "column": 41,
            "row": 35
          },
          "location": {
            "column": 19,
            "row": 35
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 35
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 25,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 25,
            "row": 48
          },
          "location": {
            "column": 21,
            "row": 48
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 21,
      "row": 48
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 32,
            "row": 49
          },
          "location": {
            "column": 29,
            "row": 49
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 29,
      "row": 49
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 52
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "asyncio.Task | None",
          "end_location": {
            "column": 51,
            "row": 52
          },
          "location": {
            "column": 29,
            "row": 52
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 29,
      "row": 52
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 52,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 40,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 40,
            "row": 83
          },
          "location": {
            "column": 20,
            "row": 83
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 20,
      "row": 83
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 21,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        },
        {
          "content": "with contextlib.suppress(asyncio.CancelledError)",
          "end_location": {
            "column": 16,
            "row": 89
          },
          "location": {
            "column": 13,
            "row": 89
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 93
          },
          "location": {
            "column": 1,
            "row": 91
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(asyncio.CancelledError)`"
    },
    "location": {
      "column": 13,
      "row": 89
    },
    "message": "Use `contextlib.suppress(asyncio.CancelledError)` instead of `try`-`except`-`pass`",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 72,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "BackgroundTask | None",
          "end_location": {
            "column": 72,
            "row": 190
          },
          "location": {
            "column": 48,
            "row": 190
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 48,
      "row": 190
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 201
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 201
          },
          "location": {
            "column": 36,
            "row": 201
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 201
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 201,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 205
          },
          "location": {
            "column": 33,
            "row": 205
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 205
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 73,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 73,
            "row": 237
          },
          "location": {
            "column": 58,
            "row": 237
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 58,
      "row": 237
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 237,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/background_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "BackgroundTaskManager | None",
          "end_location": {
            "column": 58,
            "row": 271
          },
          "location": {
            "column": 27,
            "row": 271
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 271
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 39,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from abc import ABC, abstractmethod\nfrom dataclasses import dataclass\nfrom datetime import datetime\nfrom enum import Enum\nimport time\nfrom typing import Any, Dict, Optional\n\n\n",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 38,
            "row": 25
          },
          "location": {
            "column": 23,
            "row": 25
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 23,
      "row": 25
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 25,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 25,
            "row": 27
          },
          "location": {
            "column": 12,
            "row": 27
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 12,
      "row": 27
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 38,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 38,
            "row": 28
          },
          "location": {
            "column": 14,
            "row": 28
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 28
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 28
          },
          "location": {
            "column": 23,
            "row": 28
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 28
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 17,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/base.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 17,
            "row": 40
          },
          "location": {
            "column": 13,
            "row": 40
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 13,
      "row": 40
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 60,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport time\nfrom typing import Any, Dict, Optional\n\nfrom .base import HealthChecker, HealthResult, HealthStatus\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 63,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.batch_processor import BatchProcessor",
          "end_location": {
            "column": 63,
            "row": 21
          },
          "location": {
            "column": 5,
            "row": 21
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 21
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 40,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import get_session",
          "end_location": {
            "column": 40,
            "row": 32
          },
          "location": {
            "column": 5,
            "row": 32
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 5,
      "row": 32
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 68,
      "row": 114
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.mcp_server.mcp_server import improve_prompt",
          "end_location": {
            "column": 68,
            "row": 114
          },
          "location": {
            "column": 17,
            "row": 114
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 114
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 114,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 124
          },
          "location": {
            "column": 13,
            "row": 124
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 13,
      "row": 124
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 57,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.analytics import AnalyticsService",
          "end_location": {
            "column": 57,
            "row": 165
          },
          "location": {
            "column": 17,
            "row": 165
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 165
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 165,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 60,
      "row": 208
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ml_integration import get_ml_service",
          "end_location": {
            "column": 60,
            "row": 208
          },
          "location": {
            "column": 17,
            "row": 208
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 17,
      "row": 208
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 208,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 218
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 218
          },
          "location": {
            "column": 13,
            "row": 218
          }
        }
      ],
      "message": "Remove assignment to unused variable `ml_service`"
    },
    "location": {
      "column": 13,
      "row": 218
    },
    "message": "Local variable `ml_service` is assigned to but never used",
    "noqa_row": 218,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 65,
      "row": 240
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "BatchProcessor | None",
          "end_location": {
            "column": 65,
            "row": 240
          },
          "location": {
            "column": 41,
            "row": 240
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 240
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 240,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 280
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 280
          },
          "location": {
            "column": 47,
            "row": 280
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 280
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 280,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 296
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 296
          },
          "location": {
            "column": 53,
            "row": 296
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 296
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 296,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 337
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 337
          },
          "location": {
            "column": 53,
            "row": 337
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 337
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 337,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 363
          },
          "location": {
            "column": 51,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 363
          },
          "location": {
            "column": 70,
            "row": 363
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 363
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 402
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 402
          },
          "location": {
            "column": 47,
            "row": 402
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 402
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 402,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 70,
      "row": 436
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 70,
            "row": 436
          },
          "location": {
            "column": 66,
            "row": 436
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 66,
      "row": 436
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 436,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 58,
      "row": 529
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 58,
            "row": 529
          },
          "location": {
            "column": 54,
            "row": 529
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 54,
      "row": 529
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 529,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 565
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/checkers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 565
          },
          "location": {
            "column": 51,
            "row": 565
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 565
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 565,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 12,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from functools import wraps\nimport time\nfrom typing import Any, Callable\n\n\n",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 33,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any\nfrom collections.abc import Callable",
          "end_location": {
            "column": 33,
            "row": 6
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 33,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Callable",
          "end_location": {
            "column": 33,
            "row": 6
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import: `typing.Any`"
    },
    "location": {
      "column": 30,
      "row": 6
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 24,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 53
    },
    "message": "`_create_metric_safe` is too complex (16 > 10)",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 171
          },
          "location": {
            "column": 1,
            "row": 170
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 39,
      "row": 170
    },
    "message": "`prometheus_client.REGISTRY` imported but unused",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 64,
      "row": 170
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 171
          },
          "location": {
            "column": 1,
            "row": 170
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 49,
      "row": 170
    },
    "message": "`prometheus_client.generate_latest` imported but unused",
    "noqa_row": 170,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 13,
      "row": 188
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 182
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 182,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 13,
      "row": 188
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/metrics.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 187
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 187,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport time\nfrom typing import Dict, List, Optional\n\nfrom .base import AggregatedHealthResult, HealthChecker, HealthResult, HealthStatus\nfrom .checkers import (\n    AnalyticsServiceHealthChecker,\n    DatabaseHealthChecker,\n    MCPServerHealthChecker,\n    MLServiceHealthChecker,\n    SystemResourcesHealthChecker,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 40,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 40,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 63,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[HealthChecker] | None",
          "end_location": {
            "column": 63,
            "row": 31
          },
          "location": {
            "column": 34,
            "row": 31
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 31
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 31
          },
          "location": {
            "column": 43,
            "row": 31
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 31
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 109
          },
          "location": {
            "column": 9,
            "row": 109
          }
        }
      ],
      "message": "Remove assignment to unused variable `response_time`"
    },
    "location": {
      "column": 9,
      "row": 109
    },
    "message": "Local variable `response_time` is assigned to but never used",
    "noqa_row": 109,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 138
          },
          "location": {
            "column": 50,
            "row": 138
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 138
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 153
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 153
          },
          "location": {
            "column": 39,
            "row": 153
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 153
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 153,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 157
          },
          "location": {
            "column": 74,
            "row": 157
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 157
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 157,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/health/service.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "HealthService | None",
          "end_location": {
            "column": 50,
            "row": 229
          },
          "location": {
            "column": 27,
            "row": 229
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 27,
      "row": 229
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 74,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass\nfrom datetime import datetime, timedelta\nimport glob\nimport json\nimport logging\nimport os\nfrom pathlib import Path\nfrom threading import Lock\nimport time\nfrom typing import Any, Dict, List, Optional\n\nimport mlflow\nimport mlflow.sklearn\nimport mlflow.tracking\nimport numpy as np\nimport optuna\nfrom sklearn.ensemble import (\n    GradientBoostingClassifier,\n    RandomForestClassifier,\n    StackingClassifier,\n)\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score, precision_score, recall_score\nfrom sklearn.model_selection import StratifiedKFold, cross_val_score\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import StandardScaler\nfrom sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.connection import DatabaseManager, DatabaseSessionManager\nfrom ..database.models import MLModelPerformance, RuleMetadata, RulePerformance\nfrom .advanced_pattern_discovery import AdvancedPatternDiscovery\nfrom .production_model_registry import (\n    DeploymentStrategy,\n    ModelAlias,\n    ModelDeploymentConfig,\n    ModelMetrics,\n    ProductionModelRegistry,\n    get_production_registry,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 50
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import MLModelPerformance, RuleMetadata, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 38
          },
          "location": {
            "column": 1,
            "row": 38
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 38
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import MLModelPerformance, RuleMetadata, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 38
          },
          "location": {
            "column": 1,
            "row": 38
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 38
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import MLModelPerformance, RuleMetadata, RulePerformance",
          "end_location": {
            "column": 80,
            "row": 38
          },
          "location": {
            "column": 1,
            "row": 38
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 38
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 74,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseSessionManager, DatabaseManager",
          "end_location": {
            "column": 74,
            "row": 48
          },
          "location": {
            "column": 1,
            "row": 48
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 48
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 74,
      "row": 48
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.connection import DatabaseSessionManager, DatabaseManager",
          "end_location": {
            "column": 74,
            "row": 48
          },
          "location": {
            "column": 1,
            "row": 48
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 48
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 35,
      "row": 108
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 35,
            "row": 108
          },
          "location": {
            "column": 22,
            "row": 108
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 22,
      "row": 108
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 108,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 68,
      "row": 248
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "DatabaseSessionManager | None",
          "end_location": {
            "column": 68,
            "row": 248
          },
          "location": {
            "column": 36,
            "row": 248
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 248
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 248,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 68,
      "row": 255
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ProductionModelRegistry | None",
          "end_location": {
            "column": 68,
            "row": 255
          },
          "location": {
            "column": 35,
            "row": 255
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 35,
      "row": 255
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 255,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 77,
      "row": 292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 77,
            "row": 292
          },
          "location": {
            "column": 64,
            "row": 292
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 64,
      "row": 292
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 292,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 93,
      "row": 292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 93,
            "row": 292
          },
          "location": {
            "column": 89,
            "row": 292
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 89,
      "row": 292
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 292,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 331
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 331
          },
          "location": {
            "column": 10,
            "row": 331
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 331
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 331,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 385
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 385
          },
          "location": {
            "column": 10,
            "row": 385
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 385
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 385,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 423
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 423
          },
          "location": {
            "column": 10,
            "row": 423
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 423
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 423,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 56,
            "row": 498
          },
          "location": {
            "column": 52,
            "row": 498
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 52,
      "row": 498
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 498
          },
          "location": {
            "column": 57,
            "row": 498
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 498
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 514
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 514
    },
    "message": "`optimize_rules` is too complex (16 > 10)",
    "noqa_row": 514,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 73,
      "row": 556
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 72,
            "row": 556
          },
          "location": {
            "column": 60,
            "row": 556
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 40,
      "row": 556
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 556,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 63,
      "row": 562
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 62,
            "row": 562
          },
          "location": {
            "column": 50,
            "row": 562
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 29,
      "row": 562
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 562,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 32,
      "row": 706
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 35,
            "row": 706
          },
          "location": {
            "column": 21,
            "row": 706
          }
        }
      ],
      "message": "Remove assignment to unused variable `predictions`"
    },
    "location": {
      "column": 21,
      "row": 706
    },
    "message": "Local variable `predictions` is assigned to but never used",
    "noqa_row": 706,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 28,
      "row": 1155
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1155
    },
    "message": "Loop control variable `pattern_key` not used within loop body",
    "noqa_row": 1155,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 1279
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1272
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 1272,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 1291
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 1284
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 1284,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 27,
      "row": 1306
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 1299
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 1299,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 25,
      "row": 1344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_category",
          "end_location": {
            "column": 25,
            "row": 1344
          },
          "location": {
            "column": 17,
            "row": 1344
          }
        }
      ],
      "message": "Rename unused `category` to `_category`"
    },
    "location": {
      "column": 17,
      "row": 1344
    },
    "message": "Loop control variable `category` not used within loop body",
    "noqa_row": 1344,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 61,
      "row": 1344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "patterns",
          "end_location": {
            "column": 35,
            "row": 1344
          },
          "location": {
            "column": 17,
            "row": 1344
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 61,
            "row": 1344
          },
          "location": {
            "column": 56,
            "row": 1344
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 1344
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 1344,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 82,
      "row": 1558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 82,
            "row": 1558
          },
          "location": {
            "column": 51,
            "row": 1558
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 51,
      "row": 1558
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 1558,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 80,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass\nfrom datetime import datetime, timedelta\nimport time\nfrom typing import Any\n\nfrom rich import box\nfrom rich.console import Console\nfrom rich.layout import Layout\nfrom rich.live import Live\nfrom rich.panel import Panel\nfrom rich.table import Table\nfrom rich.text import Text\nfrom sqlalchemy import text\n\nfrom ..database import sessionmanager\nfrom ..database.models import RulePerformance\nfrom ..services.analytics import AnalyticsService\nfrom ..utils.error_handlers import handle_common_errors, handle_database_errors\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 38,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database import sessionmanager",
          "end_location": {
            "column": 38,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 46,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import RulePerformance",
          "end_location": {
            "column": 46,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 50,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.analytics import AnalyticsService",
          "end_location": {
            "column": 50,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors, handle_common_errors",
          "end_location": {
            "column": 80,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors, handle_common_errors",
          "end_location": {
            "column": 80,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 80,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..utils.error_handlers import handle_database_errors",
          "end_location": {
            "column": 80,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `..utils.error_handlers.handle_common_errors`"
    },
    "location": {
      "column": 60,
      "row": 24
    },
    "message": "`..utils.error_handlers.handle_common_errors` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 63,
      "row": 633
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.mcp_server.mcp_server import improve_prompt",
          "end_location": {
            "column": 63,
            "row": 633
          },
          "location": {
            "column": 13,
            "row": 633
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 633
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 633,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 636
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 636
          },
          "location": {
            "column": 13,
            "row": 636
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 13,
      "row": 636
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 636,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 689
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/monitoring.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 689
          },
          "location": {
            "column": 13,
            "row": 689
          }
        }
      ],
      "message": "Remove assignment to unused variable `ml_service`"
    },
    "location": {
      "column": 13,
      "row": 689
    },
    "message": "Local variable `ml_service` is assigned to but never used",
    "noqa_row": 689,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 41,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import dataclass\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport logging\nfrom pathlib import Path\nimport time\nfrom typing import Any, Dict, List, Optional\n\nimport mlflow\nfrom mlflow.entities.model_registry import ModelVersion\nimport mlflow.sklearn\nfrom mlflow.tracking import MlflowClient\nimport numpy as np\n\n",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 14
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 16
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 51,
            "row": 79
          },
          "location": {
            "column": 38,
            "row": 79
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 79
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 86
          },
          "location": {
            "column": 29,
            "row": 86
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 86
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 87
          },
          "location": {
            "column": 29,
            "row": 87
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 87
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 43,
            "row": 87
          },
          "location": {
            "column": 39,
            "row": 87
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 39,
      "row": 87
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 88
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 38,
            "row": 88
          },
          "location": {
            "column": 34,
            "row": 88
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 34,
      "row": 88
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 88,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 88
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 88
          },
          "location": {
            "column": 39,
            "row": 88
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 88
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 88,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 39,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, str] | None",
          "end_location": {
            "column": 39,
            "row": 102
          },
          "location": {
            "column": 15,
            "row": 102
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 15,
      "row": 102
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 102
          },
          "location": {
            "column": 24,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 35,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 151
    },
    "message": "Undefined name `model_info`",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 48,
      "row": 174
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ModelDeploymentConfig | None",
          "end_location": {
            "column": 48,
            "row": 174
          },
          "location": {
            "column": 17,
            "row": 174
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 174
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 174,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 175
          },
          "location": {
            "column": 10,
            "row": 175
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 175
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 191
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 191
          },
          "location": {
            "column": 13,
            "row": 191
          }
        }
      ],
      "message": "Remove assignment to unused variable `model_version`"
    },
    "location": {
      "column": 13,
      "row": 191
    },
    "message": "Local variable `model_version` is assigned to but never used",
    "noqa_row": 191,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 258
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 258
          },
          "location": {
            "column": 10,
            "row": 258
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 258
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 258,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 354
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 354
          },
          "location": {
            "column": 10,
            "row": 354
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 354
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 354,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 433
          },
          "location": {
            "column": 41,
            "row": 433
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 433
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 433
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 433
          },
          "location": {
            "column": 46,
            "row": 433
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 433
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 433,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 448
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 448
          },
          "location": {
            "column": 21,
            "row": 448
          }
        }
      ],
      "message": "Remove assignment to unused variable `aliases`"
    },
    "location": {
      "column": 21,
      "row": 448
    },
    "message": "Local variable `aliases` is assigned to but never used",
    "noqa_row": 448,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 449
    },
    "message": "Do not use bare `except`",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S112",
    "end_location": {
      "column": 29,
      "row": 451
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 449
    },
    "message": "`try`-`except`-`continue` detected, consider logging the exception",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/try-except-continue"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 486
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 486
          },
          "location": {
            "column": 77,
            "row": 486
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 486
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 486,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 92,
      "row": 513
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 92,
            "row": 513
          },
          "location": {
            "column": 79,
            "row": 513
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 79,
      "row": 513
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 513,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 521
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 521
    },
    "message": "Do not use bare `except`",
    "noqa_row": 521,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 536
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 536
          },
          "location": {
            "column": 40,
            "row": 536
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 536
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 536,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 62,
      "row": 552
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 62,
            "row": 552
          },
          "location": {
            "column": 49,
            "row": 552
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 49,
      "row": 552
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 79,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime, timedelta\nimport json\nimport logging\nfrom pathlib import Path\nimport time\nfrom typing import Any, Dict, Optional\nimport uuid\n\nfrom sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlmodel import select as sqlmodel_select\nimport yaml\n\nfrom ..automl.orchestrator import AutoMLConfig, AutoMLMode, AutoMLOrchestrator\nfrom ..database.models import (\n    ImprovementSession,\n    ImprovementSessionCreate,\n    RuleMetadata,\n    RulePerformance,\n    RulePerformanceCreate,\n    UserFeedback,\n    UserFeedbackCreate,\n)\nfrom ..optimization.multi_armed_bandit import (\n    BanditAlgorithm,\n    BanditConfig,\n    MultiarmedBanditFramework,\n    create_rule_optimization_bandit,\n    intelligent_rule_selection,\n)\nfrom ..rule_engine.base import BasePromptRule\nfrom .ab_testing import ABTestingService\nfrom .ml_integration import MLModelService\n\n",
          "end_location": {
            "column": 1,
            "row": 39
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `yaml`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`yaml` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 12
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ImprovementSession, ImprovementSessionCreate, RuleMetadata, RulePerformance, RulePerformanceCreate, UserFeedback, UserFeedbackCreate",
          "end_location": {
            "column": 2,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 46,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.base import BasePromptRule",
          "end_location": {
            "column": 46,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 27
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import MultiarmedBanditFramework, BanditConfig, BanditAlgorithm, create_rule_optimization_bandit, intelligent_rule_selection",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 30
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm\n)",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 34
    },
    "message": "`..optimization.multi_armed_bandit.create_rule_optimization_bandit` imported but unused",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm\n)",
          "end_location": {
            "column": 2,
            "row": 36
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 35
    },
    "message": "`..optimization.multi_armed_bandit.intelligent_rule_selection` imported but unused",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.automl.orchestrator import AutoMLOrchestrator, AutoMLConfig, AutoMLMode",
          "end_location": {
            "column": 79,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 37
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 37
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.automl.orchestrator import AutoMLOrchestrator, AutoMLConfig, AutoMLMode",
          "end_location": {
            "column": 79,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 37
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 37
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.automl.orchestrator import AutoMLOrchestrator, AutoMLConfig, AutoMLMode",
          "end_location": {
            "column": 79,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 37
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 37
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 67,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "MultiarmedBanditFramework | None",
          "end_location": {
            "column": 67,
            "row": 55
          },
          "location": {
            "column": 32,
            "row": 55
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 55
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 49,
            "row": 56
          },
          "location": {
            "column": 36,
            "row": 56
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 56
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 56,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 60,
      "row": 57
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ABTestingService | None",
          "end_location": {
            "column": 60,
            "row": 57
          },
          "location": {
            "column": 34,
            "row": 57
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 34,
      "row": 57
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 57,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 63,
      "row": 61
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AutoMLOrchestrator | None",
          "end_location": {
            "column": 63,
            "row": 61
          },
          "location": {
            "column": 35,
            "row": 61
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 35,
      "row": 61
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 61,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.real_time_analytics import RealTimeAnalyticsService",
          "end_location": {
            "column": 80,
            "row": 87
          },
          "location": {
            "column": 13,
            "row": 87
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 87
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 68,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from ..evaluation.experiment_orchestrator import ExperimentOrchestrator\n            from ..optimization.rule_optimizer import RuleOptimizer\n            from ..services.real_time_analytics import RealTimeAnalyticsService\n            from ..utils.model_manager import ModelManager\n",
          "end_location": {
            "column": 1,
            "row": 91
          },
          "location": {
            "column": 1,
            "row": 87
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 87
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 88
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.evaluation.experiment_orchestrator import ExperimentOrchestrator",
          "end_location": {
            "column": 84,
            "row": 88
          },
          "location": {
            "column": 13,
            "row": 88
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 88
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 88,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 59,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.model_manager import ModelManager",
          "end_location": {
            "column": 59,
            "row": 89
          },
          "location": {
            "column": 13,
            "row": 89
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 89
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 68,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.rule_optimizer import RuleOptimizer",
          "end_location": {
            "column": 68,
            "row": 90
          },
          "location": {
            "column": 13,
            "row": 90
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 90
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 79,
      "row": 130
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 79,
            "row": 130
          },
          "location": {
            "column": 48,
            "row": 130
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 48,
      "row": 130
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 130,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 64,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.clarity import ClarityRule",
          "end_location": {
            "column": 64,
            "row": 184
          },
          "location": {
            "column": 13,
            "row": 184
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 184
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 80,
      "row": 193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.chain_of_thought import ChainOfThoughtRule",
          "end_location": {
            "column": 80,
            "row": 193
          },
          "location": {
            "column": 13,
            "row": 193
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 193
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 193,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 81,
      "row": 202
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.few_shot_examples import FewShotExampleRule",
          "end_location": {
            "column": 81,
            "row": 202
          },
          "location": {
            "column": 13,
            "row": 202
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 202
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 202,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 88,
      "row": 211
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.role_based_prompting import RoleBasedPromptingRule",
          "end_location": {
            "column": 88,
            "row": 211
          },
          "location": {
            "column": 13,
            "row": 211
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 211
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 211,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 87,
      "row": 220
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.xml_structure_enhancement import XMLStructureRule",
          "end_location": {
            "column": 87,
            "row": 220
          },
          "location": {
            "column": 13,
            "row": 220
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 220
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 220,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 72,
      "row": 229
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.specificity import SpecificityRule",
          "end_location": {
            "column": 72,
            "row": 229
          },
          "location": {
            "column": 13,
            "row": 229
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 229
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 229,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 64,
      "row": 238
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.clarity import ClarityRule",
          "end_location": {
            "column": 64,
            "row": 238
          },
          "location": {
            "column": 13,
            "row": 238
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 238
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 72,
      "row": 239
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.rule_engine.rules.specificity import SpecificityRule",
          "end_location": {
            "column": 72,
            "row": 239
          },
          "location": {
            "column": 13,
            "row": 239
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 239
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 239,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 267
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 267
    },
    "message": "`improve_prompt` is too complex (11 > 10)",
    "noqa_row": 267,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 273
          },
          "location": {
            "column": 21,
            "row": 273
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 273
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 383
          },
          "location": {
            "column": 21,
            "row": 383
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 383
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 403
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 85,
            "row": 403
          },
          "location": {
            "column": 63,
            "row": 403
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 63,
      "row": 403
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 403,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 83,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 83,
            "row": 411
          },
          "location": {
            "column": 52,
            "row": 411
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 52,
      "row": 411
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 411,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 42,
      "row": 442
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 442
    },
    "message": "`_get_bandit_optimized_rules` is too complex (15 > 10)",
    "noqa_row": 442,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 446
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 446
          },
          "location": {
            "column": 21,
            "row": 446
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 446
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 446,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 516
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 509
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 509,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "C401",
    "end_location": {
      "column": 78,
      "row": 522
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "{",
          "end_location": {
            "column": 36,
            "row": 522
          },
          "location": {
            "column": 32,
            "row": 522
          }
        },
        {
          "content": "}",
          "end_location": {
            "column": 78,
            "row": 522
          },
          "location": {
            "column": 77,
            "row": 522
          }
        }
      ],
      "message": "Rewrite as a set comprehension"
    },
    "location": {
      "column": 32,
      "row": 522
    },
    "message": "Unnecessary generator (rewrite as a set comprehension)",
    "noqa_row": 522,
    "url": "https://docs.astral.sh/ruff/rules/unnecessary-generator-set"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 39,
      "row": 527
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 525
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 525,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 567
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 567
          },
          "location": {
            "column": 21,
            "row": 567
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 567
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 567,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 55,
      "row": 582
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 55,
            "row": 582
          },
          "location": {
            "column": 24,
            "row": 582
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 24,
      "row": 582
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 582,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 19,
      "row": 599
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 593
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 593,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 43,
      "row": 656
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 43,
            "row": 656
          },
          "location": {
            "column": 21,
            "row": 656
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 656
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 656,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 76,
      "row": 680
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.multi_armed_bandit import ArmResult",
          "end_location": {
            "column": 76,
            "row": 680
          },
          "location": {
            "column": 21,
            "row": 680
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 21,
      "row": 680
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 680,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 76,
      "row": 1014
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncSession | None",
          "end_location": {
            "column": 76,
            "row": 1014
          },
          "location": {
            "column": 54,
            "row": 1014
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 54,
      "row": 1014
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1014,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 68,
      "row": 1023
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 68,
            "row": 1023
          },
          "location": {
            "column": 37,
            "row": 1023
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 37,
      "row": 1023
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 1023,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 48,
      "row": 1149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "RuleMetadata.is_enabled",
          "end_location": {
            "column": 48,
            "row": 1149
          },
          "location": {
            "column": 17,
            "row": 1149
          }
        }
      ],
      "message": "Replace with `RuleMetadata.is_enabled`"
    },
    "location": {
      "column": 17,
      "row": 1149
    },
    "message": "Avoid equality comparisons to `True`; use `RuleMetadata.is_enabled:` for truth checks",
    "noqa_row": 1149,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 61,
      "row": 1319
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import MLModelPerformance",
          "end_location": {
            "column": 61,
            "row": 1319
          },
          "location": {
            "column": 13,
            "row": 1319
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 1319
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 1319,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 55,
      "row": 1344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment",
          "end_location": {
            "column": 55,
            "row": 1344
          },
          "location": {
            "column": 13,
            "row": 1344
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 13,
      "row": 1344
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 1344,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 1392
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 52,
            "row": 1392
          },
          "location": {
            "column": 28,
            "row": 1392
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 1392
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 1392,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 1392
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 41,
            "row": 1392
          },
          "location": {
            "column": 37,
            "row": 1392
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 37,
      "row": 1392
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1392,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 1393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 1393
          },
          "location": {
            "column": 10,
            "row": 1393
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 1393
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1393,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 44,
      "row": 1421
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 1420
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 1420,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 1440
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 1440
          },
          "location": {
            "column": 42,
            "row": 1440
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 1440
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1440,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 53,
      "row": 1447
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 53,
            "row": 1447
          },
          "location": {
            "column": 49,
            "row": 1447
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 49,
      "row": 1447
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 1447,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 58,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom dataclasses import asdict, dataclass\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nimport logging\nfrom typing import Any, Dict, List, Optional, Set\n\nimport numpy as np\nimport redis.asyncio as redis\nfrom scipy import stats\nfrom sqlalchemy import and_, func, select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom ..database.models import ABExperiment, PatternEvaluation, RulePerformance\nfrom ..services.ab_testing import ABTestingService, ExperimentResult\nfrom ..utils.error_handlers import handle_database_errors\nfrom ..utils.websocket_manager import connection_manager, publish_experiment_update\n\n",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 8
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats`"
    },
    "location": {
      "column": 19,
      "row": 14
    },
    "message": "`scipy.stats` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy import select",
          "end_location": {
            "column": 42,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 15
    },
    "message": "`sqlalchemy.and_` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from sqlalchemy import select",
          "end_location": {
            "column": 42,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 15
    },
    "message": "`sqlalchemy.func` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, RulePerformance, PatternEvaluation",
          "end_location": {
            "column": 79,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, RulePerformance, PatternEvaluation",
          "end_location": {
            "column": 79,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 79,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.database.models import ABExperiment, RulePerformance, PatternEvaluation",
          "end_location": {
            "column": 79,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 79,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..database.models import ABExperiment, RulePerformance",
          "end_location": {
            "column": 79,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `..database.models.PatternEvaluation`"
    },
    "location": {
      "column": 62,
      "row": 19
    },
    "message": "`..database.models.PatternEvaluation` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ab_testing import ABTestingService, ExperimentResult",
          "end_location": {
            "column": 69,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 69,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.ab_testing import ABTestingService, ExperimentResult",
          "end_location": {
            "column": 69,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 69,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.ab_testing import ABTestingService",
          "end_location": {
            "column": 69,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `..services.ab_testing.ExperimentResult`"
    },
    "location": {
      "column": 53,
      "row": 20
    },
    "message": "`..services.ab_testing.ExperimentResult` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.websocket_manager import publish_experiment_update, connection_manager",
          "end_location": {
            "column": 84,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 84,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.websocket_manager import publish_experiment_update, connection_manager",
          "end_location": {
            "column": 84,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 84,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..utils.websocket_manager import publish_experiment_update",
          "end_location": {
            "column": 84,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `..utils.websocket_manager.connection_manager`"
    },
    "location": {
      "column": 66,
      "row": 21
    },
    "message": "`..utils.websocket_manager.connection_manager` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 58,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.error_handlers import handle_database_errors",
          "end_location": {
            "column": 58,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 46,
      "row": 62
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 46,
            "row": 62
          },
          "location": {
            "column": 31,
            "row": 62
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 31,
      "row": 62
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 62,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 49,
            "row": 69
          },
          "location": {
            "column": 36,
            "row": 69
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 69
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 47,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 47,
            "row": 70
          },
          "location": {
            "column": 32,
            "row": 70
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 70
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 15,
      "row": 83
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 15,
            "row": 83
          },
          "location": {
            "column": 11,
            "row": 83
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 11,
      "row": 83
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 83,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 85,
      "row": 90
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "redis.Redis | None",
          "end_location": {
            "column": 85,
            "row": 90
          },
          "location": {
            "column": 64,
            "row": 90
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 64,
      "row": 90
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 90,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 96
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 96
          },
          "location": {
            "column": 29,
            "row": 96
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 96
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 96,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 99
          },
          "location": {
            "column": 32,
            "row": 99
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 99
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 99,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 33,
            "row": 102
          },
          "location": {
            "column": 29,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 29,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 42,
            "row": 102
          },
          "location": {
            "column": 39,
            "row": 102
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 39,
      "row": 102
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 29,
      "row": 160
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        },
        {
          "content": "with contextlib.suppress(asyncio.CancelledError)",
          "end_location": {
            "column": 24,
            "row": 157
          },
          "location": {
            "column": 21,
            "row": 157
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 161
          },
          "location": {
            "column": 1,
            "row": 159
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(asyncio.CancelledError)`"
    },
    "location": {
      "column": 21,
      "row": 157
    },
    "message": "Use `contextlib.suppress(asyncio.CancelledError)` instead of `try`-`except`-`pass`",
    "noqa_row": 157,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 91,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "RealTimeMetrics | None",
          "end_location": {
            "column": 91,
            "row": 171
          },
          "location": {
            "column": 66,
            "row": 171
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 66,
      "row": 171
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 88,
      "row": 226
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "RealTimeMetrics | None",
          "end_location": {
            "column": 88,
            "row": 226
          },
          "location": {
            "column": 63,
            "row": 226
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 63,
      "row": 226
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 226,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 72,
      "row": 313
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 312
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 312,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 343
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 59,
            "row": 343
          },
          "location": {
            "column": 55,
            "row": 343
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 55,
      "row": 343
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 343,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 344
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 83,
            "row": 344
          },
          "location": {
            "column": 79,
            "row": 344
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 79,
      "row": 344
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 344,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 375
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 72,
            "row": 375
          },
          "location": {
            "column": 68,
            "row": 375
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 68,
      "row": 375
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 375,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 54,
            "row": 462
          },
          "location": {
            "column": 50,
            "row": 462
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 50,
      "row": 462
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 462
          },
          "location": {
            "column": 74,
            "row": 462
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 462
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 51,
            "row": 492
          },
          "location": {
            "column": 47,
            "row": 492
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 47,
      "row": 492
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 492,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 503
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "RealTimeAnalyticsService | None",
          "end_location": {
            "column": 55,
            "row": 503
          },
          "location": {
            "column": 21,
            "row": 503
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 503
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 503,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 76,
      "row": 507
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "redis.Redis | None",
          "end_location": {
            "column": 76,
            "row": 507
          },
          "location": {
            "column": 55,
            "row": 507
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 55,
      "row": 507
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 507,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 57,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nimport logging\nimport time\nfrom typing import Dict, List, Optional, Set\n\nfrom ..optimization.batch_processor import (\n    BatchProcessor,\n    periodic_batch_processor_coroutine,\n)\nfrom ..services.health.background_manager import (\n    BackgroundTaskManager,\n    init_background_task_manager,\n    shutdown_background_task_manager,\n)\nfrom ..services.health.service import get_health_service\nfrom ..utils.session_store import SessionStore\n\n",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Optional, Set",
          "end_location": {
            "column": 45,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `typing.List`"
    },
    "location": {
      "column": 26,
      "row": 10
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.background_manager import BackgroundTaskManager, init_background_task_manager, shutdown_background_task_manager",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.background_manager import BackgroundTaskManager, init_background_task_manager, shutdown_background_task_manager",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.background_manager import BackgroundTaskManager, init_background_task_manager, shutdown_background_task_manager",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 26,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.health.background_manager import (\n    init_background_task_manager,\n    shutdown_background_task_manager\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `..services.health.background_manager.BackgroundTaskManager`"
    },
    "location": {
      "column": 5,
      "row": 14
    },
    "message": "`..services.health.background_manager.BackgroundTaskManager` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.batch_processor import BatchProcessor, periodic_batch_processor_coroutine",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.batch_processor import BatchProcessor, periodic_batch_processor_coroutine",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 47,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.utils.session_store import SessionStore",
          "end_location": {
            "column": 47,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 57,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.service import get_health_service",
          "end_location": {
            "column": 57,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 20,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 20,
            "row": 29
          },
          "location": {
            "column": 17,
            "row": 29
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 17,
      "row": 29
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": null,
    "location": {
      "column": 11,
      "row": 34
    },
    "message": "`init_startup_tasks` is too complex (11 > 10)",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict | None",
          "end_location": {
            "column": 33,
            "row": 38
          },
          "location": {
            "column": 19,
            "row": 38
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 38
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 38
          },
          "location": {
            "column": 28,
            "row": 38
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 38
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 39
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 10,
            "row": 39
          },
          "location": {
            "column": 6,
            "row": 39
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 6,
      "row": 39
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 39,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 246
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 246
          },
          "location": {
            "column": 47,
            "row": 246
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 246
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 246,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 64,
      "row": 282
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 64,
            "row": 282
          },
          "location": {
            "column": 60,
            "row": 282
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 60,
      "row": 282
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 282,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 40,
      "row": 320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 40,
            "row": 320
          },
          "location": {
            "column": 20,
            "row": 320
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 20,
      "row": 320
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 320,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict | None",
          "end_location": {
            "column": 33,
            "row": 361
          },
          "location": {
            "column": 19,
            "row": 361
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 19,
      "row": 361
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 361
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/startup.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 361
          },
          "location": {
            "column": 28,
            "row": 361
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 361
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 361,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 27,
      "row": 3
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import logging\nfrom random import randint\nfrom typing import Any, Dict, List\n\n\n",
          "end_location": {
            "column": 1,
            "row": 6
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 2
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 2
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 2,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 2
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 2
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 2,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 7
          },
          "location": {
            "column": 32,
            "row": 7
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 7
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 16
          },
          "location": {
            "column": 52,
            "row": 16
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 16
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 16
          },
          "location": {
            "column": 77,
            "row": 16
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 16
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 107,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 107,
            "row": 16
          },
          "location": {
            "column": 103,
            "row": 16
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 103,
      "row": 16
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 31
          },
          "location": {
            "column": 40,
            "row": 31
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 31
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 75,
            "row": 31
          },
          "location": {
            "column": 71,
            "row": 31
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 71,
      "row": 31
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 80,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 80,
            "row": 31
          },
          "location": {
            "column": 76,
            "row": 31
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 76,
      "row": 31
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 33
          },
          "location": {
            "column": 13,
            "row": 33
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 33
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 49,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": null,
    "location": {
      "column": 31,
      "row": 34
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 78,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/services/test_generator.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 43
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 40,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/__init__.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handlers import (\n    handle_common_errors,\n    handle_database_errors,\n    handle_filesystem_errors,\n    handle_network_errors,\n    handle_validation_errors,\n)\n\n# Health checks removed to avoid circular import\n# Import directly from utils.health_checks if needed\nfrom .session_store import SessionStore\nfrom .subprocess_security import SecureSubprocessManager, secure_subprocess\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 48,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nfrom functools import wraps\nimport json\nimport logging\nimport re\nimport time\nfrom typing import Any, Callable, Dict, Literal, Optional, Pattern, Union\nimport uuid\n\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\n",
          "end_location": {
            "column": 1,
            "row": 38
          },
          "location": {
            "column": 1,
            "row": 27
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 27
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 74,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Optional, Union, Literal, Dict, Pattern\nfrom collections.abc import Callable",
          "end_location": {
            "column": 74,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 74,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Callable, Optional, Union, Literal, Dict\nfrom re import Pattern",
          "end_location": {
            "column": 74,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Import from `re`"
    },
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "Import from `re` instead: `Pattern`",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 74,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 34
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 50,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Callable, Optional, Literal, Dict",
          "end_location": {
            "column": 74,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 34
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 74,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Callable, Optional, Literal, Dict",
          "end_location": {
            "column": 74,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 67,
      "row": 34
    },
    "message": "`typing.Pattern` imported but unused",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 52,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "str | dict",
          "end_location": {
            "column": 51,
            "row": 87
          },
          "location": {
            "column": 40,
            "row": 87
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 22,
      "row": 87
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 100
          },
          "location": {
            "column": 34,
            "row": 100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 57,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 57,
            "row": 100
          },
          "location": {
            "column": 53,
            "row": 100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 53,
      "row": 100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 144
          },
          "location": {
            "column": 42,
            "row": 144
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 144
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 144,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 144
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 144
          },
          "location": {
            "column": 61,
            "row": 144
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 144
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 144,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 163
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 163
          },
          "location": {
            "column": 43,
            "row": 163
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 163
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 163,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 45,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncContextLogger | None",
          "end_location": {
            "column": 45,
            "row": 205
          },
          "location": {
            "column": 17,
            "row": 205
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 205
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 208
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 33,
            "row": 208
          },
          "location": {
            "column": 18,
            "row": 208
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 208
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 208,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 61,
            "row": 278
          },
          "location": {
            "column": 37,
            "row": 278
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 37,
      "row": 278
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 278,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 278
          },
          "location": {
            "column": 46,
            "row": 278
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 278
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 278,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 286
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncContextLogger | None",
          "end_location": {
            "column": 41,
            "row": 286
          },
          "location": {
            "column": 13,
            "row": 286
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 13,
      "row": 286
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 286,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 29,
      "row": 289
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 29,
            "row": 289
          },
          "location": {
            "column": 14,
            "row": 289
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 289
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 289,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "PERF403",
    "end_location": {
      "column": 48,
      "row": 357
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 357
    },
    "message": "Use a dictionary comprehension instead of a for-loop",
    "noqa_row": 357,
    "url": "https://docs.astral.sh/ruff/rules/manual-dict-comprehension"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 27,
      "row": 393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 393
    },
    "message": "`handle_database_errors` is too complex (44 > 10)",
    "noqa_row": 393,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 396
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 34,
            "row": 396
          },
          "location": {
            "column": 21,
            "row": 396
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 396
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 396,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 18,
      "row": 416
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 416
    },
    "message": "`decorator` is too complex (43 > 10)",
    "noqa_row": 416,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 32,
      "row": 418
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 19,
      "row": 418
    },
    "message": "`async_wrapper` is too complex (25 > 10)",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 42,
      "row": 438
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 42,
            "row": 438
          },
          "location": {
            "column": 24,
            "row": 438
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 24,
      "row": 438
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 438,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 25,
      "row": 497
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 497
    },
    "message": "`sync_wrapper` is too complex (16 > 10)",
    "noqa_row": 497,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 42,
      "row": 506
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 42,
            "row": 506
          },
          "location": {
            "column": 24,
            "row": 506
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 24,
      "row": 506
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 506,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 563
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 563
    },
    "message": "`handle_filesystem_errors` is too complex (21 > 10)",
    "noqa_row": 563,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 565
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 34,
            "row": 565
          },
          "location": {
            "column": 21,
            "row": 565
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 565
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 565,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 18,
      "row": 583
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 583
    },
    "message": "`decorator` is too complex (20 > 10)",
    "noqa_row": 583,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 20,
      "row": 585
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 585
    },
    "message": "`wrapper` is too complex (19 > 10)",
    "noqa_row": 585,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP024",
    "end_location": {
      "column": 42,
      "row": 612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "OSError",
          "end_location": {
            "column": 42,
            "row": 612
          },
          "location": {
            "column": 24,
            "row": 612
          }
        }
      ],
      "message": "Replace with builtin `OSError`"
    },
    "location": {
      "column": 24,
      "row": 612
    },
    "message": "Replace aliased errors with `OSError`",
    "noqa_row": 612,
    "url": "https://docs.astral.sh/ruff/rules/os-error-alias"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 655
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 655
    },
    "message": "`handle_validation_errors` is too complex (24 > 10)",
    "noqa_row": 655,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 657
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 34,
            "row": 657
          },
          "location": {
            "column": 21,
            "row": 657
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 657
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 657,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 18,
      "row": 674
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 674
    },
    "message": "`decorator` is too complex (23 > 10)",
    "noqa_row": 674,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 20,
      "row": 676
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 676
    },
    "message": "`wrapper` is too complex (22 > 10)",
    "noqa_row": 676,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 26,
      "row": 749
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 749
    },
    "message": "`handle_network_errors` is too complex (23 > 10)",
    "noqa_row": 749,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 751
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 34,
            "row": 751
          },
          "location": {
            "column": 21,
            "row": 751
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 751
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 751,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 18,
      "row": 771
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 771
    },
    "message": "`decorator` is too complex (22 > 10)",
    "noqa_row": 771,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 34,
      "row": 865
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 34,
            "row": 865
          },
          "location": {
            "column": 21,
            "row": 865
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 21,
      "row": 865
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 865,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport logging\nfrom typing import Any, Dict\n\nfrom .error_handlers import (\n    AsyncContextLogger,\n    AsyncErrorBoundary,\n    PIIRedactionFilter,\n    async_error_boundary,\n    configure_structured_logging,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 8
    },
    "message": "`logging` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handlers import (\n    AsyncErrorBoundary,\n    async_error_boundary,\n    configure_structured_logging\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 15
    },
    "message": "`.error_handlers.PIIRedactionFilter` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from .error_handlers import (\n    AsyncErrorBoundary,\n    async_error_boundary,\n    configure_structured_logging\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 16
    },
    "message": "`.error_handlers.AsyncContextLogger` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 85,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 85,
            "row": 20
          },
          "location": {
            "column": 81,
            "row": 20
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 81,
      "row": 20
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 61
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 61
          },
          "location": {
            "column": 25,
            "row": 61
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 61
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 61,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F541",
    "end_location": {
      "column": 71,
      "row": 62
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "\"❌ This shouldn't be reached because reraise=False\"",
          "end_location": {
            "column": 71,
            "row": 62
          },
          "location": {
            "column": 19,
            "row": 62
          }
        }
      ],
      "message": "Remove extraneous `f` prefix"
    },
    "location": {
      "column": 19,
      "row": 62
    },
    "message": "f-string without any placeholders",
    "noqa_row": 62,
    "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 18,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 18,
            "row": 87
          },
          "location": {
            "column": 6,
            "row": 87
          }
        }
      ],
      "message": "Remove assignment to unused variable `boundary`"
    },
    "location": {
      "column": 10,
      "row": 87
    },
    "message": "Local variable `boundary` is assigned to but never used",
    "noqa_row": 87,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 117
          },
          "location": {
            "column": 16,
            "row": 117
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 117
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 18,
      "row": 169
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/error_handlers_example.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 18,
            "row": 169
          },
          "location": {
            "column": 6,
            "row": 169
          }
        }
      ],
      "message": "Remove assignment to unused variable `boundary`"
    },
    "location": {
      "column": 10,
      "row": 169
    },
    "message": "Local variable `boundary` is assigned to but never used",
    "noqa_row": 169,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Tuple`"
    },
    "location": {
      "column": 47,
      "row": 11
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 56,
            "row": 25
          },
          "location": {
            "column": 32,
            "row": 25
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 25
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 25
          },
          "location": {
            "column": 41,
            "row": 25
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 25
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 54,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 54,
            "row": 26
          },
          "location": {
            "column": 30,
            "row": 26
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 26
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 26
          },
          "location": {
            "column": 39,
            "row": 26
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 26
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 32
          },
          "location": {
            "column": 10,
            "row": 32
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 32
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 64
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 64
          },
          "location": {
            "column": 61,
            "row": 64
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 64
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 77
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 77
          },
          "location": {
            "column": 63,
            "row": 77
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 77
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 77,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 95
          },
          "location": {
            "column": 67,
            "row": 95
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 95
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 116
          },
          "location": {
            "column": 64,
            "row": 116
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 116
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 132
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 132
          },
          "location": {
            "column": 13,
            "row": 132
          }
        }
      ],
      "message": "Remove assignment to unused variable `result1`"
    },
    "location": {
      "column": 13,
      "row": 132
    },
    "message": "Local variable `result1` is assigned to but never used",
    "noqa_row": 132,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 133
          },
          "location": {
            "column": 13,
            "row": 133
          }
        }
      ],
      "message": "Remove assignment to unused variable `result2`"
    },
    "location": {
      "column": 13,
      "row": 133
    },
    "message": "Local variable `result2` is assigned to but never used",
    "noqa_row": 133,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 141
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 52,
            "row": 141
          },
          "location": {
            "column": 48,
            "row": 141
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 48,
      "row": 141
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 141,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 141
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 141
          },
          "location": {
            "column": 64,
            "row": 141
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 141
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 141,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 172
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 56,
            "row": 172
          },
          "location": {
            "column": 52,
            "row": 172
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 52,
      "row": 172
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 172,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 209
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 209
          },
          "location": {
            "column": 50,
            "row": 209
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 209
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 238
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 238
          },
          "location": {
            "column": 40,
            "row": 238
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 238
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 14,
      "row": 275
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 14,
            "row": 275
          },
          "location": {
            "column": 10,
            "row": 275
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 10,
      "row": 275
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 275,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 304
          },
          "location": {
            "column": 17,
            "row": 304
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 304
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 320
          },
          "location": {
            "column": 71,
            "row": 320
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 320
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 320,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 324
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 325
          },
          "location": {
            "column": 1,
            "row": 324
          }
        }
      ],
      "message": "Remove assignment to unused variable `results`"
    },
    "location": {
      "column": 9,
      "row": 324
    },
    "message": "Local variable `results` is assigned to but never used",
    "noqa_row": 324,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 369
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 369
          },
          "location": {
            "column": 40,
            "row": 369
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 369
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 369,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 379
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 379
          },
          "location": {
            "column": 38,
            "row": 379
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 379
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 379,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 396
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_benchmark.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 396
          },
          "location": {
            "column": 41,
            "row": 396
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 396
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 396,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 11,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `sys`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`sys` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Type` is deprecated, use `type` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 39,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 11
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 41,
      "row": 11
    },
    "message": "`typing.Type` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 47,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 24
          },
          "location": {
            "column": 36,
            "row": 24
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 24
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 104
          },
          "location": {
            "column": 32,
            "row": 104
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 104
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 135
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 135
          },
          "location": {
            "column": 67,
            "row": 135
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 135
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 135,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 179
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 179
          },
          "location": {
            "column": 74,
            "row": 179
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 179
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 179,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 224
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 224
          },
          "location": {
            "column": 42,
            "row": 224
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 224
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 224,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 10,
      "row": 277
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/event_loop_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 10,
            "row": 277
          },
          "location": {
            "column": 6,
            "row": 277
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 6,
      "row": 277
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 277,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport time\nfrom typing import Any, Dict, List, Optional, Union\n\n# Import the comprehensive health system\nfrom ..services.health import (\n    AggregatedHealthResult,\n    HealthResult,\n    HealthService,\n    HealthStatus,\n    get_health_service,\n)\n\n# For backwards compatibility and simplified access\nfrom ..services.health.checkers import (\n    AnalyticsServiceHealthChecker,\n    DatabaseHealthChecker,\n    MCPServerHealthChecker,\n    MLServiceHealthChecker,\n    SystemResourcesHealthChecker,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List, Optional",
          "end_location": {
            "column": 52,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 47,
      "row": 12
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service, HealthService, HealthStatus, HealthResult, AggregatedHealthResult",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service, HealthService, HealthStatus, HealthResult, AggregatedHealthResult",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service, HealthService, HealthStatus, HealthResult, AggregatedHealthResult",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service, HealthService, HealthStatus, HealthResult, AggregatedHealthResult",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import get_health_service, HealthService, HealthStatus, HealthResult, AggregatedHealthResult",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from ..services.health import (\n    get_health_service,\n    HealthStatus,\n    HealthResult,\n    AggregatedHealthResult\n)",
          "end_location": {
            "column": 2,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `..services.health.HealthService`"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "`..services.health.HealthService` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.checkers import DatabaseHealthChecker, MCPServerHealthChecker, AnalyticsServiceHealthChecker, MLServiceHealthChecker, SystemResourcesHealthChecker",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.checkers import DatabaseHealthChecker, MCPServerHealthChecker, AnalyticsServiceHealthChecker, MLServiceHealthChecker, SystemResourcesHealthChecker",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.checkers import DatabaseHealthChecker, MCPServerHealthChecker, AnalyticsServiceHealthChecker, MLServiceHealthChecker, SystemResourcesHealthChecker",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.checkers import DatabaseHealthChecker, MCPServerHealthChecker, AnalyticsServiceHealthChecker, MLServiceHealthChecker, SystemResourcesHealthChecker",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "TID252",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.checkers import DatabaseHealthChecker, MCPServerHealthChecker, AnalyticsServiceHealthChecker, MLServiceHealthChecker, SystemResourcesHealthChecker",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Replace relative imports from parent modules with absolute imports"
    },
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "Prefer absolute imports over relative imports from parent modules",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/relative-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 26,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "`..services.health.checkers.DatabaseHealthChecker` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 27,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "`..services.health.checkers.MCPServerHealthChecker` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`..services.health.checkers.AnalyticsServiceHealthChecker` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 27,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "`..services.health.checkers.MLServiceHealthChecker` imported but unused",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 33,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 29
    },
    "message": "`..services.health.checkers.SystemResourcesHealthChecker` imported but unused",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 55,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "List[str] | None",
          "end_location": {
            "column": 55,
            "row": 41
          },
          "location": {
            "column": 36,
            "row": 41
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 41
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 49,
            "row": 41
          },
          "location": {
            "column": 45,
            "row": 41
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 45,
      "row": 41
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 50
          },
          "location": {
            "column": 57,
            "row": 50
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 50
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 82
          },
          "location": {
            "column": 61,
            "row": 82
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 82
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 103
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 103
          },
          "location": {
            "column": 46,
            "row": 103
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 103
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 103,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 110
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 50,
            "row": 110
          },
          "location": {
            "column": 46,
            "row": 110
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 46,
      "row": 110
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 110,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 52,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 52,
            "row": 117
          },
          "location": {
            "column": 48,
            "row": 117
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 48,
      "row": 117
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 124
          },
          "location": {
            "column": 41,
            "row": 124
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 124
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 131
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 131
          },
          "location": {
            "column": 47,
            "row": 131
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 131
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 131,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 47,
            "row": 138
          },
          "location": {
            "column": 43,
            "row": 138
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 43,
      "row": 138
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 183
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 183
          },
          "location": {
            "column": 33,
            "row": 183
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 183
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 183,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 192
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 192
          },
          "location": {
            "column": 38,
            "row": 192
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 192
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 192,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 198
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 198
          },
          "location": {
            "column": 38,
            "row": 198
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 198
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 198,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 204
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 204
          },
          "location": {
            "column": 40,
            "row": 204
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 204
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 204,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 210
          },
          "location": {
            "column": 33,
            "row": 210
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 210
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/health_checks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 216
          },
          "location": {
            "column": 39,
            "row": 216
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 216
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 216,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 13,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from contextlib import contextmanager\nfrom dataclasses import dataclass, field\nimport gc\nimport logging\nimport threading\nfrom typing import Any, Dict, List, Optional, Union\n\nimport torch\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Optional, Dict, Any",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 41,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Optional, Dict, Any",
          "end_location": {
            "column": 52,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 48,
      "row": 11
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from dataclasses import dataclass",
          "end_location": {
            "column": 41,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `dataclasses.field`"
    },
    "location": {
      "column": 36,
      "row": 12
    },
    "message": "`dataclasses.field` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 6,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from transformers import (\n        AutoModelForTokenClassification,\n        AutoTokenizer,\n        BitsAndBytesConfig,\n        pipeline,\n        set_seed,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 41,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, str] | None",
          "end_location": {
            "column": 41,
            "row": 55
          },
          "location": {
            "column": 17,
            "row": 55
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 17,
      "row": 55
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 55
          },
          "location": {
            "column": 26,
            "row": 55
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 55
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 28,
      "row": 68
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 28,
            "row": 68
          },
          "location": {
            "column": 24,
            "row": 68
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 24,
      "row": 68
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 68,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 21,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 21,
            "row": 100
          },
          "location": {
            "column": 17,
            "row": 100
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 17,
      "row": 100
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 23,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 23,
            "row": 102
          },
          "location": {
            "column": 19,
            "row": 102
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 19,
      "row": 102
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ModelConfig | None",
          "end_location": {
            "column": 51,
            "row": 105
          },
          "location": {
            "column": 30,
            "row": 105
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 105
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 105,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 53,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ModelConfig | None",
          "end_location": {
            "column": 53,
            "row": 119
          },
          "location": {
            "column": 32,
            "row": 119
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 32,
      "row": 119
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 72,
      "row": 135
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 72,
            "row": 135
          },
          "location": {
            "column": 59,
            "row": 135
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 59,
      "row": 135
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 135,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 175
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 175
    },
    "message": "Do not use bare `except`",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 29,
      "row": 193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 193
    },
    "message": "`_initialize_pipeline` is too complex (11 > 10)",
    "noqa_row": 193,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 52,
            "row": 193
          },
          "location": {
            "column": 39,
            "row": 193
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 39,
      "row": 193
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 193,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 244
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 244
          },
          "location": {
            "column": 56,
            "row": 244
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 244
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 244,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 88,
      "row": 244
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 88,
            "row": 244
          },
          "location": {
            "column": 75,
            "row": 244
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 75,
      "row": 244
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 244,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 28,
      "row": 252
    },
    "message": "`accelerate` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 252,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 54,
      "row": 310
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 54,
            "row": 310
          },
          "location": {
            "column": 41,
            "row": 310
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 41,
      "row": 310
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 310,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 332
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 40,
            "row": 332
          },
          "location": {
            "column": 36,
            "row": 332
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 36,
      "row": 332
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 332,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S108",
    "end_location": {
      "column": 60,
      "row": 342
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": null,
    "location": {
      "column": 40,
      "row": 342
    },
    "message": "Probable insecure usage of temporary file or directory: \"/tmp/model_offload\"",
    "noqa_row": 342,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-temp-file"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 429
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 429
          },
          "location": {
            "column": 33,
            "row": 429
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 429
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 429,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 444
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "ModelConfig | None",
          "end_location": {
            "column": 51,
            "row": 444
          },
          "location": {
            "column": 30,
            "row": 444
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 30,
      "row": 444
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 444,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 76,
      "row": 444
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 76,
            "row": 444
          },
          "location": {
            "column": 63,
            "row": 444
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 63,
      "row": 444
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 444,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 461
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 52,
            "row": 461
          },
          "location": {
            "column": 39,
            "row": 461
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 39,
      "row": 461
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 461,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 481
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 481
          },
          "location": {
            "column": 21,
            "row": 481
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 25,
      "row": 481
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 481,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 31,
      "row": 492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 492
          },
          "location": {
            "column": 25,
            "row": 492
          }
        }
      ],
      "message": "Remove assignment to unused variable `e2`"
    },
    "location": {
      "column": 29,
      "row": 492
    },
    "message": "Local variable `e2` is assigned to but never used",
    "noqa_row": 492,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 58,
      "row": 497
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/model_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 58,
            "row": 497
          },
          "location": {
            "column": 45,
            "row": 497
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 45,
      "row": 497
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 497,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 25,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import logging\nimport os\nfrom pathlib import Path\nfrom typing import Any, Dict, Optional, Set\n\nimport nltk\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `os`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`os` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 44,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 44,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 12
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 51,
            "row": 26
          },
          "location": {
            "column": 38,
            "row": 26
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 26
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 35
          },
          "location": {
            "column": 31,
            "row": 35
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 35
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 61,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Set[str] | None",
          "end_location": {
            "column": 61,
            "row": 53
          },
          "location": {
            "column": 43,
            "row": 53
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 43,
      "row": 53
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 55,
            "row": 53
          },
          "location": {
            "column": 52,
            "row": 53
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 52,
      "row": 53
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 53
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 77,
            "row": 53
          },
          "location": {
            "column": 73,
            "row": 53
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 73,
      "row": 53
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 53,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 151
          },
          "location": {
            "column": 38,
            "row": 151
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 151
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 248
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 49,
            "row": 248
          },
          "location": {
            "column": 36,
            "row": 248
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 248
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 248,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 56,
      "row": 266
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Set[str] | None",
          "end_location": {
            "column": 56,
            "row": 266
          },
          "location": {
            "column": 38,
            "row": 266
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 266
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 266,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 50,
      "row": 266
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 50,
            "row": 266
          },
          "location": {
            "column": 47,
            "row": 266
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 47,
      "row": 266
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 266,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 72,
      "row": 266
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/nltk_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 72,
            "row": 266
          },
          "location": {
            "column": 68,
            "row": 266
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 68,
      "row": 266
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 266,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 76,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nimport logging\nimport time\nfrom typing import Any, AsyncGenerator, Dict, Optional, Set, TypeVar, Union\n\nfrom prompt_improver.utils.event_loop_manager import get_event_loop_manager\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 76,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, Optional, Set, TypeVar, Union\nfrom collections.abc import AsyncGenerator",
          "end_location": {
            "column": 76,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import from `collections.abc` instead: `AsyncGenerator`",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 76,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 76,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 76,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, AsyncGenerator, Dict, Optional, Set, TypeVar",
          "end_location": {
            "column": 76,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 71,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 49,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 49,
            "row": 23
          },
          "location": {
            "column": 36,
            "row": 23
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 23
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 36,
            "row": 31
          },
          "location": {
            "column": 32,
            "row": 31
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 32,
      "row": 31
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 32,
            "row": 41
          },
          "location": {
            "column": 29,
            "row": 41
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 29,
      "row": 41
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 33,
            "row": 55
          },
          "location": {
            "column": 18,
            "row": 55
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 55
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 88
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 88
          },
          "location": {
            "column": 16,
            "row": 88
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 88
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 88,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 52,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 52,
            "row": 106
          },
          "location": {
            "column": 39,
            "row": 106
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 39,
      "row": 106
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 33,
      "row": 128
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "float | None",
          "end_location": {
            "column": 33,
            "row": 128
          },
          "location": {
            "column": 18,
            "row": 128
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 128
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 128,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 153
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 153
          },
          "location": {
            "column": 25,
            "row": 153
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 153
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 153,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 232
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 232
          },
          "location": {
            "column": 30,
            "row": 232
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 232
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 232,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 245
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 38,
            "row": 245
          },
          "location": {
            "column": 35,
            "row": 245
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 35,
      "row": 245
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 245,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 73,
      "row": 271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 73,
            "row": 271
          },
          "location": {
            "column": 69,
            "row": 271
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 69,
      "row": 271
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 271,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 282
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 282
          },
          "location": {
            "column": 13,
            "row": 282
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 282
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 282,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 323
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 29,
            "row": 323
          },
          "location": {
            "column": 25,
            "row": 323
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 25,
      "row": 323
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 323,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 365
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 365
          },
          "location": {
            "column": 35,
            "row": 365
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 365
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 365,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 389
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 389
          },
          "location": {
            "column": 47,
            "row": 389
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 389
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 389,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 389
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_event_loop.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 61,
            "row": 389
          },
          "location": {
            "column": 57,
            "row": 389
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 57,
      "row": 389
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 389,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 32,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport logging\nimport time\nfrom typing import Any, Dict, Optional, Union\n\nfrom cachetools import TTLCache\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `time`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`time` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 10
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 10
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 46,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 46,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, Optional",
          "end_location": {
            "column": 46,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `typing.Union`"
    },
    "location": {
      "column": 41,
      "row": 11
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 50,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "asyncio.Task | None",
          "end_location": {
            "column": 50,
            "row": 40
          },
          "location": {
            "column": 28,
            "row": 40
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 28,
      "row": 40
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 51,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Any | None",
          "end_location": {
            "column": 51,
            "row": 45
          },
          "location": {
            "column": 38,
            "row": 45
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 45
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 149
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 149
          },
          "location": {
            "column": 30,
            "row": 149
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 149
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 149,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 21,
      "row": 189
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/session_store.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        },
        {
          "content": "with contextlib.suppress(asyncio.CancelledError)",
          "end_location": {
            "column": 16,
            "row": 186
          },
          "location": {
            "column": 13,
            "row": 186
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 190
          },
          "location": {
            "column": 1,
            "row": 188
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(asyncio.CancelledError)`"
    },
    "location": {
      "column": 13,
      "row": 186
    },
    "message": "Use `contextlib.suppress(asyncio.CancelledError)` instead of `try`-`except`-`pass`",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 56,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from functools import wraps\nimport logging\nfrom pathlib import Path\nimport shutil\nimport subprocess\nimport sys\nfrom typing import Any, Callable, List, Optional, Union\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 11,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `sys`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`sys` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, List, Optional, Union\nfrom collections.abc import Callable",
          "end_location": {
            "column": 56,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 56,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 69,
      "row": 40
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Path",
          "end_location": {
            "column": 69,
            "row": 40
          },
          "location": {
            "column": 53,
            "row": 40
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 53,
      "row": 40
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 40,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 72
          },
          "location": {
            "column": 41,
            "row": 72
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 72
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 59,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 59,
            "row": 72
          },
          "location": {
            "column": 55,
            "row": 72
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 55,
      "row": 72
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 95
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 46,
            "row": 95
          },
          "location": {
            "column": 42,
            "row": 95
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 42,
      "row": 95
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 95,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 104
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 104
          },
          "location": {
            "column": 13,
            "row": 104
          }
        }
      ],
      "message": "Remove assignment to unused variable `safe_args`"
    },
    "location": {
      "column": 13,
      "row": 104
    },
    "message": "Local variable `safe_args` is assigned to but never used",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 117
          },
          "location": {
            "column": 15,
            "row": 117
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 117
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 36,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Path",
          "end_location": {
            "column": 36,
            "row": 117
          },
          "location": {
            "column": 20,
            "row": 117
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 117
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 31,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 31,
            "row": 119
          },
          "location": {
            "column": 18,
            "row": 119
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 18,
      "row": 119
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 40,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Union[str, Path] | None",
          "end_location": {
            "column": 40,
            "row": 123
          },
          "location": {
            "column": 14,
            "row": 123
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 123
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 39,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Path",
          "end_location": {
            "column": 39,
            "row": 123
          },
          "location": {
            "column": 23,
            "row": 123
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 23,
      "row": 123
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 19,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 19,
            "row": 207
          },
          "location": {
            "column": 15,
            "row": 207
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 15,
      "row": 207
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP007",
    "end_location": {
      "column": 36,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | Path",
          "end_location": {
            "column": 36,
            "row": 207
          },
          "location": {
            "column": 20,
            "row": 207
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 207
    },
    "message": "Use `X | Y` for type annotations",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-union"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 283
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/subprocess_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "int | None",
          "end_location": {
            "column": 27,
            "row": 283
          },
          "location": {
            "column": 14,
            "row": 283
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 14,
      "row": 283
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 283,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 30,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom collections import defaultdict\nfrom datetime import datetime\nimport json\nimport logging\nfrom typing import Any, Dict, List, Optional, Set\nfrom uuid import uuid4\n\nfrom fastapi import WebSocket, WebSocketDisconnect\nimport redis.asyncio as redis\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 59,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "redis.Redis | None",
          "end_location": {
            "column": 59,
            "row": 23
          },
          "location": {
            "column": 38,
            "row": 23
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 38,
      "row": 23
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 25
          },
          "location": {
            "column": 38,
            "row": 25
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 25
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 51,
            "row": 25
          },
          "location": {
            "column": 48,
            "row": 25
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 48,
      "row": 25
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 27
          },
          "location": {
            "column": 35,
            "row": 27
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 27
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 55,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 55,
            "row": 27
          },
          "location": {
            "column": 51,
            "row": 27
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 51,
      "row": 27
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 36,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 36,
            "row": 31
          },
          "location": {
            "column": 33,
            "row": 31
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 33,
      "row": 31
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 93,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "str | None",
          "end_location": {
            "column": 93,
            "row": 33
          },
          "location": {
            "column": 80,
            "row": 33
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 80,
      "row": 33
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 84
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 78,
            "row": 84
          },
          "location": {
            "column": 74,
            "row": 84
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 74,
      "row": 84
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 84,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 51,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 51,
            "row": 107
          },
          "location": {
            "column": 47,
            "row": 107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 47,
      "row": 107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 112
          },
          "location": {
            "column": 71,
            "row": 112
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 112
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 112,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 75,
      "row": 122
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 75,
            "row": 122
          },
          "location": {
            "column": 71,
            "row": 122
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 71,
      "row": 122
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 122,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 21,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        },
        {
          "content": "import builtins\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        },
        {
          "content": "with contextlib.suppress(builtins.BaseException)",
          "end_location": {
            "column": 16,
            "row": 175
          },
          "location": {
            "column": 13,
            "row": 175
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 179
          },
          "location": {
            "column": 1,
            "row": 177
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(BaseException)`"
    },
    "location": {
      "column": 13,
      "row": 175
    },
    "message": "Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 19,
      "row": 177
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 177
    },
    "message": "Do not use bare `except`",
    "noqa_row": 177,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 21,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 177
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 177,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 186
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 45,
            "row": 186
          },
          "location": {
            "column": 41,
            "row": 186
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 41,
      "row": 186
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 186,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 25,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        },
        {
          "content": "import builtins\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        },
        {
          "content": "with contextlib.suppress(builtins.BaseException)",
          "end_location": {
            "column": 20,
            "row": 204
          },
          "location": {
            "column": 17,
            "row": 204
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 208
          },
          "location": {
            "column": 1,
            "row": 206
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(BaseException)`"
    },
    "location": {
      "column": 17,
      "row": 204
    },
    "message": "Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`",
    "noqa_row": 204,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 206
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 206
    },
    "message": "Do not use bare `except`",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 25,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 206
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 206,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 74,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/src/prompt_improver/utils/websocket_manager.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 74,
            "row": 235
          },
          "location": {
            "column": 70,
            "row": 235
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 70,
      "row": 235
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport tempfile\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession, async_sessionmaker\nfrom typer.testing import CliRunner\n\nfrom prompt_improver.database.models import (\n    ImprovementSession,\n    RuleMetadata,\n    RulePerformance,\n    UserFeedback,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 63,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from prompt_improver.database.config import DatabaseConfig\n    from tests.database_helpers import (\n        create_test_engine_with_retry,\n        ensure_test_database_exists,\n        wait_for_postgres_async,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 71
          },
          "location": {
            "column": 1,
            "row": 64
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 64
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 64,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 126
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 123
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 17,
      "row": 126
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 125
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 21,
      "row": 148
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 146
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 146,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 272
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 273
          },
          "location": {
            "column": 1,
            "row": 272
          }
        }
      ],
      "message": "Remove unused import: `uuid`"
    },
    "location": {
      "column": 12,
      "row": 272
    },
    "message": "`uuid` imported but unused",
    "noqa_row": 272,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 499
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/conftest.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 500
          },
          "location": {
            "column": 1,
            "row": 499
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 26,
      "row": 499
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 499,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 27,
      "row": 117
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/database_helpers.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "AsyncEngine | None",
          "end_location": {
            "column": 27,
            "row": 117
          },
          "location": {
            "column": 6,
            "row": 117
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 6,
      "row": 117
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 117,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 69,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom pathlib import Path\nimport tempfile\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport uuid\n\nimport optuna\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom prompt_improver.automl.orchestrator import (\n    AutoMLConfig,\n    AutoMLMode,\n    AutoMLOrchestrator,\n)\nfrom prompt_improver.database.connection import DatabaseManager\nfrom prompt_improver.services.ab_testing import ABTestingService\nfrom prompt_improver.services.prompt_improvement import PromptImprovementService\nfrom prompt_improver.utils.websocket_manager import WebSocketManager\n\n\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 15
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `optuna`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`optuna` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 21
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 28
          }
        },
        {
          "content": "with contextlib.suppress(Exception)",
          "end_location": {
            "column": 12,
            "row": 46
          },
          "location": {
            "column": 9,
            "row": 46
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 50
          },
          "location": {
            "column": 1,
            "row": 48
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(Exception)`"
    },
    "location": {
      "column": 9,
      "row": 46
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 46,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 17,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 48
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 48,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 188
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 188
          },
          "location": {
            "column": 13,
            "row": 188
          }
        }
      ],
      "message": "Remove assignment to unused variable `status`"
    },
    "location": {
      "column": 13,
      "row": 188
    },
    "message": "Local variable `status` is assigned to but never used",
    "noqa_row": 188,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 223
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 223
          },
          "location": {
            "column": 13,
            "row": 223
          }
        }
      ],
      "message": "Remove assignment to unused variable `status`"
    },
    "location": {
      "column": 13,
      "row": 223
    },
    "message": "Local variable `status` is assigned to but never used",
    "noqa_row": 223,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 66,
      "row": 278
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 65,
            "row": 278
          },
          "location": {
            "column": 53,
            "row": 278
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 278
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 278,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 449
          },
          "location": {
            "column": 13,
            "row": 449
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 13,
      "row": 449
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 449,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 515
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/automl/test_automl_end_to_end.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import os\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 516
          },
          "location": {
            "column": 1,
            "row": 514
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 514
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 514,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 36,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import json\nimport os\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom hypothesis import (\n    HealthCheck,\n    given,\n    settings,\n    strategies as st,\n)\nimport pytest\n\nfrom prompt_improver.cli import app\n\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 65,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 65,
            "row": 69
          },
          "location": {
            "column": 49,
            "row": 69
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_console`"
    },
    "location": {
      "column": 53,
      "row": 69
    },
    "message": "Local variable `mock_console` is assigned to but never used",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 65,
      "row": 145
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 65,
            "row": 145
          },
          "location": {
            "column": 49,
            "row": 145
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_console`"
    },
    "location": {
      "column": 53,
      "row": 145
    },
    "message": "Local variable `mock_console` is assigned to but never used",
    "noqa_row": 145,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 65,
      "row": 416
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 65,
            "row": 416
          },
          "location": {
            "column": 49,
            "row": 416
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_console`"
    },
    "location": {
      "column": 53,
      "row": 416
    },
    "message": "Local variable `mock_console` is assigned to but never used",
    "noqa_row": 416,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 65,
      "row": 456
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 65,
            "row": 456
          },
          "location": {
            "column": 53,
            "row": 456
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 57,
      "row": 456
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 456,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 65,
      "row": 472
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 65,
            "row": 472
          },
          "location": {
            "column": 53,
            "row": 472
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 57,
      "row": 472
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 472,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 511
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 511
          },
          "location": {
            "column": 14,
            "row": 511
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 18,
      "row": 511
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 511,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 601
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 601
          },
          "location": {
            "column": 14,
            "row": 601
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 18,
      "row": 601
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 601,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 630
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 630
          },
          "location": {
            "column": 14,
            "row": 630
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 18,
      "row": 630
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 630,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 21,
      "row": 752
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        },
        {
          "content": "import builtins\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        },
        {
          "content": "with contextlib.suppress(builtins.BaseException)",
          "end_location": {
            "column": 16,
            "row": 749
          },
          "location": {
            "column": 13,
            "row": 749
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 753
          },
          "location": {
            "column": 1,
            "row": 751
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(BaseException)`"
    },
    "location": {
      "column": 13,
      "row": 749
    },
    "message": "Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`",
    "noqa_row": 749,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 19,
      "row": 751
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 751
    },
    "message": "Do not use bare `except`",
    "noqa_row": 751,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 21,
      "row": 752
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 751
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 751,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 77,
      "row": 789
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 785
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 785,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 787
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 787
          },
          "location": {
            "column": 10,
            "row": 787
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 14,
      "row": 787
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 787,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 69,
      "row": 835
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 831
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 831,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 833
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 833
          },
          "location": {
            "column": 10,
            "row": 833
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 14,
      "row": 833
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 833,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 74,
      "row": 856
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 852
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 852,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 854
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 854
          },
          "location": {
            "column": 10,
            "row": 854
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 14,
      "row": 854
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 854,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 915
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 915
          },
          "location": {
            "column": 10,
            "row": 915
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 14,
      "row": 915
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 915,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 966
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_enhanced_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 966
          },
          "location": {
            "column": 10,
            "row": 966
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_run`"
    },
    "location": {
      "column": 14,
      "row": 966
    },
    "message": "Local variable `mock_run` is assigned to but never used",
    "noqa_row": 966,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 1
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/cli/test_logs_command.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 2
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Remove unused import: `pytest`"
    },
    "location": {
      "column": 8,
      "row": 1
    },
    "message": "`pytest` imported but unused",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 82,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, List\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.learning.context_aware_weighter import WeightingStrategy\nfrom src.prompt_improver.learning.context_learner import (\n    ContextConfig,\n    ContextSpecificLearner,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 10
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 10
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 10
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 82,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.learning.context_aware_weighter.WeightingStrategy`"
    },
    "location": {
      "column": 65,
      "row": 13
    },
    "message": "`src.prompt_improver.learning.context_aware_weighter.WeightingStrategy` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 379
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import gc\n        import os\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 380
          },
          "location": {
            "column": 1,
            "row": 377
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 377
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 377,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 427
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/learning/test_context_aware_weighting_integration.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 427
    },
    "message": "`bitsandbytes` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 427,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport hashlib\nimport json\nimport os\nimport secrets\nimport tempfile\nfrom typing import Any, Dict, List, Optional, Tuple\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport numpy as np\nimport pytest\n\nfrom tests.unit.security.test_adversarial_robustness import (\n    MockAdversarialAttack,\n    MockDefenseSystem,\n    MockRobustnessEvaluator,\n)\n\n# Import security components for integration testing\nfrom tests.unit.security.test_authentication import MockAuthenticationService\nfrom tests.unit.security.test_authorization import (\n    MockAuthorizationService,\n    Permission,\n    Role,\n)\nfrom tests.unit.security.test_input_sanitization import InputSanitizer\nfrom tests.unit.security.test_privacy_preserving import (\n    MockDifferentialPrivacy,\n    MockFederatedLearning,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 39
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 20
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 20
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 20
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Any",
          "end_location": {
            "column": 52,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `typing.Tuple`"
    },
    "location": {
      "column": 47,
      "row": 21
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 22
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `tempfile`"
    },
    "location": {
      "column": 8,
      "row": 23
    },
    "message": "`tempfile` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `os`"
    },
    "location": {
      "column": 8,
      "row": 24
    },
    "message": "`os` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 25
    },
    "message": "`json` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 38,
            "row": 49
          },
          "location": {
            "column": 34,
            "row": 49
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 34,
      "row": 49
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 49
          },
          "location": {
            "column": 39,
            "row": 49
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 49
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 94,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 94,
            "row": 79
          },
          "location": {
            "column": 70,
            "row": 79
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 70,
      "row": 79
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 83,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 83,
            "row": 79
          },
          "location": {
            "column": 79,
            "row": 79
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 79,
      "row": 79
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 110
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 110
          },
          "location": {
            "column": 43,
            "row": 110
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 110
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 110,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 68,
      "row": 110
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 68,
            "row": 110
          },
          "location": {
            "column": 64,
            "row": 110
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 64,
      "row": 110
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 110,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 69,
      "row": 150
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 69,
            "row": 150
          },
          "location": {
            "column": 65,
            "row": 150
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 65,
      "row": 150
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 150,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 197
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 65,
            "row": 197
          },
          "location": {
            "column": 61,
            "row": 197
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 61,
      "row": 197
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 197,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 197
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 197
          },
          "location": {
            "column": 75,
            "row": 197
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 197
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 197,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 87,
      "row": 240
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 87,
            "row": 240
          },
          "location": {
            "column": 83,
            "row": 240
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 83,
      "row": 240
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 240,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 283
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 65,
            "row": 283
          },
          "location": {
            "column": 61,
            "row": 283
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 61,
      "row": 283
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 283,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 36,
      "row": 289
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 289
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 289,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 26,
      "row": 297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 26,
            "row": 297
          },
          "location": {
            "column": 22,
            "row": 297
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 22,
      "row": 297
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 31,
      "row": 297
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 31,
            "row": 297
          },
          "location": {
            "column": 27,
            "row": 297
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 27,
      "row": 297
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 297,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 32,
      "row": 304
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 32,
            "row": 304
          },
          "location": {
            "column": 28,
            "row": 304
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 28,
      "row": 304
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 304,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 40,
      "row": 320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 29,
      "row": 320
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 320,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 44,
      "row": 427
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 427
    },
    "message": "Possible hardcoded password assigned to: \"invalid_token\"",
    "noqa_row": 427,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 561
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 561
          },
          "location": {
            "column": 9,
            "row": 561
          }
        }
      ],
      "message": "Remove assignment to unused variable `results`"
    },
    "location": {
      "column": 9,
      "row": 561
    },
    "message": "Local variable `results` is assigned to but never used",
    "noqa_row": 561,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 651
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 651
          },
          "location": {
            "column": 9,
            "row": 651
          }
        }
      ],
      "message": "Remove assignment to unused variable `initial_log_count`"
    },
    "location": {
      "column": 9,
      "row": 651
    },
    "message": "Local variable `initial_log_count` is assigned to but never used",
    "noqa_row": 651,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 763
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 763
          },
          "location": {
            "column": 9,
            "row": 763
          }
        }
      ],
      "message": "Remove assignment to unused variable `ml_data`"
    },
    "location": {
      "column": 9,
      "row": 763
    },
    "message": "Local variable `ml_data` is assigned to but never used",
    "noqa_row": 763,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 837
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_end_to_end_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 837
          },
          "location": {
            "column": 13,
            "row": 837
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 837
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 837,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 87,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nimport os\nfrom pathlib import Path\nimport tempfile\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport numpy as np\nimport pytest\n\n# Import security components for integration testing\nfrom src.prompt_improver.service.security import PromptDataProtection, SecureMCPServer\n\n\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 18
    },
    "message": "`json` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `tempfile`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`tempfile` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `os`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`os` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 23
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 24
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 50,
      "row": 100
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | tuple",
          "end_location": {
            "column": 49,
            "row": 100
          },
          "location": {
            "column": 36,
            "row": 100
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 100
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 292
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 292
          },
          "location": {
            "column": 17,
            "row": 292
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 292
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 292,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 566
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 561
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 561,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 26,
      "row": 569
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": null,
    "location": {
      "column": 22,
      "row": 569
    },
    "message": "Undefined name `time`",
    "noqa_row": 569,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 28,
      "row": 577
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": null,
    "location": {
      "column": 24,
      "row": 577
    },
    "message": "Undefined name `time`",
    "noqa_row": 577,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 588
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import gc\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 589
          },
          "location": {
            "column": 1,
            "row": 587
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 587
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 587,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 595
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/security/test_security_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 595
          },
          "location": {
            "column": 13,
            "row": 595
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 595
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 595,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 83,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom hypothesis import (\n    assume,\n    given,\n    settings,\n    strategies as st,\n)\nimport pytest\n\nfrom prompt_improver.services.ab_testing import ABTestingService, ExperimentResult\n\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 6
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 7
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 7
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 83,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.ab_testing import ABTestingService",
          "end_location": {
            "column": 83,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.services.ab_testing.ExperimentResult`"
    },
    "location": {
      "column": 67,
      "row": 17
    },
    "message": "`prompt_improver.services.ab_testing.ExperimentResult` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 79,
      "row": 164
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ab_testing.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        with patch.object(\n            ab_testing_service,\n            \"create_experiment\",\n            side_effect=ValueError(\"Experiment already exists\"),\n        ), pytest.raises(ValueError, match=\"Experiment already exists\"):\n            await ab_testing_service.create_experiment(\n                experiment_name,\n                control_group=\"control\",\n                treatment_group=\"treatment\",\n                db_session=mock_db_session,\n            )",
          "end_location": {
            "column": 18,
            "row": 170
          },
          "location": {
            "column": 1,
            "row": 159
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 159
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 159,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom hypothesis import (\n    assume,\n    given,\n    settings,\n    strategies as st,\n)\nfrom hypothesis.stateful import Bundle, RuleBasedStateMachine, invariant, rule\nimport numpy as np\nimport pytest\n\nfrom prompt_improver.services.advanced_pattern_discovery import (\n    AdvancedPatternDiscovery,\n    FrequentPattern,\n    PatternCluster,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 6
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import AsyncMock, patch",
          "end_location": {
            "column": 54,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 38,
      "row": 7
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.advanced_pattern_discovery import (\n    AdvancedPatternDiscovery,\n)",
          "end_location": {
            "column": 2,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 21
    },
    "message": "`prompt_improver.services.advanced_pattern_discovery.FrequentPattern` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.advanced_pattern_discovery import (\n    AdvancedPatternDiscovery,\n)",
          "end_location": {
            "column": 2,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 22
    },
    "message": "`prompt_improver.services.advanced_pattern_discovery.PatternCluster` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 160
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 171
    },
    "message": "Use `list.extend` to create a transformed list",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 232
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 223
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 223,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 273
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 266
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 266,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 284
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 277
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 277,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 15,
      "row": 413
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_hdbscan_clustering.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        with patch(\n            \"prompt_improver.services.advanced_pattern_discovery.HDBSCAN_AVAILABLE\",\n            False,\n        ), patch.object(\n            discovery_service, \"_get_performance_data\", return_value=mock_data\n        ):\n            result = await discovery_service.discover_advanced_patterns(\n                mock_db_session, pattern_types=[\"parameter\"]\n            )",
          "end_location": {
            "column": 18,
            "row": 416
          },
          "location": {
            "column": 1,
            "row": 407
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 407
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 407,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\nfrom prompt_improver.services.health import (\n    PROMETHEUS_AVAILABLE,\n    AnalyticsServiceHealthChecker,\n    DatabaseHealthChecker,\n    HealthChecker,\n    HealthResult,\n    HealthService,\n    HealthStatus,\n    MCPServerHealthChecker,\n    MLServiceHealthChecker,\n    SystemResourcesHealthChecker,\n    get_health_service,\n    reset_health_service,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 5
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 6
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 5
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import (\n    HealthChecker,\n    HealthResult,\n    HealthStatus,\n    HealthService,\n    get_health_service,\n    reset_health_service,\n    DatabaseHealthChecker,\n    MCPServerHealthChecker,\n    SystemResourcesHealthChecker,\n    PROMETHEUS_AVAILABLE\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "`prompt_improver.services.health.AnalyticsServiceHealthChecker` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 27,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.health import (\n    HealthChecker,\n    HealthResult,\n    HealthStatus,\n    HealthService,\n    get_health_service,\n    reset_health_service,\n    DatabaseHealthChecker,\n    MCPServerHealthChecker,\n    SystemResourcesHealthChecker,\n    PROMETHEUS_AVAILABLE\n)",
          "end_location": {
            "column": 2,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 19
    },
    "message": "`prompt_improver.services.health.MLServiceHealthChecker` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 10,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from prompt_improver.services.health.metrics import (\n            HEALTH_CHECK_STATUS,\n            HEALTH_CHECKS_TOTAL,\n            reset_health_metrics,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 255
          },
          "location": {
            "column": 1,
            "row": 250
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 250
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 250,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 251
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.metrics import (\n            reset_health_metrics\n        )",
          "end_location": {
            "column": 10,
            "row": 254
          },
          "location": {
            "column": 9,
            "row": 250
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 13,
      "row": 251
    },
    "message": "`prompt_improver.services.health.metrics.HEALTH_CHECK_STATUS` imported but unused",
    "noqa_row": 251,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_health_system.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.services.health.metrics import (\n            reset_health_metrics\n        )",
          "end_location": {
            "column": 10,
            "row": 254
          },
          "location": {
            "column": 9,
            "row": 250
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 13,
      "row": 252
    },
    "message": "`prompt_improver.services.health.metrics.HEALTH_CHECKS_TOTAL` imported but unused",
    "noqa_row": 252,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 83,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom typing import Any, Dict, List, Tuple\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom hypothesis import (\n    HealthCheck,\n    assume,\n    given,\n    settings,\n    strategies as st,\n)\nfrom hypothesis.extra.numpy import arrays\nimport numpy as np\nimport pytest\n\nfrom prompt_improver.database.models import (\n    MLModelPerformance,\n    RuleMetadata,\n    RulePerformance,\n)\nfrom prompt_improver.services.ml_integration import MLModelService, get_ml_service\n\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 8
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 8
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 42,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 9
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 9
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 9
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 37,
      "row": 9
    },
    "message": "`typing.Tuple` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import MagicMock, patch",
          "end_location": {
            "column": 54,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.AsyncMock`"
    },
    "location": {
      "column": 27,
      "row": 10
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 24
    },
    "message": "`prompt_improver.database.models.MLModelPerformance` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 17,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "`prompt_improver.database.models.RuleMetadata` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "`prompt_improver.database.models.RulePerformance` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 60,
      "row": 158
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 35,
      "row": 158
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 75,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 51,
      "row": 165
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 165,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 75,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 51,
      "row": 167
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 19,
      "row": 383
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 22,
            "row": 383
          },
          "location": {
            "column": 13,
            "row": 383
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 13,
      "row": 383
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 66,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 65,
            "row": 483
          },
          "location": {
            "column": 53,
            "row": 483
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 483
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 483,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 66,
      "row": 485
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 65,
            "row": 485
          },
          "location": {
            "column": 53,
            "row": 485
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 485
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 485,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 70,
      "row": 558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 69,
            "row": 558
          },
          "location": {
            "column": 57,
            "row": 558
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 24,
      "row": 558
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 558,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 66,
      "row": 612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float | bool | str",
          "end_location": {
            "column": 65,
            "row": 612
          },
          "location": {
            "column": 42,
            "row": 612
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 24,
      "row": 612
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 612,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 51,
      "row": 613
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 50,
            "row": 613
          },
          "location": {
            "column": 38,
            "row": 613
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 613
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 613,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 877
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 877
          },
          "location": {
            "column": 17,
            "row": 877
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 877
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 877,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 64,
      "row": 881
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 881
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 881,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 62,
      "row": 882
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 882
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 882,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 64,
      "row": 883
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 883
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 883,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 60,
      "row": 884
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 884
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 884,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 64,
      "row": 885
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 39,
      "row": 885
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 885,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 70,
      "row": 888
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 45,
      "row": 888
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 888,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 43,
      "row": 940
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_ml_integration.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 940
    },
    "message": "`test_corrupted_data_handling` is too complex (12 > 10)",
    "noqa_row": 940,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 74,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_model_cache_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom time import time\nfrom unittest.mock import MagicMock, patch\n\nfrom hypothesis import (\n    assume,\n    given,\n    settings,\n    strategies as st,\n)\nimport pytest\n\nfrom prompt_improver.services.ml_integration import InMemoryModelRegistry\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 22,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_model_cache_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `time.time`"
    },
    "location": {
      "column": 18,
      "row": 7
    },
    "message": "`time.time` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 7
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 17,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 13
    },
    "message": "`prompt_improver.database.models.ABExperiment` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 22,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 14
    },
    "message": "`prompt_improver.database.models.DiscoveredPattern` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 15
    },
    "message": "`prompt_improver.database.models.MLModelPerformance` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 17,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 16
    },
    "message": "`prompt_improver.database.models.RuleMetadata` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "`prompt_improver.database.models.RulePerformance` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 17,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 18
    },
    "message": "`prompt_improver.database.models.UserFeedback` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 36,
      "row": 56
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from sqlmodel import select\n\n        from prompt_improver.database.models import UserFeedback\n",
          "end_location": {
            "column": 1,
            "row": 57
          },
          "location": {
            "column": 1,
            "row": 55
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 55
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 65,
      "row": 55
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 56
          },
          "location": {
            "column": 1,
            "row": 55
          }
        }
      ],
      "message": "Remove definition: `UserFeedback`"
    },
    "location": {
      "column": 53,
      "row": 55
    },
    "message": "Redefinition of unused `UserFeedback` from line 18",
    "noqa_row": 55,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 60,
      "row": 469
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/services/test_prompt_improvement.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "sample_user_feedback[0].ml_optimized",
          "end_location": {
            "column": 60,
            "row": 469
          },
          "location": {
            "column": 16,
            "row": 469
          }
        }
      ],
      "message": "Replace with `sample_user_feedback[0].ml_optimized`"
    },
    "location": {
      "column": 16,
      "row": 469
    },
    "message": "Avoid equality comparisons to `True`; use `sample_user_feedback[0].ml_optimized:` for truth checks",
    "noqa_row": 469,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 78,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_advanced_ab_testing_complete.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.database.models import ABExperiment, RulePerformance\nfrom src.prompt_improver.evaluation.advanced_statistical_validator import (\n    AdvancedStatisticalValidator,\n)\nfrom src.prompt_improver.evaluation.causal_inference_analyzer import (\n    CausalInferenceAnalyzer,\n)\nfrom src.prompt_improver.evaluation.experiment_orchestrator import (\n    ExperimentArm,\n    ExperimentConfiguration,\n    ExperimentOrchestrator,\n    ExperimentType,\n    StoppingRule,\n)\nfrom src.prompt_improver.evaluation.pattern_significance_analyzer import (\n    PatternSignificanceAnalyzer,\n)\nfrom src.prompt_improver.services.real_time_analytics import RealTimeAnalyticsService\n\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_advanced_ab_testing_complete.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 8
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 61,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_advanced_ab_testing_complete.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.database.models import RulePerformance",
          "end_location": {
            "column": 78,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.database.models.ABExperiment`"
    },
    "location": {
      "column": 49,
      "row": 23
    },
    "message": "`src.prompt_improver.database.models.ABExperiment` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B017",
    "end_location": {
      "column": 42,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_advanced_ab_testing_complete.py",
    "fix": null,
    "location": {
      "column": 18,
      "row": 483
    },
    "message": "Do not assert blind exception: `Exception`",
    "noqa_row": 483,
    "url": "https://docs.astral.sh/ruff/rules/assert-raises-exception"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 68,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nfrom typing import Any, Dict, List\n\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlmodel import select\n\nfrom src.prompt_improver.database.connection import DatabaseManager\nfrom src.prompt_improver.database.models import (\n    AprioriAssociationRule,\n    AprioriPatternDiscovery,\n    PromptSession,\n    RulePerformance,\n    UserFeedback,\n)\nfrom src.prompt_improver.services.advanced_pattern_discovery import (\n    AdvancedPatternDiscovery,\n)\nfrom src.prompt_improver.services.apriori_analyzer import AprioriAnalyzer, AprioriConfig\nfrom src.prompt_improver.services.ml_integration import MLModelService\n\n\n",
          "end_location": {
            "column": 1,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 14
    },
    "message": "`json` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 16
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 16
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 16
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 17,
      "row": 405
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 20,
            "row": 405
          },
          "location": {
            "column": 9,
            "row": 405
          }
        }
      ],
      "message": "Remove assignment to unused variable `analyzer`"
    },
    "location": {
      "column": 9,
      "row": 405
    },
    "message": "Local variable `analyzer` is assigned to but never used",
    "noqa_row": 405,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 13,
      "row": 483
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_apriori_integration.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 482
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 482,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_async_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\nfrom unittest.mock import AsyncMock, patch\n\nfrom hypothesis import (\n    given,\n    strategies as st,\n)\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 74,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_automl_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport logging\nfrom typing import Any, Dict\n\nimport pytest\n\nfrom src.prompt_improver.automl.callbacks import create_standard_callbacks\nfrom src.prompt_improver.automl.orchestrator import (\n    AutoMLConfig,\n    AutoMLMode,\n    AutoMLOrchestrator,\n)\nfrom src.prompt_improver.database.connection import DatabaseManager\nfrom src.prompt_improver.optimization.rule_optimizer import RuleOptimizer\nfrom src.prompt_improver.services.prompt_improvement import PromptImprovementService\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_automl_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 9
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_automl_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_automl_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 10
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_automl_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 10
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_and_shutdown.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport logging\nfrom unittest.mock import AsyncMock, MagicMock\n\nimport pytest\n\nfrom prompt_improver.optimization.batch_processor import BatchProcessor\nfrom prompt_improver.services.startup import init_startup_tasks, shutdown_startup_tasks\n\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_and_shutdown.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`logging` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_and_shutdown.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 8
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_and_shutdown.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 8
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport logging\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\nfrom prompt_improver.optimization.batch_processor import (\n    BatchProcessor,\n    BatchProcessorConfig,\n    PriorityQueue,\n    periodic_batch_processor_coroutine,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`logging` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 13
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 13
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 14
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 14
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 66,
      "row": 134
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 134
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 134,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 201
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "import contextlib\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        },
        {
          "content": "with contextlib.suppress(asyncio.CancelledError)",
          "end_location": {
            "column": 12,
            "row": 198
          },
          "location": {
            "column": 9,
            "row": 198
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 202
          },
          "location": {
            "column": 1,
            "row": 200
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(asyncio.CancelledError)`"
    },
    "location": {
      "column": 9,
      "row": 198
    },
    "message": "Use `contextlib.suppress(asyncio.CancelledError)` instead of `try`-`except`-`pass`",
    "noqa_row": 198,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 87,
      "row": 386
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 386
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 386,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 422
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 416
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 416,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 578
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_batch_scheduling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 578
          },
          "location": {
            "column": 16,
            "row": 578
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 578
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 578,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_clustering_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\n\nimport numpy as np\nimport pytest\nfrom sklearn.datasets import make_blobs, make_classification\nfrom sklearn.preprocessing import StandardScaler\n\nfrom prompt_improver.optimization.clustering_optimizer import (\n    ClusteringConfig,\n    ClusteringMetrics,\n    ClusteringOptimizer,\n    get_clustering_optimizer,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_clustering_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_clustering_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `sklearn.preprocessing.StandardScaler`"
    },
    "location": {
      "column": 35,
      "row": 12
    },
    "message": "`sklearn.preprocessing.StandardScaler` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 22,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_clustering_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.optimization.clustering_optimizer import (\n    ClusteringOptimizer,\n    ClusteringConfig,\n    get_clustering_optimizer\n)",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.optimization.clustering_optimizer.ClusteringMetrics`"
    },
    "location": {
      "column": 5,
      "row": 17
    },
    "message": "`prompt_improver.optimization.clustering_optimizer.ClusteringMetrics` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 10,
      "row": 67
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_clustering_optimization.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 10,
            "row": 67
          },
          "location": {
            "column": 9,
            "row": 67
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 9,
      "row": 67
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 67,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 80,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_event_loop_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\n\nimport pytest\nimport uvloop\n\nfrom prompt_improver.utils.event_loop_benchmark import run_full_benchmark_suite\nfrom prompt_improver.utils.event_loop_manager import (\n    get_event_loop_manager,\n    setup_uvloop,\n)\nfrom prompt_improver.utils.session_event_loop import (\n    SessionEventLoopWrapper,\n    get_session_manager,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 77,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_event_loop_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.utils.session_event_loop import get_session_manager",
          "end_location": {
            "column": 98,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.utils.session_event_loop.SessionEventLoopWrapper`"
    },
    "location": {
      "column": 54,
      "row": 18
    },
    "message": "`prompt_improver.utils.session_event_loop.SessionEventLoopWrapper` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F821",
    "end_location": {
      "column": 86,
      "row": 134
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_event_loop_integration.py",
    "fix": null,
    "location": {
      "column": 79,
      "row": 134
    },
    "message": "Undefined name `wrapper`",
    "noqa_row": 134,
    "url": "https://docs.astral.sh/ruff/rules/undefined-name"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 29,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom pathlib import Path\nimport sys\nimport tempfile\n\nfrom rich.console import Console\nfrom rich.table import Table\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 37,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": null,
    "location": {
      "column": 11,
      "row": 24
    },
    "message": "`test_phase2_implementation` is too complex (13 > 10)",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 67
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 67
          },
          "location": {
            "column": 9,
            "row": 67
          }
        }
      ],
      "message": "Remove assignment to unused variable `migration_manager`"
    },
    "location": {
      "column": 9,
      "row": 67
    },
    "message": "Local variable `migration_manager` is assigned to but never used",
    "noqa_row": 67,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 76
          },
          "location": {
            "column": 1,
            "row": 70
          }
        }
      ],
      "message": "Remove assignment to unused variable `backup_results`"
    },
    "location": {
      "column": 9,
      "row": 70
    },
    "message": "Local variable `backup_results` is assigned to but never used",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 25,
      "row": 79
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 28,
            "row": 79
          },
          "location": {
            "column": 13,
            "row": 79
          }
        }
      ],
      "message": "Remove assignment to unused variable `test_package`"
    },
    "location": {
      "column": 13,
      "row": 79
    },
    "message": "Local variable `test_package` is assigned to but never used",
    "noqa_row": 79,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 107
          },
          "location": {
            "column": 9,
            "row": 107
          }
        }
      ],
      "message": "Remove assignment to unused variable `config_valid`"
    },
    "location": {
      "column": 9,
      "row": 107
    },
    "message": "Local variable `config_valid` is assigned to but never used",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 14,
      "row": 158
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 17,
            "row": 158
          },
          "location": {
            "column": 9,
            "row": 158
          }
        }
      ],
      "message": "Remove assignment to unused variable `stats`"
    },
    "location": {
      "column": 9,
      "row": 158
    },
    "message": "Local variable `stats` is assigned to but never used",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_implementation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 162
          },
          "location": {
            "column": 1,
            "row": 161
          }
        }
      ],
      "message": "Remove assignment to unused variable `expected_patterns`"
    },
    "location": {
      "column": 9,
      "row": 161
    },
    "message": "Local variable `expected_patterns` is assigned to but never used",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 10,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import os\nimport random\nimport sys\nfrom typing import Any, Dict, List\n\nimport numpy as np\nimport pytest\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 76,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.analysis.linguistic_analyzer import LinguisticAnalyzer\nfrom prompt_improver.learning.context_learner import (\n    ContextConfig,\n    ContextSpecificLearner,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 76,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.analysis.linguistic_analyzer.LinguisticAnalyzer`"
    },
    "location": {
      "column": 58,
      "row": 18
    },
    "message": "`prompt_improver.analysis.linguistic_analyzer.LinguisticAnalyzer` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 37,
            "row": 29
          },
          "location": {
            "column": 33,
            "row": 29
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 33,
      "row": 29
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 42,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 42,
            "row": 29
          },
          "location": {
            "column": 38,
            "row": 29
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 38,
      "row": 29
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 24,
      "row": 190
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 27,
            "row": 190
          },
          "location": {
            "column": 9,
            "row": 190
          }
        }
      ],
      "message": "Remove assignment to unused variable `cached_features`"
    },
    "location": {
      "column": 9,
      "row": 190
    },
    "message": "Local variable `cached_features` is assigned to but never used",
    "noqa_row": 190,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "E741",
    "end_location": {
      "column": 48,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": null,
    "location": {
      "column": 47,
      "row": 326
    },
    "message": "Ambiguous variable name: `l`",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/ambiguous-variable-name"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 84,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_linguistic_ml_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 83,
            "row": 326
          },
          "location": {
            "column": 83,
            "row": 326
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 52,
      "row": 326
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 14,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_flow.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nimport json\nimport subprocess\nimport sys\nimport time\nfrom typing import Any, AsyncGenerator\nfrom unittest.mock import AsyncMock, patch\n\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_flow.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any\nfrom collections.abc import AsyncGenerator",
          "end_location": {
            "column": 39,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import from `collections.abc` instead: `AsyncGenerator`",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 64,
      "row": 71
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_flow.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "(TimeoutError, json.JSONDecodeError)",
          "end_location": {
            "column": 64,
            "row": 71
          },
          "location": {
            "column": 20,
            "row": 71
          }
        }
      ],
      "message": "Replace with builtin `TimeoutError`"
    },
    "location": {
      "column": 20,
      "row": 71
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 71,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "S603",
    "end_location": {
      "column": 31,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_flow.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 123
    },
    "message": "`subprocess` call: check for execution of untrusted input",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/subprocess-without-shell-equals-true"
  },
  {
    "cell": null,
    "code": "UP041",
    "end_location": {
      "column": 36,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_flow.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "TimeoutError",
          "end_location": {
            "column": 36,
            "row": 152
          },
          "location": {
            "column": 16,
            "row": 152
          }
        }
      ],
      "message": "Replace `asyncio.TimeoutError` with builtin `TimeoutError`"
    },
    "location": {
      "column": 16,
      "row": 152
    },
    "message": "Replace aliased errors with `TimeoutError`",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/timeout-error-alias"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 28,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport random\nfrom unittest.mock import AsyncMock, patch\nimport uuid\n\nfrom hypothesis import (\n    HealthCheck,\n    given,\n    settings,\n    strategies as st,\n)\nimport pytest\nfrom sqlalchemy.exc import IntegrityError\nfrom sqlmodel import select\n\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 107
          },
          "location": {
            "column": 17,
            "row": 107
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 107
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 72,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 46,
      "row": 165
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 165,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 62,
      "row": 199
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "stored_rule.default_parameters[\"test\"]",
          "end_location": {
            "column": 62,
            "row": 199
          },
          "location": {
            "column": 16,
            "row": 199
          }
        }
      ],
      "message": "Replace with `stored_rule.default_parameters[\"test\"]`"
    },
    "location": {
      "column": 16,
      "row": 199
    },
    "message": "Avoid equality comparisons to `True`; use `stored_rule.default_parameters[\"test\"]:` for truth checks",
    "noqa_row": 199,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 71,
      "row": 209
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 45,
      "row": 209
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 60,
      "row": 388
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 32,
      "row": 388
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 388,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 70,
      "row": 415
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 42,
      "row": 415
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 415,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 65,
      "row": 441
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 37,
      "row": 441
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 441,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 77,
      "row": 474
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 49,
      "row": 474
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 474,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 79,
      "row": 521
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 51,
      "row": 521
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 521,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 73,
      "row": 552
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 45,
      "row": 552
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 96,
      "row": 576
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from prompt_improver.database.models import (\n            ABExperiment,\n            RulePerformance,\n            UserFeedback,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 577
          },
          "location": {
            "column": 1,
            "row": 576
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 576
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 576,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 75,
      "row": 583
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 47,
      "row": 583
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 583,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "S311",
    "end_location": {
      "column": 82,
      "row": 605
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": null,
    "location": {
      "column": 54,
      "row": 605
    },
    "message": "Standard pseudo-random generators are not suitable for cryptographic purposes",
    "noqa_row": 605,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-non-cryptographic-random-usage"
  },
  {
    "cell": null,
    "code": "B011",
    "end_location": {
      "column": 25,
      "row": 654
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "raise AssertionError(\"Expected IntegrityError but none was raised\")",
          "end_location": {
            "column": 72,
            "row": 654
          },
          "location": {
            "column": 13,
            "row": 654
          }
        }
      ],
      "message": "Replace `assert False`"
    },
    "location": {
      "column": 20,
      "row": 654
    },
    "message": "Do not `assert False` (`python -O` removes these calls), raise `AssertionError()`",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/assert-false"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 34,
      "row": 797
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_mcp_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 34,
            "row": 797
          },
          "location": {
            "column": 29,
            "row": 797
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 33,
      "row": 797
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 797,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport os\nimport statistics\nimport sys\nimport time\nfrom typing import Any, Dict, List\nfrom unittest.mock import AsyncMock, patch\n\nfrom hypothesis import (\n    given,\n    strategies as st,\n)\nimport pytest\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any",
          "end_location": {
            "column": 35,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 13
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any",
          "end_location": {
            "column": 35,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 13
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 14
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 14
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 53,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": null,
    "location": {
      "column": 42,
      "row": 27
    },
    "message": "`prompt_improver.database.get_session` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 80
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 80
          },
          "location": {
            "column": 17,
            "row": 80
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 80
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 80,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 133
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 133
          },
          "location": {
            "column": 17,
            "row": 133
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 133
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 133,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 189
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_performance.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 189
          },
          "location": {
            "column": 17,
            "row": 189
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 189
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 189,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom scipy import stats\n\nfrom src.prompt_improver.evaluation.statistical_analyzer import (\n    DescriptiveStats,\n    StatisticalAnalyzer,\n    StatisticalConfig,\n)\nfrom src.prompt_improver.learning.failure_analyzer import (\n    EdgeCase,\n    FailureConfig,\n    FailureModeAnalyzer,\n    FailurePattern,\n    FailureRecommendation,\n    RootCause,\n    SystematicIssue,\n)\nfrom src.prompt_improver.optimization.optimization_validator import (\n    OptimizationValidator,\n    ValidationConfig,\n)\nfrom src.prompt_improver.services.ab_testing import ABTestingService, ExperimentResult\n\n\n",
          "end_location": {
            "column": 1,
            "row": 54
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 23
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 23
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 23
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 26
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 28
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 28
    },
    "message": "`json` imported but unused",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 21,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.evaluation.statistical_analyzer import (\n    StatisticalAnalyzer, \n    StatisticalConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats`"
    },
    "location": {
      "column": 5,
      "row": 33
    },
    "message": "`src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats` imported but unused",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 42
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.FailurePattern` imported but unused",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 43
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.RootCause` imported but unused",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 13,
      "row": 44
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 44
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.EdgeCase` imported but unused",
    "noqa_row": 44,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 45
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 45
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.SystematicIssue` imported but unused",
    "noqa_row": 45,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 26,
      "row": 46
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 47
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 46
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.FailureRecommendation` imported but unused",
    "noqa_row": 46,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 54,
      "row": 272
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": null,
    "location": {
      "column": 15,
      "row": 272
    },
    "message": "`test_end_to_end_ml_enhancement_workflow` is too complex (17 > 10)",
    "noqa_row": 272,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 19,
      "row": 299
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_metric",
          "end_location": {
            "column": 19,
            "row": 299
          },
          "location": {
            "column": 13,
            "row": 299
          }
        }
      ],
      "message": "Rename unused `metric` to `_metric`"
    },
    "location": {
      "column": 13,
      "row": 299
    },
    "message": "Loop control variable `metric` not used within loop body",
    "noqa_row": 299,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 45,
      "row": 299
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "ci_info",
          "end_location": {
            "column": 28,
            "row": 299
          },
          "location": {
            "column": 13,
            "row": 299
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 45,
            "row": 299
          },
          "location": {
            "column": 40,
            "row": 299
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 32,
      "row": 299
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 299,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 61,
      "row": 369
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 60,
            "row": 369
          },
          "location": {
            "column": 48,
            "row": 369
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 24,
      "row": 369
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 369,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 492
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 492
          },
          "location": {
            "column": 9,
            "row": 492
          }
        }
      ],
      "message": "Remove assignment to unused variable `statistical_results`"
    },
    "location": {
      "column": 9,
      "row": 492
    },
    "message": "Local variable `statistical_results` is assigned to but never used",
    "noqa_row": 492,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 32,
      "row": 679
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 35,
            "row": 679
          },
          "location": {
            "column": 9,
            "row": 679
          }
        }
      ],
      "message": "Remove assignment to unused variable `strict_failure_analyzer`"
    },
    "location": {
      "column": 9,
      "row": 679
    },
    "message": "Local variable `strict_failure_analyzer` is assigned to but never used",
    "noqa_row": 679,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 691
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 691
          },
          "location": {
            "column": 9,
            "row": 691
          }
        }
      ],
      "message": "Remove assignment to unused variable `stat_results`"
    },
    "location": {
      "column": 9,
      "row": 691
    },
    "message": "Local variable `stat_results` is assigned to but never used",
    "noqa_row": 691,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 723
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_phase1_cross_component_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import os\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 724
          },
          "location": {
            "column": 1,
            "row": 722
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 722
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 722,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom pathlib import Path\nimport tempfile\nfrom unittest.mock import MagicMock, patch\n\nimport mlflow\nimport mlflow.sklearn\nimport numpy as np\nimport pytest\nfrom sklearn.datasets import make_classification\nfrom sklearn.ensemble import RandomForestClassifier\n\nfrom prompt_improver.services.production_model_registry import (\n    DeploymentStrategy,\n    ModelAlias,\n    ModelDeploymentConfig,\n    ModelMetrics,\n    ProductionModelRegistry,\n    get_production_registry,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 11
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 12
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_production_model_registry.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 12
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 11,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import sys\nfrom unittest.mock import MagicMock, patch\n\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 11,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `sys`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`sys` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 27
          },
          "location": {
            "column": 13,
            "row": 27
          }
        }
      ],
      "message": "Remove assignment to unused variable `counter`"
    },
    "location": {
      "column": 13,
      "row": 27
    },
    "message": "Local variable `counter` is assigned to but never used",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 101,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from prompt_improver.learning.failure_analyzer import (\n                FailureConfig,\n                FailureModeAnalyzer,\n            )\n",
          "end_location": {
            "column": 1,
            "row": 77
          },
          "location": {
            "column": 1,
            "row": 76
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 76
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 66,
      "row": 105
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            import importlib\n\n            from prompt_improver.learning import failure_analyzer\n",
          "end_location": {
            "column": 1,
            "row": 106
          },
          "location": {
            "column": 1,
            "row": 104
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 104
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 104,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 96,
      "row": 112
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_prometheus_counter_instantiation.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 111
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 111,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 31,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, Mock, patch\n\nfrom pydantic import BaseModel\nimport pytest\n\nfrom src.prompt_improver.database.config import DatabaseConfig\nfrom src.prompt_improver.database.error_handling import (\n    CircuitBreakerConfig,\n    CircuitBreakerState,\n    DatabaseErrorClassifier,\n    ErrorCategory,\n    ErrorMetrics,\n    ErrorSeverity,\n    RetryConfig,\n)\nfrom src.prompt_improver.database.psycopg_client import TypeSafePsycopgClient\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 60,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import Mock, AsyncMock, patch",
          "end_location": {
            "column": 60,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 51,
      "row": 9
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 10
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.database.error_handling import (\n    RetryConfig, CircuitBreakerConfig, ErrorCategory, ErrorSeverity,\n    DatabaseErrorClassifier, CircuitBreakerState\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.database.error_handling.ErrorMetrics`"
    },
    "location": {
      "column": 30,
      "row": 16
    },
    "message": "`src.prompt_improver.database.error_handling.ErrorMetrics` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 238
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 238
          },
          "location": {
            "column": 17,
            "row": 238
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 238
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 238,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 77,
      "row": 335
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 76,
            "row": 335
          },
          "location": {
            "column": 64,
            "row": 335
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 335
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 335,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 25,
      "row": 381
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 378
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 378,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 25,
      "row": 381
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 380
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 380,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "S608",
    "end_location": {
      "column": 57,
      "row": 430
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_error_handling_integration.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 430
    },
    "message": "Possible SQL injection vector through string-based query construction",
    "noqa_row": 430,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-sql-expression"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nimport logging\nimport time\nfrom typing import Any, AsyncGenerator, Dict\n\n# PostgreSQL and psycopg imports\nimport psycopg\nfrom psycopg import errors as psycopg_errors\nfrom psycopg_pool import AsyncConnectionPool\nimport pytest\n\n# Test container imports\nimport testcontainers.postgres\nfrom testcontainers.postgres import PostgresContainer\n\nfrom src.prompt_improver.database.error_handling import (\n    CircuitBreaker,\n    CircuitBreakerConfig,\n    DatabaseErrorClassifier,\n    ErrorCategory,\n    ErrorContext,\n    ErrorMetrics,\n    ErrorSeverity,\n    RetryConfig,\n    RetryManager,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 35
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 13
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `contextlib.asynccontextmanager`"
    },
    "location": {
      "column": 24,
      "row": 17
    },
    "message": "`contextlib.asynccontextmanager` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict\nfrom collections.abc import AsyncGenerator",
          "end_location": {
            "column": 45,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Import from `collections.abc` instead: `AsyncGenerator`",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any",
          "end_location": {
            "column": 45,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 18
    },
    "message": "`typing.AsyncGenerator` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any",
          "end_location": {
            "column": 45,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 41,
      "row": 18
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `testcontainers.postgres`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`testcontainers.postgres` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 41,
      "row": 87
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "    async with postgres_pool.connection() as conn, conn.cursor() as cur:\n        # Create test tables for various error scenarios\n        await cur.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS test_users (\n                    id SERIAL PRIMARY KEY,\n                    email VARCHAR(255) UNIQUE NOT NULL,\n                    name VARCHAR(100) NOT NULL\n                );\n                \n                CREATE TABLE IF NOT EXISTS test_orders (\n                    id SERIAL PRIMARY KEY,\n                    user_id INTEGER REFERENCES test_users(id),\n                    amount DECIMAL(10,2) NOT NULL CHECK (amount > 0),\n                    status VARCHAR(20) DEFAULT 'pending'\n                );\n                \n                CREATE TABLE IF NOT EXISTS test_locks (\n                    id SERIAL PRIMARY KEY,\n                    resource_name VARCHAR(100) UNIQUE NOT NULL,\n                    locked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n                );\n            \"\"\")\n        await conn.commit()",
          "end_location": {
            "column": 32,
            "row": 109
          },
          "location": {
            "column": 1,
            "row": 86
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 5,
      "row": 86
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 41,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "    async with postgres_pool.connection() as conn, conn.cursor() as cur:\n        await cur.execute(\"DROP TABLE IF EXISTS test_orders CASCADE;\")\n        await cur.execute(\"DROP TABLE IF EXISTS test_users CASCADE;\")\n        await cur.execute(\"DROP TABLE IF EXISTS test_locks CASCADE;\")\n        await conn.commit()",
          "end_location": {
            "column": 32,
            "row": 119
          },
          "location": {
            "column": 1,
            "row": 114
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 5,
      "row": 114
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 114,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 143
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            # Insert a user\n            await cur.execute(\n                \"INSERT INTO test_users (email, name) VALUES (%s, %s)\",\n                (\"test@example.com\", \"Test User\")\n            )\n            await conn.commit()\n            \n            # Try to insert the same email again\n            try:\n                await cur.execute(\n                    \"INSERT INTO test_users (email, name) VALUES (%s, %s)\",\n                    (\"test@example.com\", \"Another User\")\n                )\n                await conn.commit()\n            except Exception as e:\n                await conn.rollback()\n                return e",
          "end_location": {
            "column": 29,
            "row": 160
          },
          "location": {
            "column": 1,
            "row": 142
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 142
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 165
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            try:\n                # Try to insert order with non-existent user_id\n                await cur.execute(\n                    \"INSERT INTO test_orders (user_id, amount) VALUES (%s, %s)\",\n                    (99999, 100.00)\n                )\n                await conn.commit()\n            except Exception as e:\n                await conn.rollback()\n                return e",
          "end_location": {
            "column": 29,
            "row": 175
          },
          "location": {
            "column": 1,
            "row": 164
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 164
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 164,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 180
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            try:\n                # Try to insert negative amount (violates CHECK constraint)\n                await cur.execute(\n                    \"INSERT INTO test_users (email, name) VALUES (%s, %s) RETURNING id\",\n                    (\"valid@example.com\", \"Valid User\")\n                )\n                user_id = (await cur.fetchone())[0]\n                \n                await cur.execute(\n                    \"INSERT INTO test_orders (user_id, amount) VALUES (%s, %s)\",\n                    (user_id, -50.00)\n                )\n                await conn.commit()\n            except Exception as e:\n                await conn.rollback()\n                return e",
          "end_location": {
            "column": 29,
            "row": 196
          },
          "location": {
            "column": 1,
            "row": 179
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 179
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 179,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 201
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            try:\n                await cur.execute(\"INVALID SQL SYNTAX HERE\")\n            except Exception as e:\n                return e",
          "end_location": {
            "column": 29,
            "row": 205
          },
          "location": {
            "column": 1,
            "row": 200
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 200
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 23,
      "row": 234
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 234
    },
    "message": "Do not use bare `except`",
    "noqa_row": 234,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 25,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 234
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 234,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 240
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            try:\n                # Set a very short statement timeout\n                await cur.execute(\"SET statement_timeout = '100ms'\")\n                \n                # Execute a long-running query\n                await cur.execute(\"SELECT pg_sleep(1)\")\n            except Exception as e:\n                return e",
          "end_location": {
            "column": 29,
            "row": 248
          },
          "location": {
            "column": 1,
            "row": 239
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 239
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 239,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 45,
      "row": 253
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        async with self.pool.connection() as conn, conn.cursor() as cur:\n            try:\n                # Try to create a huge table that might cause resource issues\n                await cur.execute(\"\"\"\n                        CREATE TEMP TABLE huge_table AS \n                        SELECT generate_series(1, 10000000) as id, \n                               md5(random()::text) as data\n                    \"\"\")\n            except Exception as e:\n                return e",
          "end_location": {
            "column": 29,
            "row": 262
          },
          "location": {
            "column": 1,
            "row": 252
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 252
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 252,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from contextlib import asynccontextmanager, suppress",
          "end_location": {
            "column": 43,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 17
          }
        },
        {
          "content": "with suppress(Exception)",
          "end_location": {
            "column": 12,
            "row": 408
          },
          "location": {
            "column": 9,
            "row": 408
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 412
          },
          "location": {
            "column": 1,
            "row": 410
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(Exception)`"
    },
    "location": {
      "column": 9,
      "row": 408
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 408,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 17,
      "row": 411
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 410
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 410,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 13,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 421
    },
    "message": "Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`",
    "noqa_row": 421,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 13,
      "row": 424
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 5,
      "row": 423
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 423,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 49,
      "row": 481
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 480
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 480,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 41,
      "row": 509
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "    async with postgres_pool.connection() as conn, conn.cursor() as cur:\n        await cur.execute(\"SELECT COUNT(*) FROM test_users\")\n        count = (await cur.fetchone())[0]\n        assert count >= 1",
          "end_location": {
            "column": 30,
            "row": 512
          },
          "location": {
            "column": 1,
            "row": 508
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 5,
      "row": 508
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 508,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 49,
      "row": 558
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_psycopg_real_error_behavior.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 557
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 557,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 72,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import AsyncMock, Mock, patch\n\nimport pytest\n\nfrom prompt_improver.optimization.batch_processor import BatchProcessor\nfrom prompt_improver.services.health import HealthStatus, get_health_service\nfrom prompt_improver.services.health.checkers import QueueHealthChecker\n\n\n",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import Mock, patch",
          "end_location": {
            "column": 49,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.AsyncMock`"
    },
    "location": {
      "column": 33,
      "row": 8
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 74
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 74
          },
          "location": {
            "column": 9,
            "row": 74
          }
        }
      ],
      "message": "Remove assignment to unused variable `queue_checker`"
    },
    "location": {
      "column": 9,
      "row": 74
    },
    "message": "Local variable `queue_checker` is assigned to but never used",
    "noqa_row": 74,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 71,
      "row": 158
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 159
          },
          "location": {
            "column": 1,
            "row": 158
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.services.health.get_health_service`"
    },
    "location": {
      "column": 53,
      "row": 158
    },
    "message": "`prompt_improver.services.health.get_health_service` imported but unused",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F811",
    "end_location": {
      "column": 26,
      "row": 250
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_queue_health_integration.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 250
    },
    "message": "Redefinition of unused `mock_task_manager` from line 39",
    "noqa_row": 250,
    "url": "https://docs.astral.sh/ruff/rules/redefined-while-unused"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 78,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nfrom typing import Any, Dict\nfrom unittest.mock import Mock, patch\n\nfrom fastapi.testclient import TestClient\nimport pytest\nimport redis.asyncio as redis\nfrom sqlalchemy.ext.asyncio import AsyncSession\nimport websockets\n\nfrom src.prompt_improver.database.models import ABExperiment, RulePerformance\nfrom src.prompt_improver.services.real_time_analytics import (\n    AlertType,\n    RealTimeAnalyticsService,\n    RealTimeMetrics,\n)\nfrom src.prompt_improver.utils.websocket_manager import ConnectionManager\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 10
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 10
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `websockets`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`websockets` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 36,
      "row": 291
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from fastapi import FastAPI\n\n        from src.prompt_improver.api.real_time_endpoints import real_time_router\n",
          "end_location": {
            "column": 1,
            "row": 292
          },
          "location": {
            "column": 1,
            "row": 290
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 290
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 290,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "E722",
    "end_location": {
      "column": 15,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 401
    },
    "message": "Do not use bare `except`",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/bare-except"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 90,
      "row": 415
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_real_time_analytics.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from src.prompt_improver.utils.websocket_manager import (\n            publish_experiment_update,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 416
          },
          "location": {
            "column": 1,
            "row": 415
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 415
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 415,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 20,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_service_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 20,
            "row": 82
          },
          "location": {
            "column": 13,
            "row": 82
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 13,
      "row": 82
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 50,
      "row": 82
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_service_integration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "score",
          "end_location": {
            "column": 27,
            "row": 82
          },
          "location": {
            "column": 13,
            "row": 82
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 50,
            "row": 82
          },
          "location": {
            "column": 45,
            "row": 82
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 31,
      "row": 82
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 82,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 72,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom contextlib import asynccontextmanager\nimport logging\nimport os\nimport signal\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\nfrom prompt_improver.optimization.batch_processor import BatchProcessor\nfrom prompt_improver.services.startup import (\n    get_startup_task_count,\n    init_startup_tasks,\n    is_startup_complete,\n    shutdown_startup_tasks,\n    startup_context,\n)\nfrom prompt_improver.utils.session_store import SessionStore\n\n\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`logging` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `signal`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`signal` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `os`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`os` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 14
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 14
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `contextlib.asynccontextmanager`"
    },
    "location": {
      "column": 24,
      "row": 15
    },
    "message": "`contextlib.asynccontextmanager` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 61,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.utils.session_store.SessionStore`"
    },
    "location": {
      "column": 49,
      "row": 24
    },
    "message": "`prompt_improver.utils.session_store.SessionStore` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 72,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.optimization.batch_processor.BatchProcessor`"
    },
    "location": {
      "column": 58,
      "row": 25
    },
    "message": "`prompt_improver.optimization.batch_processor.BatchProcessor` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 138
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 138
          },
          "location": {
            "column": 13,
            "row": 138
          }
        }
      ],
      "message": "Remove assignment to unused variable `shutdown_result`"
    },
    "location": {
      "column": 13,
      "row": 138
    },
    "message": "Local variable `shutdown_result` is assigned to but never used",
    "noqa_row": 138,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 31,
      "row": 187
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 188
          },
          "location": {
            "column": 1,
            "row": 187
          }
        }
      ],
      "message": "Remove assignment to unused variable `startup_components`"
    },
    "location": {
      "column": 13,
      "row": 187
    },
    "message": "Local variable `startup_components` is assigned to but never used",
    "noqa_row": 187,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM105",
    "end_location": {
      "column": 17,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "from contextlib import asynccontextmanager, suppress",
          "end_location": {
            "column": 43,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        },
        {
          "content": "with suppress(asyncio.CancelledError)",
          "end_location": {
            "column": 12,
            "row": 234
          },
          "location": {
            "column": 9,
            "row": 234
          }
        },
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 238
          },
          "location": {
            "column": 1,
            "row": 236
          }
        }
      ],
      "message": "Replace with `contextlib.suppress(asyncio.CancelledError)`"
    },
    "location": {
      "column": 9,
      "row": 234
    },
    "message": "Use `contextlib.suppress(asyncio.CancelledError)` instead of `try`-`except`-`pass`",
    "noqa_row": 234,
    "url": "https://docs.astral.sh/ruff/rules/suppressible-exception"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 254
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 254
          },
          "location": {
            "column": 9,
            "row": 254
          }
        }
      ],
      "message": "Remove assignment to unused variable `session_size_before`"
    },
    "location": {
      "column": 9,
      "row": 254
    },
    "message": "Local variable `session_size_before` is assigned to but never used",
    "noqa_row": 254,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 255
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 255
          },
          "location": {
            "column": 9,
            "row": 255
          }
        }
      ],
      "message": "Remove assignment to unused variable `queue_size_before`"
    },
    "location": {
      "column": 9,
      "row": 255
    },
    "message": "Local variable `queue_size_before` is assigned to but never used",
    "noqa_row": 255,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 555
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_shutdown_sequence.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 555
          },
          "location": {
            "column": 13,
            "row": 555
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 555
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 555,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_startup_orchestration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport logging\nfrom unittest.mock import AsyncMock, MagicMock\n\nimport pytest\n\nfrom prompt_improver.services.startup import (\n    get_startup_task_count,\n    init_startup_tasks,\n    is_startup_complete,\n    shutdown_startup_tasks,\n    startup_context,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 3
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_startup_orchestration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 4
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 3
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_startup_orchestration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 6
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_startup_orchestration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 6
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 54,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_startup_orchestration.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "batch_processor.config.dry_run",
          "end_location": {
            "column": 54,
            "row": 152
          },
          "location": {
            "column": 16,
            "row": 152
          }
        }
      ],
      "message": "Replace with `batch_processor.config.dry_run`"
    },
    "location": {
      "column": 16,
      "row": 152
    },
    "message": "Avoid equality comparisons to `True`; use `batch_processor.config.dry_run:` for truth checks",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom scipy import stats\n\nfrom src.prompt_improver.evaluation.statistical_analyzer import (\n    DescriptiveStats,\n    StatisticalAnalyzer,\n    StatisticalConfig,\n)\nfrom src.prompt_improver.services.ab_testing import ABTestingService, ExperimentResult\n\n\n",
          "end_location": {
            "column": 1,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 18
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 18
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 18
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 21,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.evaluation.statistical_analyzer import (\n    StatisticalAnalyzer, \n    StatisticalConfig\n)",
          "end_location": {
            "column": 2,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats`"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "`src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 61,
      "row": 324
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 60,
            "row": 324
          },
          "location": {
            "column": 60,
            "row": 324
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 34,
      "row": 324
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 324,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/integration/test_statistical_analyzer_ab_testing_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import os\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 365
          },
          "location": {
            "column": 1,
            "row": 363
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 363
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 85,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/mcp_server/test_health.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\nfrom typing import Any, Dict\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\n# Import the health functions and related components\nfrom prompt_improver.mcp_server.mcp_server import (\n    _store_prompt_data,\n    get_training_queue_size,\n    health_live,\n    health_ready,\n)\nfrom prompt_improver.optimization.batch_processor import BatchProcessor\nfrom prompt_improver.services.health.background_manager import BackgroundTaskManager\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/mcp_server/test_health.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 14
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/mcp_server/test_health.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 14
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/mcp_server/test_health.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 14
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 77,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/mcp_server/test_health.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 76,
            "row": 51
          },
          "location": {
            "column": 64,
            "row": 51
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 51
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 88,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/performance/test_response_time.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport logging\nimport time\n\nimport pytest\n\nfrom prompt_improver.optimization.batch_processor import (\n    BatchProcessor,\n    BatchProcessorConfig,\n)\nfrom prompt_improver.services.startup import init_startup_tasks, shutdown_startup_tasks\nfrom prompt_improver.utils.session_store import SessionStore\n\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/performance/test_response_time.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`logging` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/performance/test_response_time.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 100
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 100,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 36,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom io import StringIO\nimport json\nimport os\nfrom pathlib import Path\nimport sys\nimport tempfile\nimport time\nfrom unittest.mock import MagicMock, patch\n\nimport pytest\nfrom typer.testing import CliRunner\n\nfrom prompt_improver.cli import app\n\n\n",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 8
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 9
    },
    "message": "`json` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 10,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `os`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`os` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 11,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `sys`"
    },
    "location": {
      "column": 8,
      "row": 11
    },
    "message": "`sys` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 43,
            "row": 16
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 27,
      "row": 16
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 137
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 137
          },
          "location": {
            "column": 13,
            "row": 137
          }
        }
      ],
      "message": "Remove assignment to unused variable `captured`"
    },
    "location": {
      "column": 13,
      "row": 137
    },
    "message": "Local variable `captured` is assigned to but never used",
    "noqa_row": 137,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 263
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/regression/test_cli_commands.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 263
          },
          "location": {
            "column": 17,
            "row": 263
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 263
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 263,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 81,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import json\nimport os\nimport time\n\nimport pytest\n\nfrom prompt_improver.rule_engine.base import BasePromptRule\nfrom prompt_improver.services.prompt_improvement import PromptImprovementService\n\n",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP015",
    "end_location": {
      "column": 28,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 28,
            "row": 10
          },
          "location": {
            "column": 23,
            "row": 10
          }
        }
      ],
      "message": "Remove mode argument"
    },
    "location": {
      "column": 25,
      "row": 10
    },
    "message": "Unnecessary mode argument",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/redundant-open-modes"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 20,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 23,
            "row": 22
          },
          "location": {
            "column": 5,
            "row": 22
          }
        }
      ],
      "message": "Remove assignment to unused variable `expected_issues`"
    },
    "location": {
      "column": 5,
      "row": 22
    },
    "message": "Local variable `expected_issues` is assigned to but never used",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "E731",
    "end_location": {
      "column": 224,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "def pytest_configure(config):\n    return open(f\"reports/rule_effectiveness_{time.strftime('%Y%m%d')}.html\", 'w').write('<table><th>ID</th><th>Category</th><th>Description</th><th>Δ Clarity</th><th>Δ Specificity</th><th>Time</th>')",
          "end_location": {
            "column": 224,
            "row": 69
          },
          "location": {
            "column": 1,
            "row": 69
          }
        }
      ],
      "message": "Rewrite `pytest_configure` as a `def`"
    },
    "location": {
      "column": 1,
      "row": 69
    },
    "message": "Do not assign a `lambda` expression, use a `def`",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/lambda-assignment"
  },
  {
    "cell": null,
    "code": "SIM115",
    "end_location": {
      "column": 39,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": null,
    "location": {
      "column": 35,
      "row": 69
    },
    "message": "Use a context manager for opening files",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/open-file-with-context-handler"
  },
  {
    "cell": null,
    "code": "E731",
    "end_location": {
      "column": 126,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "def pytest_unconfigure(config):\n    return open(f\"reports/rule_effectiveness_{time.strftime('%Y%m%d')}.html\", 'a').write('</table>')",
          "end_location": {
            "column": 126,
            "row": 72
          },
          "location": {
            "column": 1,
            "row": 72
          }
        }
      ],
      "message": "Rewrite `pytest_unconfigure` as a `def`"
    },
    "location": {
      "column": 1,
      "row": 72
    },
    "message": "Do not assign a `lambda` expression, use a `def`",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/lambda-assignment"
  },
  {
    "cell": null,
    "code": "SIM115",
    "end_location": {
      "column": 41,
      "row": 72
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/rules/test_rule_effectiveness.py",
    "fix": null,
    "location": {
      "column": 37,
      "row": 72
    },
    "message": "Use a context manager for opening files",
    "noqa_row": 72,
    "url": "https://docs.astral.sh/ruff/rules/open-file-with-context-handler"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 89,
      "row": 4
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import pytest\n\nfrom prompt_improver.learning.failure_analyzer import FailureConfig, FailureModeAnalyzer\n\n\n",
          "end_location": {
            "column": 1,
            "row": 7
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 3
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 4
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Remove unused import: `pytest`"
    },
    "location": {
      "column": 8,
      "row": 3
    },
    "message": "`pytest` imported but unused",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 44,
      "row": 44
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from sklearn.covariance import EllipticEnvelope\n        from sklearn.ensemble import IsolationForest\n        from sklearn.svm import OneClassSVM\n",
          "end_location": {
            "column": 1,
            "row": 45
          },
          "location": {
            "column": 1,
            "row": 42
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 42
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 53,
      "row": 42
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": null,
    "location": {
      "column": 38,
      "row": 42
    },
    "message": "`sklearn.ensemble.IsolationForest` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 56,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": null,
    "location": {
      "column": 40,
      "row": 43
    },
    "message": "`sklearn.covariance.EllipticEnvelope` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 43,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 44,
      "row": 44
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": null,
    "location": {
      "column": 33,
      "row": 44
    },
    "message": "`sklearn.svm.OneClassSVM` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 44,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 53,
      "row": 69
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_anomaly_detectors_init.py",
    "fix": null,
    "location": {
      "column": 38,
      "row": 69
    },
    "message": "`sklearn.ensemble.IsolationForest` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 69,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 76,
      "row": 2
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_batch_processor.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import pytest\n\nfrom src.prompt_improver.optimization.batch_processor import BatchProcessor\n\n\n",
          "end_location": {
            "column": 1,
            "row": 5
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 107,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_batch_processor_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import AsyncMock, MagicMock\n\nimport pytest\n\nfrom src.prompt_improver.optimization.batch_processor import (\n    BatchProcessor,\n    PriorityQueue,\n    PriorityRecord,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_batch_processor_integration.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import MagicMock",
          "end_location": {
            "column": 47,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.AsyncMock`"
    },
    "location": {
      "column": 27,
      "row": 8
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 93,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_counter_import_verification.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import collections\nfrom collections import Counter\nfrom typing import TYPE_CHECKING\nimport unittest\n\n# Import the module to test\nfrom src.prompt_improver.learning.failure_analyzer import (\n    FailureConfig,\n    FailureModeAnalyzer,\n)\n\n",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 58,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_counter_import_verification.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "pass",
          "end_location": {
            "column": 58,
            "row": 19
          },
          "location": {
            "column": 5,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `collections.Counter`"
    },
    "location": {
      "column": 40,
      "row": 19
    },
    "message": "`collections.Counter` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 66,
      "row": 109
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_counter_import_verification.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import inspect\n\n        from src.prompt_improver.learning import failure_analyzer\n",
          "end_location": {
            "column": 1,
            "row": 110
          },
          "location": {
            "column": 1,
            "row": 108
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 108
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 108,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 66,
      "row": 127
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_counter_import_verification.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import inspect\n\n        from src.prompt_improver.learning import failure_analyzer\n",
          "end_location": {
            "column": 1,
            "row": 128
          },
          "location": {
            "column": 1,
            "row": 126
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 126
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 126,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 81,
      "row": 2
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_intelligent_test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import pytest\n\nfrom src.prompt_improver.services.test_generator import IntelligentTestGenerator\n\n\n",
          "end_location": {
            "column": 1,
            "row": 5
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 1
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 1
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_intelligent_test_generator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 2
          },
          "location": {
            "column": 1,
            "row": 1
          }
        }
      ],
      "message": "Remove unused import: `pytest`"
    },
    "location": {
      "column": 8,
      "row": 1
    },
    "message": "`pytest` imported but unused",
    "noqa_row": 1,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 32,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_no_duplicate_defs.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from collections import Counter\nimport inspect\n\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 25,
      "row": 49
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_no_duplicate_defs.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 50
          },
          "location": {
            "column": 1,
            "row": 49
          }
        }
      ],
      "message": "Remove assignment to unused variable `method_instances`"
    },
    "location": {
      "column": 9,
      "row": 49
    },
    "message": "Local variable `method_instances` is assigned to but never used",
    "noqa_row": 49,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 93,
      "row": 70
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_no_duplicate_defs.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from prompt_improver.learning.failure_analyzer import (\n        FailureConfig,\n        FailureModeAnalyzer,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 71
          },
          "location": {
            "column": 1,
            "row": 70
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 70
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 70,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 55,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_no_duplicate_defs.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 114
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 114,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 55,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/test_no_duplicate_defs.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 115
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.analysis.domain_detector import (\n    DomainClassificationResult,\n    DomainDetector,\n    PromptDomain,\n)\nfrom src.prompt_improver.analysis.domain_feature_extractor import (\n    AcademicDomainExtractor,\n    CreativeDomainExtractor,\n    DomainFeatureExtractor,\n    DomainFeatures,\n    TechnicalDomainExtractor,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `numpy`"
    },
    "location": {
      "column": 17,
      "row": 9
    },
    "message": "`numpy` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 10
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 10
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 10
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_domain_feature_extraction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.analysis.domain_feature_extractor import (\n    DomainFeatureExtractor, TechnicalDomainExtractor, CreativeDomainExtractor, AcademicDomainExtractor\n)",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.analysis.domain_feature_extractor.DomainFeatures`"
    },
    "location": {
      "column": 29,
      "row": 16
    },
    "message": "`src.prompt_improver.analysis.domain_feature_extractor.DomainFeatures` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import MagicMock, patch\n\nimport pytest\n\nfrom prompt_improver.analysis.linguistic_analyzer import (\n    LinguisticAnalyzer,\n    LinguisticConfig,\n    LinguisticFeatures,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 7
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/analysis/test_linguistic_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 7
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 64,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport json\nimport tempfile\nfrom typing import Any, Dict\nimport uuid\n\nimport optuna\nfrom optuna.trial import TrialState\nimport pytest\n\nfrom prompt_improver.automl.callbacks import (\n    AutoMLCallback,\n    ExperimentCallback,\n    ModelSelectionCallback,\n    RealTimeAnalyticsCallback,\n)\nfrom prompt_improver.automl.orchestrator import AutoMLConfig, AutoMLOrchestrator\nfrom prompt_improver.database.connection import DatabaseManager\n\n",
          "end_location": {
            "column": 1,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`json` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `tempfile`"
    },
    "location": {
      "column": 8,
      "row": 14
    },
    "message": "`tempfile` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 16
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 17
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 17
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 90,
      "row": 39
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from prompt_improver.evaluation.experiment_orchestrator import (\n        ExperimentOrchestrator,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 40
          },
          "location": {
            "column": 1,
            "row": 39
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 39
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 39,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 29,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 125
          },
          "location": {
            "column": 1,
            "row": 124
          }
        }
      ],
      "message": "Remove assignment to unused variable `initial_trials_count`"
    },
    "location": {
      "column": 9,
      "row": 124
    },
    "message": "Local variable `initial_trials_count` is assigned to but never used",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 21,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 214
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 214,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "S110",
    "end_location": {
      "column": 21,
      "row": 271
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_callbacks.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 270
    },
    "message": "`try`-`except`-`pass` detected, consider logging the exception",
    "noqa_row": 270,
    "url": "https://docs.astral.sh/ruff/rules/try-except-pass"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 65,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport logging\nfrom pathlib import Path\nimport tempfile\nfrom typing import Any, Dict\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport uuid\n\nimport optuna\nfrom optuna.trial import FixedTrial\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom prompt_improver.automl.orchestrator import (\n    AutoMLConfig,\n    AutoMLMode,\n    AutoMLOrchestrator,\n)\nfrom prompt_improver.database.connection import DatabaseManager\nfrom prompt_improver.services.ab_testing import ABTestingService\n\n",
          "end_location": {
            "column": 1,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 12
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 12
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `logging`"
    },
    "location": {
      "column": 8,
      "row": 13
    },
    "message": "`logging` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 16
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `pathlib.Path`"
    },
    "location": {
      "column": 21,
      "row": 17
    },
    "message": "`pathlib.Path` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 29,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 23,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 18
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 29,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 25,
      "row": 18
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import AsyncMock, MagicMock",
          "end_location": {
            "column": 54,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.patch`"
    },
    "location": {
      "column": 49,
      "row": 19
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `optuna`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`optuna` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `optuna.trial.FixedTrial`"
    },
    "location": {
      "column": 26,
      "row": 23
    },
    "message": "`optuna.trial.FixedTrial` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 48,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `sqlalchemy.ext.asyncio.AsyncSession`"
    },
    "location": {
      "column": 36,
      "row": 24
    },
    "message": "`sqlalchemy.ext.asyncio.AsyncSession` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 90,
      "row": 36
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    from prompt_improver.evaluation.experiment_orchestrator import (\n        ExperimentOrchestrator,\n    )\n",
          "end_location": {
            "column": 1,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 36
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 36
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 36,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 18,
      "row": 583
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/automl/test_automl_orchestrator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        import os\n\n        import psutil\n",
          "end_location": {
            "column": 1,
            "row": 584
          },
          "location": {
            "column": 1,
            "row": 582
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 582
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 582,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 63,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, Mock, patch\n\nimport pytest\n\nfrom src.prompt_improver.database.config import DatabaseConfig\nfrom src.prompt_improver.database.error_handling import (\n    CircuitBreaker,\n    CircuitBreakerConfig,\n    CircuitBreakerState,\n    DatabaseErrorClassifier,\n    ErrorCategory,\n    ErrorContext,\n    ErrorMetrics,\n    ErrorSeverity,\n    RetryConfig,\n    RetryManager,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 7
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 8
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 7
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 8
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 8
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 9
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 42,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 33,
      "row": 9
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 44,
      "row": 9
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 63,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.database.config.DatabaseConfig`"
    },
    "location": {
      "column": 49,
      "row": 16
    },
    "message": "`src.prompt_improver.database.config.DatabaseConfig` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B017",
    "end_location": {
      "column": 42,
      "row": 221
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": null,
    "location": {
      "column": 18,
      "row": 221
    },
    "message": "Do not assert blind exception: `Exception`",
    "noqa_row": 221,
    "url": "https://docs.astral.sh/ruff/rules/assert-raises-exception"
  },
  {
    "cell": null,
    "code": "B017",
    "end_location": {
      "column": 38,
      "row": 237
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/database/test_enhanced_error_handling.py",
    "fix": null,
    "location": {
      "column": 14,
      "row": 237
    },
    "message": "Do not assert blind exception: `Exception`",
    "noqa_row": 237,
    "url": "https://docs.astral.sh/ruff/rules/assert-raises-exception"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nfrom unittest.mock import Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.evaluation.advanced_statistical_validator import (\n    AdvancedStatisticalValidator,\n    AdvancedValidationResult,\n    CorrectionMethod,\n    EffectSizeMagnitude,\n    StatisticalTestResult,\n    quick_validation,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 8
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 9
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 9
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 188
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_test_name",
          "end_location": {
            "column": 22,
            "row": 188
          },
          "location": {
            "column": 13,
            "row": 188
          }
        }
      ],
      "message": "Rename unused `test_name` to `_test_name`"
    },
    "location": {
      "column": 13,
      "row": 188
    },
    "message": "Loop control variable `test_name` not used within loop body",
    "noqa_row": 188,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 60,
      "row": 188
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "test_result",
          "end_location": {
            "column": 35,
            "row": 188
          },
          "location": {
            "column": 13,
            "row": 188
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 60,
            "row": 188
          },
          "location": {
            "column": 55,
            "row": 188
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 188
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 188,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_test_name",
          "end_location": {
            "column": 22,
            "row": 205
          },
          "location": {
            "column": 13,
            "row": 205
          }
        }
      ],
      "message": "Rename unused `test_name` to `_test_name`"
    },
    "location": {
      "column": 13,
      "row": 205
    },
    "message": "Loop control variable `test_name` not used within loop body",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 62,
      "row": 205
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_advanced_statistical_validator.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "test_result",
          "end_location": {
            "column": 35,
            "row": 205
          },
          "location": {
            "column": 13,
            "row": 205
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 62,
            "row": 205
          },
          "location": {
            "column": 57,
            "row": 205
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 205
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 205,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nfrom unittest.mock import Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.evaluation.causal_inference_analyzer import (\n    CausalAssumption,\n    CausalEffect,\n    CausalInferenceAnalyzer,\n    CausalInferenceResult,\n    CausalMethod,\n    TreatmentAssignment,\n    quick_causal_analysis,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 8
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import Mock",
          "end_location": {
            "column": 38,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.patch`"
    },
    "location": {
      "column": 27,
      "row": 9
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 21,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_causal_inference_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.evaluation.causal_inference_analyzer import (\n    CausalInferenceAnalyzer,\n    CausalMethod,\n    TreatmentAssignment,\n    CausalEffect,\n    CausalInferenceResult,\n    quick_causal_analysis\n)",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.evaluation.causal_inference_analyzer.CausalAssumption`"
    },
    "location": {
      "column": 5,
      "row": 15
    },
    "message": "`src.prompt_improver.evaluation.causal_inference_analyzer.CausalAssumption` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime\nfrom unittest.mock import Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.evaluation.pattern_significance_analyzer import (\n    PatternSignificanceAnalyzer,\n    PatternSignificanceReport,\n    PatternTestResult,\n    PatternType,\n    SignificanceMethod,\n    quick_pattern_analysis,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 6
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import: `datetime.datetime`"
    },
    "location": {
      "column": 22,
      "row": 8
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/evaluation/test_pattern_significance_analyzer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import Mock",
          "end_location": {
            "column": 38,
            "row": 9
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.patch`"
    },
    "location": {
      "column": 27,
      "row": 9
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 81,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_aware_weighting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.analysis.domain_detector import (\n    DomainClassificationResult,\n    PromptDomain,\n)\nfrom src.prompt_improver.analysis.domain_feature_extractor import DomainFeatures\nfrom src.prompt_improver.learning.context_aware_weighter import (\n    ContextAwareFeatureWeighter,\n    WeightingConfig,\n    WeightingStrategy,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_aware_weighting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 10
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_aware_weighting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 33,
      "row": 10
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 98,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_aware_weighting.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.analysis.domain_detector import PromptDomain",
          "end_location": {
            "column": 98,
            "row": 15
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.analysis.domain_detector.DomainClassificationResult`"
    },
    "location": {
      "column": 72,
      "row": 15
    },
    "message": "`src.prompt_improver.analysis.domain_detector.DomainClassificationResult` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nfrom typing import Any, Dict, List\nfrom unittest.mock import MagicMock, Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom prompt_improver.learning.context_learner import (\n    ContextConfig,\n    ContextInsight,\n    ContextSpecificLearner,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch, MagicMock",
          "end_location": {
            "column": 49,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.Mock`"
    },
    "location": {
      "column": 27,
      "row": 20
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 21
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 21
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 21
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.learning.context_learner import (\n    ContextSpecificLearner,\n    ContextConfig\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.learning.context_learner.ContextInsight`"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`prompt_improver.learning.context_learner.ContextInsight` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 50,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 124
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 142
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 142
          },
          "location": {
            "column": 17,
            "row": 142
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 142
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 142,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 92,
      "row": 157
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 156
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 156,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 181
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 181
          },
          "location": {
            "column": 17,
            "row": 181
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 181
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 181,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 92,
      "row": 195
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 194
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 194,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 50,
      "row": 332
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 331
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 331,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 353
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 353
          },
          "location": {
            "column": 17,
            "row": 353
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 353
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 353,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 92,
      "row": 378
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 377
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 377,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 92,
      "row": 502
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 501
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 501,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 54,
      "row": 555
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_clustering.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | dict",
          "end_location": {
            "column": 53,
            "row": 555
          },
          "location": {
            "column": 41,
            "row": 555
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 555
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 555,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nfrom typing import Any, Dict, List\nfrom unittest.mock import AsyncMock, Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom prompt_improver.learning.context_learner import (\n    ContextConfig,\n    ContextInsight,\n    ContextSpecificLearner,\n    LearningRecommendation,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 21
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 38,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 33,
      "row": 21
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 49,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 40,
      "row": 21
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 22
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 22
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 22
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.learning.context_learner import (\n    ContextSpecificLearner,\n    ContextConfig\n)",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "`prompt_improver.learning.context_learner.ContextInsight` imported but unused",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 27,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.learning.context_learner import (\n    ContextSpecificLearner,\n    ContextConfig\n)",
          "end_location": {
            "column": 2,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 29
    },
    "message": "`prompt_improver.learning.context_learner.LearningRecommendation` imported but unused",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 167
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 167
          },
          "location": {
            "column": 9,
            "row": 167
          }
        }
      ],
      "message": "Remove assignment to unused variable `context_vector`"
    },
    "location": {
      "column": 9,
      "row": 167
    },
    "message": "Local variable `context_vector` is assigned to but never used",
    "noqa_row": 167,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 84,
      "row": 296
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_context_learner_icl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 83,
            "row": 296
          },
          "location": {
            "column": 83,
            "row": 296
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 59,
      "row": 296
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 296,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom typing import Any, Dict, List, Optional\nfrom unittest.mock import MagicMock, Mock, patch\n\nimport numpy as np\nimport pandas as pd\nimport pytest\n\nfrom prompt_improver.learning.insight_engine import (\n    CausalRelationship,\n    Insight,\n    InsightConfig,\n    InsightGenerationEngine,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch, MagicMock",
          "end_location": {
            "column": 49,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.Mock`"
    },
    "location": {
      "column": 27,
      "row": 21
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 22
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 22
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 22
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 37,
      "row": 22
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 23
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 23
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 65,
      "row": 155
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 63,
      "row": 155
    },
    "message": "`causallearn.search.ConstraintBased.PC.pc` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 155,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 35,
      "row": 156
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 157
          },
          "location": {
            "column": 1,
            "row": 156
          }
        }
      ],
      "message": "Remove assignment to unused variable `causal_learn_available`"
    },
    "location": {
      "column": 13,
      "row": 156
    },
    "message": "Local variable `causal_learn_available` is assigned to but never used",
    "noqa_row": 156,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 122,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 160
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 178
          },
          "location": {
            "column": 17,
            "row": 178
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 178
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 178,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 60,
      "row": 210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 209
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 209,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 59,
      "row": 210
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 59,
            "row": 210
          },
          "location": {
            "column": 43,
            "row": 210
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_digraph`"
    },
    "location": {
      "column": 47,
      "row": 210
    },
    "message": "Local variable `mock_digraph` is assigned to but never used",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_cause",
          "end_location": {
            "column": 18,
            "row": 329
          },
          "location": {
            "column": 13,
            "row": 329
          }
        }
      ],
      "message": "Rename unused `cause` to `_cause`"
    },
    "location": {
      "column": 13,
      "row": 329
    },
    "message": "Loop control variable `cause` not used within loop body",
    "noqa_row": 329,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 58,
      "row": 329
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "analysis",
          "end_location": {
            "column": 28,
            "row": 329
          },
          "location": {
            "column": 13,
            "row": 329
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 58,
            "row": 329
          },
          "location": {
            "column": 53,
            "row": 329
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 32,
      "row": 329
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 329,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 431
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 431
          },
          "location": {
            "column": 13,
            "row": 431
          }
        }
      ],
      "message": "Remove assignment to unused variable `causal_insights`"
    },
    "location": {
      "column": 13,
      "row": 431
    },
    "message": "Local variable `causal_insights` is assigned to but never used",
    "noqa_row": 431,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 65,
      "row": 527
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 63,
      "row": 527
    },
    "message": "`causallearn.search.ConstraintBased.PC.pc` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 527,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 35,
      "row": 528
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 529
          },
          "location": {
            "column": 1,
            "row": 528
          }
        }
      ],
      "message": "Remove assignment to unused variable `causal_learn_available`"
    },
    "location": {
      "column": 13,
      "row": 528
    },
    "message": "Local variable `causal_learn_available` is assigned to but never used",
    "noqa_row": 528,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 79,
      "row": 533
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 532
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 532,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 555
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 555
          },
          "location": {
            "column": 13,
            "row": 555
          }
        }
      ],
      "message": "Remove assignment to unused variable `causal_insights`"
    },
    "location": {
      "column": 13,
      "row": 555
    },
    "message": "Local variable `causal_insights` is assigned to but never used",
    "noqa_row": 555,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 28,
      "row": 609
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_insight_engine_causal.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 31,
            "row": 609
          },
          "location": {
            "column": 13,
            "row": 609
          }
        }
      ],
      "message": "Remove assignment to unused variable `causal_insights`"
    },
    "location": {
      "column": 13,
      "row": 609
    },
    "message": "Local variable `causal_insights` is assigned to but never used",
    "noqa_row": 609,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nfrom typing import Any, Dict, List, Optional\nfrom unittest.mock import MagicMock, Mock, patch\n\nimport numpy as np\nimport pandas as pd\nimport pytest\n\nfrom prompt_improver.learning.rule_analyzer import (\n    RuleAnalysisConfig,\n    RuleEffectivenessAnalyzer,\n    RuleMetrics,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch, MagicMock",
          "end_location": {
            "column": 49,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.Mock`"
    },
    "location": {
      "column": 27,
      "row": 20
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 21
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 21
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 21
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 37,
      "row": 21
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.learning.rule_analyzer import (\n    RuleEffectivenessAnalyzer,\n    RuleAnalysisConfig\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.learning.rule_analyzer.RuleMetrics`"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`prompt_improver.learning.rule_analyzer.RuleMetrics` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 15,
      "row": 61
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 62
          },
          "location": {
            "column": 1,
            "row": 61
          }
        }
      ],
      "message": "Remove assignment to unused variable `global_std`"
    },
    "location": {
      "column": 5,
      "row": 61
    },
    "message": "Local variable `global_std` is assigned to but never used",
    "noqa_row": 61,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_obs_idx",
          "end_location": {
            "column": 24,
            "row": 89
          },
          "location": {
            "column": 17,
            "row": 89
          }
        }
      ],
      "message": "Rename unused `obs_idx` to `_obs_idx`"
    },
    "location": {
      "column": 17,
      "row": 89
    },
    "message": "Loop control variable `obs_idx` not used within loop body",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 10,
      "row": 136
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 10,
            "row": 136
          },
          "location": {
            "column": 9,
            "row": 136
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 9,
      "row": 136
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 136,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 24,
            "row": 185
          },
          "location": {
            "column": 17,
            "row": 185
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 17,
      "row": 185
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 67,
      "row": 185
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "bayesian_result",
          "end_location": {
            "column": 41,
            "row": 185
          },
          "location": {
            "column": 17,
            "row": 185
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 67,
            "row": 185
          },
          "location": {
            "column": 62,
            "row": 185
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 45,
      "row": 185
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 185,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 54,
      "row": 214
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 210
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 210,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 53,
      "row": 213
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 53,
            "row": 213
          },
          "location": {
            "column": 38,
            "row": 213
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_normal`"
    },
    "location": {
      "column": 42,
      "row": 213
    },
    "message": "Local variable `mock_normal` is assigned to but never used",
    "noqa_row": 214,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 54,
      "row": 268
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 266
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 266,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 75,
      "row": 318
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 317
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 317,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 52,
      "row": 360
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 357
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 357,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 57,
      "row": 385
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 383
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 383,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 53,
      "row": 436
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 434
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 434,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 439
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 439
          },
          "location": {
            "column": 21,
            "row": 439
          }
        }
      ],
      "message": "Remove assignment to unused variable `alpha`"
    },
    "location": {
      "column": 21,
      "row": 439
    },
    "message": "Local variable `alpha` is assigned to but never used",
    "noqa_row": 439,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 28,
      "row": 468
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 28,
            "row": 468
          },
          "location": {
            "column": 21,
            "row": 468
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 21,
      "row": 468
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 468,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 71,
      "row": 468
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "bayesian_result",
          "end_location": {
            "column": 45,
            "row": 468
          },
          "location": {
            "column": 21,
            "row": 468
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 71,
            "row": 468
          },
          "location": {
            "column": 66,
            "row": 468
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 49,
      "row": 468
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 468,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 54,
      "row": 511
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 510
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 510,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 54,
      "row": 553
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 552
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 552,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 57,
      "row": 571
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 569
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 569,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 609
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 24,
            "row": 609
          },
          "location": {
            "column": 17,
            "row": 609
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 17,
      "row": 609
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 609,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 55,
      "row": 609
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "metrics",
          "end_location": {
            "column": 33,
            "row": 609
          },
          "location": {
            "column": 17,
            "row": 609
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 55,
            "row": 609
          },
          "location": {
            "column": 50,
            "row": 609
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 37,
      "row": 609
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 609,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 28,
      "row": 639
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 28,
            "row": 639
          },
          "location": {
            "column": 21,
            "row": 639
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 21,
      "row": 639
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 639,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 71,
      "row": 639
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "bayesian_result",
          "end_location": {
            "column": 45,
            "row": 639
          },
          "location": {
            "column": 21,
            "row": 639
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 71,
            "row": 639
          },
          "location": {
            "column": 66,
            "row": 639
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 49,
      "row": 639
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 639,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM102",
    "end_location": {
      "column": 70,
      "row": 642
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 640
    },
    "message": "Use a single `if` statement instead of nested `if` statements",
    "noqa_row": 640,
    "url": "https://docs.astral.sh/ruff/rules/collapsible-if"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 54,
      "row": 660
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 659
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 659,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 23,
      "row": 664
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_bayesian.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 26,
            "row": 664
          },
          "location": {
            "column": 17,
            "row": 664
          }
        }
      ],
      "message": "Remove assignment to unused variable `result`"
    },
    "location": {
      "column": 17,
      "row": 664
    },
    "message": "Local variable `result` is assigned to but never used",
    "noqa_row": 664,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom typing import Any, Dict, List\nfrom unittest.mock import MagicMock, Mock, patch\n\nimport numpy as np\nimport pandas as pd\nimport pytest\n\nfrom prompt_improver.learning.rule_analyzer import (\n    RuleAnalysisConfig,\n    RuleEffectivenessAnalyzer,\n    RuleMetrics,\n    TimeSeriesValidationResult,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `pandas`"
    },
    "location": {
      "column": 18,
      "row": 18
    },
    "message": "`pandas` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch, MagicMock",
          "end_location": {
            "column": 49,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.Mock`"
    },
    "location": {
      "column": 27,
      "row": 20
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 21
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 21
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 21
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 21
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from prompt_improver.learning.rule_analyzer import (\n    RuleEffectivenessAnalyzer,\n    RuleAnalysisConfig,\n    TimeSeriesValidationResult\n)",
          "end_location": {
            "column": 2,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `prompt_improver.learning.rule_analyzer.RuleMetrics`"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`prompt_improver.learning.rule_analyzer.RuleMetrics` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 24,
            "row": 171
          },
          "location": {
            "column": 17,
            "row": 171
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 17,
      "row": 171
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 58,
      "row": 171
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "ts_result",
          "end_location": {
            "column": 35,
            "row": 171
          },
          "location": {
            "column": 17,
            "row": 171
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 58,
            "row": 171
          },
          "location": {
            "column": 53,
            "row": 171
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 39,
      "row": 171
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 171,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 94,
      "row": 189
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 188
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 188,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 27,
      "row": 219
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 213
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 213,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 28,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 28,
            "row": 352
          },
          "location": {
            "column": 21,
            "row": 352
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 21,
      "row": 352
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 62,
      "row": 352
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "ts_result",
          "end_location": {
            "column": 39,
            "row": 352
          },
          "location": {
            "column": 21,
            "row": 352
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 62,
            "row": 352
          },
          "location": {
            "column": 57,
            "row": 352
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 43,
      "row": 352
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 352,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 84,
      "row": 364
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 363
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 395
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 389
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 389,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 86,
      "row": 419
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 418
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 27,
      "row": 449
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 25,
      "row": 443
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 443,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 24,
      "row": 657
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_rule_id",
          "end_location": {
            "column": 24,
            "row": 657
          },
          "location": {
            "column": 17,
            "row": 657
          }
        }
      ],
      "message": "Rename unused `rule_id` to `_rule_id`"
    },
    "location": {
      "column": 17,
      "row": 657
    },
    "message": "Loop control variable `rule_id` not used within loop body",
    "noqa_row": 657,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 55,
      "row": 657
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "metrics",
          "end_location": {
            "column": 33,
            "row": 657
          },
          "location": {
            "column": 17,
            "row": 657
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 55,
            "row": 657
          },
          "location": {
            "column": 50,
            "row": 657
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 37,
      "row": 657
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 657,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 23,
      "row": 696
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/learning/test_rule_analyzer_timeseries.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 690
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 690,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.optimization.early_stopping import (\n    AdvancedEarlyStoppingFramework,\n    AlphaSpendingFunction,\n    EarlyStoppingConfig,\n    StoppingDecision,\n    create_early_stopping_framework,\n    should_stop_experiment,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 9
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 12
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_early_stopping.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 12
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.optimization.multi_armed_bandit import (\n    ArmResult,\n    BanditAlgorithm,\n    BanditConfig,\n    BanditState,\n    ContextualBandit,\n    EpsilonGreedyBandit,\n    MultiarmedBanditFramework,\n    ThompsonSamplingBandit,\n    UCBBandit,\n    create_rule_optimization_bandit,\n    intelligent_rule_selection,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 11
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 43,
            "row": 14
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.AsyncMock`"
    },
    "location": {
      "column": 27,
      "row": 14
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm,\n    EpsilonGreedyBandit,\n    UCBBandit,\n    ThompsonSamplingBandit,\n    ContextualBandit,\n    create_rule_optimization_bandit,\n    intelligent_rule_selection\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 24
    },
    "message": "`src.prompt_improver.optimization.multi_armed_bandit.ArmResult` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_multi_armed_bandit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.optimization.multi_armed_bandit import (\n    MultiarmedBanditFramework,\n    BanditConfig,\n    BanditAlgorithm,\n    EpsilonGreedyBandit,\n    UCBBandit,\n    ThompsonSamplingBandit,\n    ContextualBandit,\n    create_rule_optimization_bandit,\n    intelligent_rule_selection\n)",
          "end_location": {
            "column": 2,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 25
    },
    "message": "`src.prompt_improver.optimization.multi_armed_bandit.BanditState` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 85,
      "row": 92
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_multi_armed_bandit.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 91
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 91,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nfrom typing import Any, Dict, List, Optional\nfrom unittest.mock import MagicMock, Mock, patch\n\nimport numpy as np\nimport pytest\n\nfrom prompt_improver.optimization.rule_optimizer import (\n    GaussianProcessResult,\n    MultiObjectiveResult,\n    OptimizationConfig,\n    ParetoSolution,\n    RuleOptimizer,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 18
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch, MagicMock",
          "end_location": {
            "column": 49,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.Mock`"
    },
    "location": {
      "column": 27,
      "row": 19
    },
    "message": "`unittest.mock.Mock` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 45,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 20
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 20,
      "row": 20
    },
    "message": "`typing.Dict` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 20
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 20
    },
    "message": "`typing.Any` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 45,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 37,
      "row": 20
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 10,
      "row": 119
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 10,
            "row": 119
          },
          "location": {
            "column": 9,
            "row": 119
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 9,
      "row": 119
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 119,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 71,
      "row": 203
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 201
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 201,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 207
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 22,
            "row": 207
          },
          "location": {
            "column": 21,
            "row": 207
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 21,
      "row": 207
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 207,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 72,
      "row": 252
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 251
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 251,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 44,
      "row": 307
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_correlation_key",
          "end_location": {
            "column": 44,
            "row": 307
          },
          "location": {
            "column": 29,
            "row": 307
          }
        }
      ],
      "message": "Rename unused `correlation_key` to `_correlation_key`"
    },
    "location": {
      "column": 29,
      "row": 307
    },
    "message": "Loop control variable `correlation_key` not used within loop body",
    "noqa_row": 307,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "PERF102",
    "end_location": {
      "column": 84,
      "row": 307
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "correlation_data",
          "end_location": {
            "column": 62,
            "row": 307
          },
          "location": {
            "column": 29,
            "row": 307
          }
        },
        {
          "content": "values",
          "end_location": {
            "column": 84,
            "row": 307
          },
          "location": {
            "column": 79,
            "row": 307
          }
        }
      ],
      "message": "Replace `.items()` with `.values()`"
    },
    "location": {
      "column": 66,
      "row": 307
    },
    "message": "When using only the values of a dict use the `values()` method",
    "noqa_row": 307,
    "url": "https://docs.astral.sh/ruff/rules/incorrect-dict-iterator"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 89,
      "row": 419
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 418
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 418,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 72,
      "row": 524
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 523
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 523,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 535
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 535
          },
          "location": {
            "column": 17,
            "row": 535
          }
        }
      ],
      "message": "Remove assignment to unused variable `mo_result`"
    },
    "location": {
      "column": 17,
      "row": 535
    },
    "message": "Local variable `mo_result` is assigned to but never used",
    "noqa_row": 535,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 72,
      "row": 612
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 611
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 611,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 108,
      "row": 629
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 628
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 628,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 72,
      "row": 655
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 654
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 654,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 15,
      "row": 754
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/optimization/test_rule_optimizer_multiobjective.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 749
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 749,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 76,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/rules/test_linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import MagicMock, patch\n\nimport pytest\n\nfrom prompt_improver.analysis.linguistic_analyzer import LinguisticFeatures\nfrom prompt_improver.rules.linguistic_quality_rule import LinguisticQualityRule\n\n\n",
          "end_location": {
            "column": 1,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 5
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 5
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 5,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 6
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/rules/test_linguistic_quality_rule.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 43,
            "row": 6
          },
          "location": {
            "column": 1,
            "row": 6
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 27,
      "row": 6
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 6,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 67,
      "row": 269
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/rules/test_linguistic_quality_rule.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 66,
            "row": 269
          },
          "location": {
            "column": 54,
            "row": 269
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 269
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 269,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 15,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport hashlib\nfrom typing import Any, Callable, Dict, List, Optional, Tuple\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom sklearn.datasets import make_classification\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import train_test_split\n\n",
          "end_location": {
            "column": 1,
            "row": 32
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 22
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 22
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 22
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 62,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Optional, Any, Tuple\nfrom collections.abc import Callable",
          "end_location": {
            "column": 62,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Import from `collections.abc`"
    },
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "Import from `collections.abc` instead: `Callable`",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 62,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 62,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 62,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Any, Tuple",
          "end_location": {
            "column": 62,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 23
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 62,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Any, Tuple",
          "end_location": {
            "column": 62,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 54,
      "row": 23
    },
    "message": "`typing.Callable` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 24
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 63,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "    import art\n    from art.attacks.evasion import FastGradientMethod, ProjectedGradientDescent\n    from art.defences.preprocessor import GaussianAugmentation\n    from art.estimators.classification import SklearnClassifier\n",
          "end_location": {
            "column": 1,
            "row": 38
          },
          "location": {
            "column": 1,
            "row": 34
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 5,
      "row": 34
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 34
    },
    "message": "`art` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 34,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 81,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 57,
      "row": 35
    },
    "message": "`art.attacks.evasion.ProjectedGradientDescent` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 87,
            "row": 41
          },
          "location": {
            "column": 87,
            "row": 41
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 41
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 34,
            "row": 50
          },
          "location": {
            "column": 30,
            "row": 50
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 30,
      "row": 50
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 50
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 39,
            "row": 50
          },
          "location": {
            "column": 35,
            "row": 50
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 35,
      "row": 50
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 50,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 22,
      "row": 81
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_iteration",
          "end_location": {
            "column": 22,
            "row": 81
          },
          "location": {
            "column": 13,
            "row": 81
          }
        }
      ],
      "message": "Rename unused `iteration` to `_iteration`"
    },
    "location": {
      "column": 13,
      "row": 81
    },
    "message": "Loop control variable `iteration` not used within loop body",
    "noqa_row": 81,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 37,
      "row": 115
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 26,
      "row": 115
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 115,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 38,
            "row": 123
          },
          "location": {
            "column": 34,
            "row": 123
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 34,
      "row": 123
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 43,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 43,
            "row": 123
          },
          "location": {
            "column": 39,
            "row": 123
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 39,
      "row": 123
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 54,
      "row": 126
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 54,
            "row": 126
          },
          "location": {
            "column": 50,
            "row": 126
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 50,
      "row": 126
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 126,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 152
          },
          "location": {
            "column": 88,
            "row": 152
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 152
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 160
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 160
          },
          "location": {
            "column": 13,
            "row": 160
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 160
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 160,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 179
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 44,
            "row": 179
          },
          "location": {
            "column": 40,
            "row": 179
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 40,
      "row": 179
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 179,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S324",
    "end_location": {
      "column": 41,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": null,
    "location": {
      "column": 30,
      "row": 184
    },
    "message": "Probable use of insecure hash functions in `hashlib`: `md5`",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/hashlib-insecure-hash-function"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 193
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 35,
            "row": 193
          },
          "location": {
            "column": 31,
            "row": 193
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 31,
      "row": 193
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 193,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 61,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 61,
            "row": 200
          },
          "location": {
            "column": 56,
            "row": 200
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 56,
      "row": 200
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 78,
      "row": 200
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 78,
            "row": 200
          },
          "location": {
            "column": 74,
            "row": 200
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 74,
      "row": 200
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 200,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 77,
      "row": 213
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 77,
            "row": 213
          },
          "location": {
            "column": 73,
            "row": 213
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 73,
      "row": 213
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 213,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 61,
      "row": 373
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "int | float",
          "end_location": {
            "column": 60,
            "row": 373
          },
          "location": {
            "column": 48,
            "row": 373
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 373
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 373,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 26,
      "row": 688
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 29,
            "row": 688
          },
          "location": {
            "column": 13,
            "row": 688
          }
        }
      ],
      "message": "Remove assignment to unused variable `X_adversarial`"
    },
    "location": {
      "column": 13,
      "row": 688
    },
    "message": "Local variable `X_adversarial` is assigned to but never used",
    "noqa_row": 688,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 725
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 725
          },
          "location": {
            "column": 9,
            "row": 725
          }
        }
      ],
      "message": "Remove assignment to unused variable `results`"
    },
    "location": {
      "column": 9,
      "row": 725
    },
    "message": "Local variable `results` is assigned to but never used",
    "noqa_row": 725,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 16,
      "row": 766
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_adversarial_robustness.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 19,
            "row": 766
          },
          "location": {
            "column": 9,
            "row": 766
          }
        }
      ],
      "message": "Remove assignment to unused variable `results`"
    },
    "location": {
      "column": 9,
      "row": 766
    },
    "message": "Local variable `results` is assigned to but never used",
    "noqa_row": 766,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 39,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport hashlib\nimport secrets\nfrom typing import Any, Dict, Optional\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport jwt\nimport pytest\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 19
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 19
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 39,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 24
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 55,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 19,
      "row": 27
    },
    "message": "Possible hardcoded password assigned to: \"TEST_SECRET_KEY\"",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 47,
      "row": 57
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 47,
            "row": 57
          },
          "location": {
            "column": 43,
            "row": 57
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 43,
      "row": 57
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 57,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 73,
      "row": 66
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 73,
            "row": 66
          },
          "location": {
            "column": 49,
            "row": 66
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 49,
      "row": 66
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 66,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 66
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 66
          },
          "location": {
            "column": 58,
            "row": 66
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 66
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 66,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 90,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 90,
            "row": 76
          },
          "location": {
            "column": 66,
            "row": 76
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 66,
      "row": 76
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 76
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 76
          },
          "location": {
            "column": 75,
            "row": 76
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 76
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 76,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 73,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 73,
            "row": 89
          },
          "location": {
            "column": 49,
            "row": 89
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 49,
      "row": 89
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 62,
      "row": 89
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 62,
            "row": 89
          },
          "location": {
            "column": 58,
            "row": 89
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 58,
      "row": 89
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 89,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 48,
      "row": 102
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 21,
      "row": 102
    },
    "message": "Possible hardcoded password assigned to: \"test_password\"",
    "noqa_row": 102,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 39,
      "row": 128
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 128
    },
    "message": "Possible hardcoded password assigned to: \"password\"",
    "noqa_row": 128,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 41,
      "row": 140
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 140
    },
    "message": "Possible hardcoded password assigned to: \"password\"",
    "noqa_row": 140,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 35,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 151
    },
    "message": "Possible hardcoded password assigned to: \"password\"",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 324
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 325
          },
          "location": {
            "column": 1,
            "row": 324
          }
        }
      ],
      "message": "Remove assignment to unused variable `max_attempts`"
    },
    "location": {
      "column": 9,
      "row": 324
    },
    "message": "Local variable `max_attempts` is assigned to but never used",
    "noqa_row": 324,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 326
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 326
          },
          "location": {
            "column": 13,
            "row": 326
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 326
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 326,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 95,
      "row": 347
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 95,
            "row": 347
          },
          "location": {
            "column": 71,
            "row": 347
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 71,
      "row": 347
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 347,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 84,
      "row": 347
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 84,
            "row": 347
          },
          "location": {
            "column": 80,
            "row": 347
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 80,
      "row": 347
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 347,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S105",
    "end_location": {
      "column": 51,
      "row": 400
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authentication.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 400
    },
    "message": "Possible hardcoded password assigned to: \"password\"",
    "noqa_row": 400,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-password-string"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 22,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom enum import Enum\nfrom typing import Any, Dict, List, Optional, Set\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 20
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 20
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 20
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 21
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 50,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 22
    },
    "message": "`typing.Set` is deprecated, use `set` instead",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, List, Any, Set",
          "end_location": {
            "column": 50,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import: `typing.Optional`"
    },
    "location": {
      "column": 32,
      "row": 22
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 30,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 30,
            "row": 123
          },
          "location": {
            "column": 26,
            "row": 123
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 26,
      "row": 123
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 39,
      "row": 123
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 39,
            "row": 123
          },
          "location": {
            "column": 36,
            "row": 123
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 36,
      "row": 123
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 123,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 35,
      "row": 124
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 35,
            "row": 124
          },
          "location": {
            "column": 31,
            "row": 124
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 31,
      "row": 124
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 124,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 29,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 29,
            "row": 125
          },
          "location": {
            "column": 25,
            "row": 125
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 25,
      "row": 125
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 34,
      "row": 125
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 34,
            "row": 125
          },
          "location": {
            "column": 30,
            "row": 125
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 30,
      "row": 125
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 125,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 56,
      "row": 141
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "set",
          "end_location": {
            "column": 56,
            "row": 141
          },
          "location": {
            "column": 53,
            "row": 141
          }
        }
      ],
      "message": "Replace with `set`"
    },
    "location": {
      "column": 53,
      "row": 141
    },
    "message": "Use `set` instead of `Set` for type annotation",
    "noqa_row": 141,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 67,
      "row": 187
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_authorization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 67,
            "row": 187
          },
          "location": {
            "column": 63,
            "row": 187
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 63,
      "row": 187
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 187,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 12,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import html\nimport json\nimport os\nfrom pathlib import Path\nimport re\nimport tempfile\nfrom typing import Any, Dict, List, Optional, Union\nfrom unittest.mock import MagicMock, patch\n\nimport numpy as np\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 35,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, Optional",
          "end_location": {
            "column": 52,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 31,
      "row": 25
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Any, Dict, Optional",
          "end_location": {
            "column": 52,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 47,
      "row": 25
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 26
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 26
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 47,
      "row": 139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | tuple",
          "end_location": {
            "column": 46,
            "row": 139
          },
          "location": {
            "column": 33,
            "row": 139
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 16,
      "row": 139
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 139,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "SIM103",
    "end_location": {
      "column": 24,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": null,
    "location": {
      "column": 13,
      "row": 158
    },
    "message": "Return the negated condition directly",
    "noqa_row": 158,
    "url": "https://docs.astral.sh/ruff/rules/needless-bool"
  },
  {
    "cell": null,
    "code": "SIM103",
    "end_location": {
      "column": 24,
      "row": 178
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "return 0 < delta <= 1e-05",
          "end_location": {
            "column": 24,
            "row": 178
          },
          "location": {
            "column": 13,
            "row": 175
          }
        }
      ],
      "message": "Replace with `return 0 < delta <= 1e-05`"
    },
    "location": {
      "column": 13,
      "row": 175
    },
    "message": "Return the condition `0 < delta <= 1e-05` directly",
    "noqa_row": 175,
    "url": "https://docs.astral.sh/ruff/rules/needless-bool"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 71,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 71,
            "row": 184
          },
          "location": {
            "column": 47,
            "row": 184
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 47,
      "row": 184
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 184
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 184
          },
          "location": {
            "column": 56,
            "row": 184
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 184
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 184,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP015",
    "end_location": {
      "column": 37,
      "row": 636
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 37,
            "row": 636
          },
          "location": {
            "column": 32,
            "row": 636
          }
        }
      ],
      "message": "Remove mode argument"
    },
    "location": {
      "column": 34,
      "row": 636
    },
    "message": "Unnecessary mode argument",
    "noqa_row": 636,
    "url": "https://docs.astral.sh/ruff/rules/redundant-open-modes"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 45,
      "row": 731
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_input_sanitization.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 731
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 731,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 65,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\nfrom src.prompt_improver.service.security import SecureMCPServer\n\n\n",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 17
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 21
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 21
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 22
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 139
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 139
          },
          "location": {
            "column": 13,
            "row": 139
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 139
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 139,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 161
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 161
          },
          "location": {
            "column": 17,
            "row": 161
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 161
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 161,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "S104",
    "end_location": {
      "column": 46,
      "row": 346
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": null,
    "location": {
      "column": 37,
      "row": 346
    },
    "message": "Possible binding to all interfaces",
    "noqa_row": 346,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-bind-all-interfaces"
  },
  {
    "cell": null,
    "code": "S104",
    "end_location": {
      "column": 54,
      "row": 351
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": null,
    "location": {
      "column": 45,
      "row": 351
    },
    "message": "Possible binding to all interfaces",
    "noqa_row": 351,
    "url": "https://docs.astral.sh/ruff/rules/hardcoded-bind-all-interfaces"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 18,
      "row": 401
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 402
          },
          "location": {
            "column": 1,
            "row": 401
          }
        }
      ],
      "message": "Remove assignment to unused variable `client_ip`"
    },
    "location": {
      "column": 9,
      "row": 401
    },
    "message": "Local variable `client_ip` is assigned to but never used",
    "noqa_row": 401,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 557
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_mcp_server_security.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 557
          },
          "location": {
            "column": 17,
            "row": 557
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 557
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 557,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime\nimport json\nimport time\nfrom typing import Any, Dict, List, Optional, Union\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport numpy as np\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 28
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 18
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 19
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `json`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`json` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 23
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 23
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 49,
      "row": 23
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 25
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any",
          "end_location": {
            "column": 52,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 26,
      "row": 25
    },
    "message": "`typing.List` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 40,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any",
          "end_location": {
            "column": 52,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 25
    },
    "message": "`typing.Optional` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 52,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from typing import Dict, Any",
          "end_location": {
            "column": 52,
            "row": 25
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 47,
      "row": 25
    },
    "message": "`typing.Union` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 31,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 38
    },
    "message": "`validate_ml_input_data` is too complex (16 > 10)",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 92,
      "row": 38
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 92,
            "row": 38
          },
          "location": {
            "column": 88,
            "row": 38
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 88,
      "row": 38
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 38,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 49,
      "row": 62
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | tuple",
          "end_location": {
            "column": 48,
            "row": 62
          },
          "location": {
            "column": 35,
            "row": 62
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 18,
      "row": 62
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 62,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 22,
      "row": 151
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 25,
            "row": 151
          },
          "location": {
            "column": 13,
            "row": 151
          }
        }
      ],
      "message": "Remove assignment to unused variable `data_mean`"
    },
    "location": {
      "column": 13,
      "row": 151
    },
    "message": "Local variable `data_mean` is assigned to but never used",
    "noqa_row": 151,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 189
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 189
          },
          "location": {
            "column": 25,
            "row": 189
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 189
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 189,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 235
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 235
          },
          "location": {
            "column": 25,
            "row": 235
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 235
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 235,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "SIM103",
    "end_location": {
      "column": 21,
      "row": 276
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "return len(peaks) >= 2",
          "end_location": {
            "column": 21,
            "row": 276
          },
          "location": {
            "column": 9,
            "row": 273
          }
        }
      ],
      "message": "Replace with `return len(peaks) >= 2`"
    },
    "location": {
      "column": 9,
      "row": 273
    },
    "message": "Return the condition `len(peaks) >= 2` directly",
    "noqa_row": 273,
    "url": "https://docs.astral.sh/ruff/rules/needless-bool"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 320
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 320
          },
          "location": {
            "column": 25,
            "row": 320
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 320
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 320,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 30,
      "row": 370
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 30,
            "row": 370
          },
          "location": {
            "column": 25,
            "row": 370
          }
        }
      ],
      "message": "Remove assignment to unused variable `e`"
    },
    "location": {
      "column": 29,
      "row": 370
    },
    "message": "Local variable `e` is assigned to but never used",
    "noqa_row": 370,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 36,
      "row": 374
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 374
    },
    "message": "`validate_privacy_parameters` is too complex (12 > 10)",
    "noqa_row": 374,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 106,
      "row": 374
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 106,
            "row": 374
          },
          "location": {
            "column": 102,
            "row": 374
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 102,
      "row": 374
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 374,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 81,
      "row": 457
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 81,
            "row": 457
          },
          "location": {
            "column": 77,
            "row": 457
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 77,
      "row": 457
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 457,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "C901",
    "end_location": {
      "column": 35,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 498
    },
    "message": "`validate_inference_request` is too complex (16 > 10)",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/complex-structure"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 60,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 60,
            "row": 498
          },
          "location": {
            "column": 56,
            "row": 498
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 56,
      "row": 498
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 79,
      "row": 498
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 79,
            "row": 498
          },
          "location": {
            "column": 75,
            "row": 498
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 75,
      "row": 498
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 498,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP038",
    "end_location": {
      "column": 57,
      "row": 553
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "list | tuple",
          "end_location": {
            "column": 56,
            "row": 553
          },
          "location": {
            "column": 43,
            "row": 553
          }
        }
      ],
      "message": "Convert to `X | Y`"
    },
    "location": {
      "column": 20,
      "row": 553
    },
    "message": "Use `X | Y` in `isinstance` call instead of `(X, Y)`",
    "noqa_row": 553,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-isinstance"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 71,
      "row": 591
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 71,
            "row": 591
          },
          "location": {
            "column": 67,
            "row": 591
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 67,
      "row": 591
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 591,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 46,
      "row": 604
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_ml_security_validation.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 46,
            "row": 604
          },
          "location": {
            "column": 42,
            "row": 604
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 42,
      "row": 604
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 604,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 16,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport base64\nfrom datetime import datetime, timedelta\nimport hashlib\nimport secrets\nfrom typing import Any, Dict, List, Optional, Tuple\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nfrom cryptography.fernet import Fernet\nfrom cryptography.hazmat.primitives import hashes\nfrom cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC\nimport numpy as np\nimport pytest\n\n",
          "end_location": {
            "column": 1,
            "row": 33
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 19
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 20
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 22
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 22
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 22
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 22
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 22
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 22,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.Dict` is deprecated, use `dict` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.List` is deprecated, use `list` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "UP035",
    "end_location": {
      "column": 52,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 1,
      "row": 23
    },
    "message": "`typing.Tuple` is deprecated, use `tuple` instead",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/deprecated-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 24
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from datetime import datetime",
          "end_location": {
            "column": 41,
            "row": 24
          },
          "location": {
            "column": 1,
            "row": 24
          }
        }
      ],
      "message": "Remove unused import: `datetime.timedelta`"
    },
    "location": {
      "column": 32,
      "row": 24
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 24,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 25
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 25
          }
        }
      ],
      "message": "Remove unused import: `hashlib`"
    },
    "location": {
      "column": 8,
      "row": 25
    },
    "message": "`hashlib` imported but unused",
    "noqa_row": 25,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 27
          },
          "location": {
            "column": 1,
            "row": 26
          }
        }
      ],
      "message": "Remove unused import: `secrets`"
    },
    "location": {
      "column": 8,
      "row": 26
    },
    "message": "`secrets` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 50,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 28
          }
        }
      ],
      "message": "Remove unused import: `cryptography.hazmat.primitives.hashes`"
    },
    "location": {
      "column": 44,
      "row": 28
    },
    "message": "`cryptography.hazmat.primitives.hashes` imported but unused",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 65,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 30
          },
          "location": {
            "column": 1,
            "row": 29
          }
        }
      ],
      "message": "Remove unused import: `cryptography.hazmat.primitives.kdf.pbkdf2.PBKDF2HMAC`"
    },
    "location": {
      "column": 55,
      "row": 29
    },
    "message": "`cryptography.hazmat.primitives.kdf.pbkdf2.PBKDF2HMAC` imported but unused",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 31
          },
          "location": {
            "column": 1,
            "row": 30
          }
        }
      ],
      "message": "Remove unused import: `base64`"
    },
    "location": {
      "column": 8,
      "row": 30
    },
    "message": "`base64` imported but unused",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 35
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 12,
      "row": 35
    },
    "message": "`opacus` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 35,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 50,
      "row": 37
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 35,
      "row": 37
    },
    "message": "`opacus.validators.ModuleValidator` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 37,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B028",
    "end_location": {
      "column": 18,
      "row": 41
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": ", stacklevel=2",
          "end_location": {
            "column": 72,
            "row": 41
          },
          "location": {
            "column": 72,
            "row": 41
          }
        }
      ],
      "message": "Set `stacklevel=2`"
    },
    "location": {
      "column": 5,
      "row": 41
    },
    "message": "No explicit `stacklevel` keyword argument found",
    "noqa_row": 41,
    "url": "https://docs.astral.sh/ruff/rules/no-explicit-stacklevel"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 33,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 33,
            "row": 51
          },
          "location": {
            "column": 29,
            "row": 51
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 29,
      "row": 51
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 38,
      "row": 51
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 38,
            "row": 51
          },
          "location": {
            "column": 34,
            "row": 51
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 34,
      "row": 51
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 51,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 41,
      "row": 97
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "tuple",
          "end_location": {
            "column": 41,
            "row": 97
          },
          "location": {
            "column": 36,
            "row": 97
          }
        }
      ],
      "message": "Replace with `tuple`"
    },
    "location": {
      "column": 36,
      "row": 97
    },
    "message": "Use `tuple` instead of `Tuple` for type annotation",
    "noqa_row": 97,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 27,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 27,
            "row": 106
          },
          "location": {
            "column": 23,
            "row": 106
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 23,
      "row": 106
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 37,
      "row": 106
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 37,
            "row": 106
          },
          "location": {
            "column": 33,
            "row": 106
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 33,
      "row": 106
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 106,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 40,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 40,
            "row": 107
          },
          "location": {
            "column": 36,
            "row": 107
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 36,
      "row": 107
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 45,
      "row": 107
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 45,
            "row": 107
          },
          "location": {
            "column": 41,
            "row": 107
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 41,
      "row": 107
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 107,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "S307",
    "end_location": {
      "column": 58,
      "row": 132
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 27,
      "row": 132
    },
    "message": "Use of possibly insecure function; consider using `ast.literal_eval`",
    "noqa_row": 132,
    "url": "https://docs.astral.sh/ruff/rules/suspicious-eval-usage"
  },
  {
    "cell": null,
    "code": "UP045",
    "end_location": {
      "column": 60,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "Dict[str, Any] | None",
          "end_location": {
            "column": 60,
            "row": 152
          },
          "location": {
            "column": 36,
            "row": 152
          }
        }
      ],
      "message": "Convert to `X | None`"
    },
    "location": {
      "column": 36,
      "row": 152
    },
    "message": "Use `X | None` for type annotations",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/non-pep604-annotation-optional"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 49,
      "row": 152
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "dict",
          "end_location": {
            "column": 49,
            "row": 152
          },
          "location": {
            "column": 45,
            "row": 152
          }
        }
      ],
      "message": "Replace with `dict`"
    },
    "location": {
      "column": 45,
      "row": 152
    },
    "message": "Use `dict` instead of `Dict` for type annotation",
    "noqa_row": 152,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "B017",
    "end_location": {
      "column": 38,
      "row": 434
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 14,
      "row": 434
    },
    "message": "Do not assert blind exception: `Exception`",
    "noqa_row": 434,
    "url": "https://docs.astral.sh/ruff/rules/assert-raises-exception"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 65,
      "row": 477
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 65,
            "row": 477
          },
          "location": {
            "column": 61,
            "row": 477
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 61,
      "row": 477
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 477,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "UP006",
    "end_location": {
      "column": 44,
      "row": 494
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "list",
          "end_location": {
            "column": 44,
            "row": 494
          },
          "location": {
            "column": 40,
            "row": 494
          }
        }
      ],
      "message": "Replace with `list`"
    },
    "location": {
      "column": 40,
      "row": 494
    },
    "message": "Use `list` instead of `List` for type annotation",
    "noqa_row": 494,
    "url": "https://docs.astral.sh/ruff/rules/non-pep585-annotation"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 57,
      "row": 652
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "            from opacus.accountants import RDPAccountant\n            import torch\n            import torch.nn as nn\n",
          "end_location": {
            "column": 1,
            "row": 653
          },
          "location": {
            "column": 1,
            "row": 650
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 13,
      "row": 650
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 650,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 650
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 20,
      "row": 650
    },
    "message": "`torch` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 650,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 34,
      "row": 651
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_privacy_preserving.py",
    "fix": null,
    "location": {
      "column": 32,
      "row": 651
    },
    "message": "`torch.nn` imported but unused; consider using `importlib.util.find_spec` to test for availability",
    "noqa_row": 651,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 70,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_prompt_data_protection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nimport json\nimport re\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nimport pytest\n\nfrom src.prompt_improver.service.security import PromptDataProtection\n\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 16
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 16
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_prompt_data_protection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 21
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_prompt_data_protection.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 21
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 100,
      "row": 363
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_prompt_data_protection.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 100,
            "row": 363
          },
          "location": {
            "column": 86,
            "row": 363
          }
        }
      ],
      "message": "Remove assignment to unused variable `mock_audit`"
    },
    "location": {
      "column": 90,
      "row": 363
    },
    "message": "Local variable `mock_audit` is assigned to but never used",
    "noqa_row": 363,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 27,
      "row": 435
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/security/test_prompt_data_protection.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_prompt_key",
          "end_location": {
            "column": 27,
            "row": 435
          },
          "location": {
            "column": 17,
            "row": 435
          }
        }
      ],
      "message": "Rename unused `prompt_key` to `_prompt_key`"
    },
    "location": {
      "column": 17,
      "row": 435
    },
    "message": "Loop control variable `prompt_key` not used within loop body",
    "noqa_row": 435,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_advanced_memory_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import gc\nimport os\nfrom unittest.mock import MagicMock, patch\n\nimport psutil\nimport pytest\n\nfrom src.prompt_improver.analysis.linguistic_analyzer import (\n    LinguisticAnalyzer,\n    get_memory_optimized_config as get_ling_config,\n    get_ultra_lightweight_config,\n)\nfrom src.prompt_improver.utils.model_manager import (\n    ModelConfig,\n    ModelManager,\n    get_memory_optimized_config,\n    get_ultra_lightweight_ner_pipeline,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_advanced_memory_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 43,
            "row": 12
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 34,
      "row": 12
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 66,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_advanced_memory_optimization.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.utils.model_manager import (\n    ModelConfig, ModelManager, get_memory_optimized_config\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 14
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.utils.model_manager.get_ultra_lightweight_ner_pipeline`"
    },
    "location": {
      "column": 32,
      "row": 15
    },
    "message": "`src.prompt_improver.utils.model_manager.get_ultra_lightweight_ner_pipeline` imported but unused",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 21,
      "row": 162
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_advanced_memory_optimization.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 24,
            "row": 162
          },
          "location": {
            "column": 13,
            "row": 162
          }
        }
      ],
      "message": "Remove assignment to unused variable `features`"
    },
    "location": {
      "column": 13,
      "row": 162
    },
    "message": "Local variable `features` is assigned to but never used",
    "noqa_row": 162,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom unittest.mock import MagicMock, patch\n\nimport numpy as np\nimport pytest\n\nfrom src.prompt_improver.evaluation.statistical_analyzer import (\n    DescriptiveStats,\n    StatisticalAnalyzer,\n    StatisticalConfig,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 43,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import: `unittest.mock.MagicMock`"
    },
    "location": {
      "column": 34,
      "row": 11
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 21,
      "row": 16
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.evaluation.statistical_analyzer import (\n    StatisticalAnalyzer, \n    StatisticalConfig\n)",
          "end_location": {
            "column": 2,
            "row": 17
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats`"
    },
    "location": {
      "column": 5,
      "row": 16
    },
    "message": "`src.prompt_improver.evaluation.statistical_analyzer.DescriptiveStats` imported but unused",
    "noqa_row": 16,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 97,
      "row": 284
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 96,
            "row": 284
          },
          "location": {
            "column": 96,
            "row": 284
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 26,
      "row": 284
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 284,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 14,
      "row": 393
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_bootstrap_ci.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 14,
            "row": 393
          },
          "location": {
            "column": 13,
            "row": 393
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 13,
      "row": 393
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 393,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 87,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_cuped_variance_reduction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom scipy import stats\n\nfrom src.prompt_improver.services.ab_testing import ABTestingService, ExperimentResult\n\n\n",
          "end_location": {
            "column": 1,
            "row": 26
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_cuped_variance_reduction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_cuped_variance_reduction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats`"
    },
    "location": {
      "column": 19,
      "row": 20
    },
    "message": "`scipy.stats` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_cuped_variance_reduction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 87,
      "row": 23
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_cuped_variance_reduction.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.services.ab_testing import ABTestingService",
          "end_location": {
            "column": 87,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import: `src.prompt_improver.services.ab_testing.ExperimentResult`"
    },
    "location": {
      "column": 71,
      "row": 23
    },
    "message": "`src.prompt_improver.services.ab_testing.ExperimentResult` imported but unused",
    "noqa_row": 23,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\nfrom unittest.mock import MagicMock, patch\n\nimport pytest\n\nfrom src.prompt_improver.services.health.metrics import (\n    HEALTH_CHECK_DURATION,\n    HEALTH_CHECK_RESPONSE_TIME,\n    HEALTH_CHECK_STATUS,\n    HEALTH_CHECKS_TOTAL,\n    PROMETHEUS_AVAILABLE,\n    _Timer,\n    get_health_metrics_summary,\n    instrument_health_check,\n    reset_health_metrics,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.services.health.metrics import (\n    _Timer,\n    HEALTH_CHECK_DURATION,\n    instrument_health_check,\n    get_health_metrics_summary,\n    reset_health_metrics,\n    PROMETHEUS_AVAILABLE\n)",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 11
    },
    "message": "`src.prompt_improver.services.health.metrics.HEALTH_CHECK_STATUS` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 12
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.services.health.metrics import (\n    _Timer,\n    HEALTH_CHECK_DURATION,\n    instrument_health_check,\n    get_health_metrics_summary,\n    reset_health_metrics,\n    PROMETHEUS_AVAILABLE\n)",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 12
    },
    "message": "`src.prompt_improver.services.health.metrics.HEALTH_CHECKS_TOTAL` imported but unused",
    "noqa_row": 12,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 31,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.services.health.metrics import (\n    _Timer,\n    HEALTH_CHECK_DURATION,\n    instrument_health_check,\n    get_health_metrics_summary,\n    reset_health_metrics,\n    PROMETHEUS_AVAILABLE\n)",
          "end_location": {
            "column": 2,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 13
    },
    "message": "`src.prompt_improver.services.health.metrics.HEALTH_CHECK_RESPONSE_TIME` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM117",
    "end_location": {
      "column": 36,
      "row": 43
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "        with pytest.raises(ValueError), _Timer() as timer:\n            raise ValueError(\"Test exception\")",
          "end_location": {
            "column": 51,
            "row": 44
          },
          "location": {
            "column": 1,
            "row": 42
          }
        }
      ],
      "message": "Combine `with` statements"
    },
    "location": {
      "column": 9,
      "row": 42
    },
    "message": "Use a single `with` statement with multiple contexts instead of nested `with` statements",
    "noqa_row": 42,
    "url": "https://docs.astral.sh/ruff/rules/multiple-with-statements"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 93,
      "row": 86
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from src.prompt_improver.services.health.metrics import (\n            Summary,\n            _create_metric_safe,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 87
          },
          "location": {
            "column": 1,
            "row": 86
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 86
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 86,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 93,
      "row": 99
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "        from src.prompt_improver.services.health.metrics import (\n            Summary,\n            _create_metric_safe,\n        )\n",
          "end_location": {
            "column": 1,
            "row": 100
          },
          "location": {
            "column": 1,
            "row": 99
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 9,
      "row": 99
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 99,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 45,
      "row": 116
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 45,
            "row": 116
          },
          "location": {
            "column": 36,
            "row": 116
          }
        }
      ],
      "message": "Remove assignment to unused variable `timer`"
    },
    "location": {
      "column": 40,
      "row": 116
    },
    "message": "Local variable `timer` is assigned to but never used",
    "noqa_row": 116,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 42,
      "row": 181
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_timer.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 42,
            "row": 181
          },
          "location": {
            "column": 33,
            "row": 181
          }
        }
      ],
      "message": "Remove assignment to unused variable `timer`"
    },
    "location": {
      "column": 37,
      "row": 181
    },
    "message": "Local variable `timer` is assigned to but never used",
    "noqa_row": 181,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom scipy import stats\n\nfrom src.prompt_improver.optimization.optimization_validator import (\n    OptimizationValidator,\n    ValidationConfig,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 29
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 15,
      "row": 17
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 17
          }
        }
      ],
      "message": "Remove unused import: `asyncio`"
    },
    "location": {
      "column": 8,
      "row": 17
    },
    "message": "`asyncio` imported but unused",
    "noqa_row": 17,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 32,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 18
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 18
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 18
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 30,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 22,
      "row": 19
    },
    "message": "`datetime.datetime` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 41,
      "row": 19
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 20
          },
          "location": {
            "column": 1,
            "row": 19
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 32,
      "row": 19
    },
    "message": "`datetime.timedelta` imported but unused",
    "noqa_row": 19,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "SIM108",
    "end_location": {
      "column": 37,
      "row": 316
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": null,
    "location": {
      "column": 9,
      "row": 313
    },
    "message": "Use ternary operator `improvement_factor = 0.7 if improvement_direction == \"decrease\" else 1.3` instead of `if`-`else`-block",
    "noqa_row": 313,
    "url": "https://docs.astral.sh/ruff/rules/if-else-block-instead-of-if-exp"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 26,
      "row": 381
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_metrics_validation_framework.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_train_idx",
          "end_location": {
            "column": 26,
            "row": 381
          },
          "location": {
            "column": 17,
            "row": 381
          }
        }
      ],
      "message": "Rename unused `train_idx` to `_train_idx`"
    },
    "location": {
      "column": 17,
      "row": 381
    },
    "message": "Loop control variable `train_idx` not used within loop body",
    "noqa_row": 381,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 2,
      "row": 34
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nfrom datetime import datetime, timedelta\nfrom unittest.mock import AsyncMock, MagicMock, patch\nimport warnings\n\nimport numpy as np\nimport pytest\nfrom scipy import stats\n\nfrom src.prompt_improver.learning.failure_analyzer import (\n    EdgeCase,\n    FailureConfig,\n    FailureModeAnalyzer,\n    FailurePattern,\n    FailureRecommendation,\n    MLFailureMode,\n    PrometheusAlert,\n    RobustnessTestResult,\n    RootCause,\n    SystematicIssue,\n)\n\n\n",
          "end_location": {
            "column": 1,
            "row": 37
          },
          "location": {
            "column": 1,
            "row": 15
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 15
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 15,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 34,
      "row": 18
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 54,
      "row": 18
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 18
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 45,
      "row": 18
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 18,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 24,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 21
          },
          "location": {
            "column": 1,
            "row": 20
          }
        }
      ],
      "message": "Remove unused import: `scipy.stats`"
    },
    "location": {
      "column": 19,
      "row": 20
    },
    "message": "`scipy.stats` imported but unused",
    "noqa_row": 20,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 16,
      "row": 21
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 22
          },
          "location": {
            "column": 1,
            "row": 21
          }
        }
      ],
      "message": "Remove unused import: `warnings`"
    },
    "location": {
      "column": 8,
      "row": 21
    },
    "message": "`warnings` imported but unused",
    "noqa_row": 21,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 19,
      "row": 26
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 26
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.FailurePattern` imported but unused",
    "noqa_row": 26,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 27
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 27
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.RootCause` imported but unused",
    "noqa_row": 27,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 13,
      "row": 28
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 28
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.EdgeCase` imported but unused",
    "noqa_row": 28,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 29
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 29
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.SystematicIssue` imported but unused",
    "noqa_row": 29,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 26,
      "row": 30
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 30
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.FailureRecommendation` imported but unused",
    "noqa_row": 30,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 18,
      "row": 31
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 31
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.MLFailureMode` imported but unused",
    "noqa_row": 31,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 25,
      "row": 32
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 32
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.RobustnessTestResult` imported but unused",
    "noqa_row": 32,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 20,
      "row": 33
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from src.prompt_improver.learning.failure_analyzer import (\n    FailureModeAnalyzer,\n    FailureConfig\n)",
          "end_location": {
            "column": 2,
            "row": 34
          },
          "location": {
            "column": 1,
            "row": 23
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 5,
      "row": 33
    },
    "message": "`src.prompt_improver.learning.failure_analyzer.PrometheusAlert` imported but unused",
    "noqa_row": 33,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 29,
      "row": 215
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 32,
            "row": 215
          },
          "location": {
            "column": 9,
            "row": 215
          }
        }
      ],
      "message": "Remove assignment to unused variable `infrastructure_modes`"
    },
    "location": {
      "column": 9,
      "row": 215
    },
    "message": "Local variable `infrastructure_modes` is assigned to but never used",
    "noqa_row": 215,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 25,
      "row": 216
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 28,
            "row": 216
          },
          "location": {
            "column": 9,
            "row": 216
          }
        }
      ],
      "message": "Remove assignment to unused variable `deployment_modes`"
    },
    "location": {
      "column": 9,
      "row": 216
    },
    "message": "Local variable `deployment_modes` is assigned to but never used",
    "noqa_row": 216,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 17,
      "row": 512
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_mode",
          "end_location": {
            "column": 17,
            "row": 512
          },
          "location": {
            "column": 13,
            "row": 512
          }
        }
      ],
      "message": "Rename unused `mode` to `_mode`"
    },
    "location": {
      "column": 13,
      "row": 512
    },
    "message": "Loop control variable `mode` not used within loop body",
    "noqa_row": 512,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 25,
      "row": 548
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_ml_fmea_framework.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 28,
            "row": 548
          },
          "location": {
            "column": 9,
            "row": 548
          }
        }
      ],
      "message": "Remove assignment to unused variable `identified_modes`"
    },
    "location": {
      "column": 9,
      "row": 548
    },
    "message": "Local variable `identified_modes` is assigned to but never used",
    "noqa_row": 548,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 59,
      "row": 8
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_psycopg3_server_side_binding.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import os\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom pydantic import BaseModel\nimport pytest\n\nfrom prompt_improver.database.config import DatabaseConfig\nfrom prompt_improver.database.psycopg_client import TypeSafePsycopgClient\n\n\n",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 3
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 3
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 3,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 82,
      "row": 20
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import json\nimport string\nfrom unittest.mock import MagicMock, patch\n\nfrom hypothesis import (\n    HealthCheck,\n    Verbosity,\n    assume,\n    given,\n    settings,\n    strategies as st,\n)\nfrom hypothesis.stateful import Bundle, RuleBasedStateMachine, precondition, rule\nimport pytest\n\n\n",
          "end_location": {
            "column": 1,
            "row": 23
          },
          "location": {
            "column": 1,
            "row": 7
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 7
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 7,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 9
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 43,
      "row": 9
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 10
          },
          "location": {
            "column": 1,
            "row": 9
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 9
    },
    "message": "`unittest.mock.patch` imported but unused",
    "noqa_row": 9,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 14,
      "row": 14
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from hypothesis import (\n    HealthCheck,\n    assume,\n    given,\n    settings,\n    strategies as st,\n)",
          "end_location": {
            "column": 2,
            "row": 19
          },
          "location": {
            "column": 1,
            "row": 12
          }
        }
      ],
      "message": "Remove unused import: `hypothesis.Verbosity`"
    },
    "location": {
      "column": 5,
      "row": 14
    },
    "message": "`hypothesis.Verbosity` imported but unused",
    "noqa_row": 14,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B007",
    "end_location": {
      "column": 18,
      "row": 168
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "_i",
          "end_location": {
            "column": 18,
            "row": 168
          },
          "location": {
            "column": 17,
            "row": 168
          }
        }
      ],
      "message": "Rename unused `i` to `_i`"
    },
    "location": {
      "column": 17,
      "row": 168
    },
    "message": "Loop control variable `i` not used within loop body",
    "noqa_row": 168,
    "url": "https://docs.astral.sh/ruff/rules/unused-loop-control-variable"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 40,
      "row": 454
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "metadata.enabled",
          "end_location": {
            "column": 40,
            "row": 454
          },
          "location": {
            "column": 16,
            "row": 454
          }
        }
      ],
      "message": "Replace with `metadata.enabled`"
    },
    "location": {
      "column": 16,
      "row": 454
    },
    "message": "Avoid equality comparisons to `True`; use `metadata.enabled:` for truth checks",
    "noqa_row": 454,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "E712",
    "end_location": {
      "column": 40,
      "row": 470
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_rule_engine_unit.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "metadata.enabled",
          "end_location": {
            "column": 40,
            "row": 470
          },
          "location": {
            "column": 16,
            "row": 470
          }
        }
      ],
      "message": "Replace with `metadata.enabled`"
    },
    "location": {
      "column": 16,
      "row": 470
    },
    "message": "Avoid equality comparisons to `True`; use `metadata.enabled:` for truth checks",
    "noqa_row": 470,
    "url": "https://docs.astral.sh/ruff/rules/true-false-comparison"
  },
  {
    "cell": null,
    "code": "I001",
    "end_location": {
      "column": 61,
      "row": 15
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "import asyncio\nimport time\nfrom unittest.mock import AsyncMock, MagicMock, patch\n\nfrom hypothesis import assume, given, settings, strategies as st\nfrom hypothesis.stateful import Bundle, RuleBasedStateMachine, precondition, rule\nimport pytest\n\nfrom prompt_improver.utils.session_store import SessionStore\n\n\n",
          "end_location": {
            "column": 1,
            "row": 18
          },
          "location": {
            "column": 1,
            "row": 8
          }
        }
      ],
      "message": "Organize imports"
    },
    "location": {
      "column": 1,
      "row": 8
    },
    "message": "Import block is un-sorted or un-formatted",
    "noqa_row": 8,
    "url": "https://docs.astral.sh/ruff/rules/unsorted-imports"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 12,
      "row": 10
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 1,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 10
          }
        }
      ],
      "message": "Remove unused import: `time`"
    },
    "location": {
      "column": 8,
      "row": 10
    },
    "message": "`time` imported but unused",
    "noqa_row": 10,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 36,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 27,
      "row": 11
    },
    "message": "`unittest.mock.AsyncMock` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 47,
      "row": 11
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from unittest.mock import patch",
          "end_location": {
            "column": 54,
            "row": 11
          },
          "location": {
            "column": 1,
            "row": 11
          }
        }
      ],
      "message": "Remove unused import"
    },
    "location": {
      "column": 38,
      "row": 11
    },
    "message": "`unittest.mock.MagicMock` imported but unused",
    "noqa_row": 11,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "F401",
    "end_location": {
      "column": 82,
      "row": 13
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": "from hypothesis.stateful import RuleBasedStateMachine, Bundle, rule",
          "end_location": {
            "column": 82,
            "row": 13
          },
          "location": {
            "column": 1,
            "row": 13
          }
        }
      ],
      "message": "Remove unused import: `hypothesis.stateful.precondition`"
    },
    "location": {
      "column": 70,
      "row": 13
    },
    "message": "`hypothesis.stateful.precondition` imported but unused",
    "noqa_row": 13,
    "url": "https://docs.astral.sh/ruff/rules/unused-import"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 44,
      "row": 328
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 43,
            "row": 328
          },
          "location": {
            "column": 43,
            "row": 328
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 27,
      "row": 328
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 328,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "B905",
    "end_location": {
      "column": 53,
      "row": 333
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "safe",
      "edits": [
        {
          "content": ", strict=False",
          "end_location": {
            "column": 52,
            "row": 333
          },
          "location": {
            "column": 52,
            "row": 333
          }
        }
      ],
      "message": "Add explicit value for parameter `strict=`"
    },
    "location": {
      "column": 36,
      "row": 333
    },
    "message": "`zip()` without an explicit `strict=` parameter",
    "noqa_row": 333,
    "url": "https://docs.astral.sh/ruff/rules/zip-without-explicit-strict"
  },
  {
    "cell": null,
    "code": "F841",
    "end_location": {
      "column": 14,
      "row": 400
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": {
      "applicability": "unsafe",
      "edits": [
        {
          "content": "",
          "end_location": {
            "column": 17,
            "row": 400
          },
          "location": {
            "column": 9,
            "row": 400
          }
        }
      ],
      "message": "Remove assignment to unused variable `value`"
    },
    "location": {
      "column": 9,
      "row": 400
    },
    "message": "Local variable `value` is assigned to but never used",
    "noqa_row": 400,
    "url": "https://docs.astral.sh/ruff/rules/unused-variable"
  },
  {
    "cell": null,
    "code": "PERF401",
    "end_location": {
      "column": 64,
      "row": 462
    },
    "filename": "/Users/lukemckenzie/prompt-improver/tests/unit/test_session_store_ttl.py",
    "fix": null,
    "location": {
      "column": 17,
      "row": 462
    },
    "message": "Use a list comprehension to create a transformed list",
    "noqa_row": 462,
    "url": "https://docs.astral.sh/ruff/rules/manual-list-comprehension"
  }
]