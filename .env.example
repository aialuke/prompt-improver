# APES Environment Variables Example
# Copy this file to .env and update with your actual values

# ===================================
# Database Configuration
# ===================================

# PostgreSQL Database Settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=apes_production
DB_USER=apes_user
DB_PASSWORD=apes_secure_password_2024

# Database URL (alternative to individual settings)
DATABASE_URL=postgresql://apes_user:apes_secure_password_2024@localhost:5432/apes_production

# Test Database (for development)
TEST_DB_NAME=apes_test
TEST_DATABASE_URL=postgresql://apes_user:apes_secure_password_2024@localhost:5432/apes_test

# ===================================
# MCP Configuration
# ===================================

# MCP Postgres Server Configuration
MCP_POSTGRES_ENABLED=true
MCP_POSTGRES_CONNECTION_STRING=postgresql://apes_user:apes_secure_password_2024@localhost:5432/apes_production

# ===================================
# FastAPI Configuration
# ===================================

# FastAPI Server Settings
FASTAPI_HOST=127.0.0.1
FASTAPI_PORT=8000
FASTAPI_DEBUG=true
FASTAPI_RELOAD=true

# API Security
API_SECRET_KEY=your-secret-key-here-change-in-production
API_ALGORITHM=HS256
API_ACCESS_TOKEN_EXPIRE_MINUTES=30

# ===================================
# ML and MLflow Configuration
# ===================================

# MLflow Tracking
MLFLOW_TRACKING_URI=http://127.0.0.1:5000
MLFLOW_EXPERIMENT_NAME=apes_rule_optimization
MLFLOW_S3_ENDPOINT_URL=  # For S3-compatible storage
MLFLOW_ARTIFACT_ROOT=./mlruns

# ML Model Settings
ML_MODEL_CACHE_DIR=./models
ML_ENABLE_GPU=false
ML_BATCH_SIZE=32
ML_MAX_WORKERS=4

# ===================================
# Logging Configuration
# ===================================

# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=detailed  # simple, detailed, json
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/apes.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# ===================================
# Rule Engine Configuration
# ===================================

# Rule Processing
RULE_ENGINE_CACHE_ENABLED=true
RULE_ENGINE_CACHE_TTL=3600
RULE_ENGINE_MAX_WORKERS=8
RULE_ENGINE_TIMEOUT=30

# Rule Discovery
ENABLE_RULE_DISCOVERY=true
RULE_DISCOVERY_INTERVAL=86400  # 24 hours in seconds
MIN_RULE_CONFIDENCE=0.7

# ===================================
# Performance and Monitoring
# ===================================

# Performance Settings
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000  # milliseconds
ENABLE_QUERY_CACHE=true
CACHE_SIZE_MB=256

# Health Checks
HEALTH_CHECK_INTERVAL=60  # seconds
ENABLE_HEALTH_ENDPOINT=true

# ===================================
# Development and Testing
# ===================================

# Development Mode
DEVELOPMENT_MODE=true
ENABLE_DEBUG_TOOLBAR=true
ENABLE_CORS=true
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# Testing
RUN_MIGRATIONS_ON_STARTUP=false
ENABLE_TEST_DATA=false
TEST_DATA_SIZE=100

# ===================================
# External Services (Optional)
# ===================================

# Redis (for caching, if implemented)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# Prometheus (for metrics, if implemented)
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ===================================
# Security
# ===================================

# Security Settings
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=100
ENABLE_API_KEY_AUTH=false
API_KEY=  # Set in production if API key auth is enabled

# CORS Settings
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# ===================================
# Backup and Maintenance
# ===================================

# Database Backups
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE=0 0 * * *  # Daily at midnight
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=./database/backups

# Data Retention
DATA_RETENTION_ENABLED=true
CLEANUP_SCHEDULE=0 2 * * 0  # Weekly at 2 AM Sunday

# ===================================
# Cloud Configuration (Optional)
# ===================================

# AWS Settings (if deploying to AWS)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=

# Docker Settings
DOCKER_REGISTRY=
DOCKER_IMAGE_TAG=latest